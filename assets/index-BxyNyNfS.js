(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function J0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $d={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function TA(){if(lv)return xl;lv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var uv;function bA(){return uv||(uv=1,$d.exports=TA()),$d.exports}var U=bA(),Xd={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function wA(){if(cv)return Ne;cv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,F={};function j(x,te,oe){this.props=x,this.context=te,this.refs=F,this.updater=oe||M}j.prototype.isReactComponent={},j.prototype.setState=function(x,te){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,te,"setState")},j.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Y(){}Y.prototype=j.prototype;function re(x,te,oe){this.props=x,this.context=te,this.refs=F,this.updater=oe||M}var ne=re.prototype=new Y;ne.constructor=re,V(ne,j.prototype),ne.isPureReactComponent=!0;var de=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},Se=Object.prototype.hasOwnProperty;function O(x,te,oe,ie,ge,Ce){return oe=Ce.ref,{$$typeof:i,type:x,key:te,ref:oe!==void 0?oe:null,props:Ce}}function S(x,te){return O(x.type,te,void 0,void 0,void 0,x.props)}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function N(x){var te={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(oe){return te[oe]})}var P=/\/+/g;function L(x,te){return typeof x=="object"&&x!==null&&x.key!=null?N(""+x.key):te.toString(36)}function C(){}function At(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(C,C):(x.status="pending",x.then(function(te){x.status==="pending"&&(x.status="fulfilled",x.value=te)},function(te){x.status==="pending"&&(x.status="rejected",x.reason=te)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function rt(x,te,oe,ie,ge){var Ce=typeof x;(Ce==="undefined"||Ce==="boolean")&&(x=null);var be=!1;if(x===null)be=!0;else switch(Ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(x.$$typeof){case i:case e:be=!0;break;case E:return be=x._init,rt(be(x._payload),te,oe,ie,ge)}}if(be)return ge=ge(x),be=ie===""?"."+L(x,0):ie,de(ge)?(oe="",be!=null&&(oe=be.replace(P,"$&/")+"/"),rt(ge,te,oe,"",function(Ee){return Ee})):ge!=null&&(R(ge)&&(ge=S(ge,oe+(ge.key==null||x&&x.key===ge.key?"":(""+ge.key).replace(P,"$&/")+"/")+be)),te.push(ge)),1;be=0;var ft=ie===""?".":ie+":";if(de(x))for(var le=0;le<x.length;le++)ie=x[le],Ce=ft+L(ie,le),be+=rt(ie,te,oe,Ce,ge);else if(le=A(x),typeof le=="function")for(x=le.call(x),le=0;!(ie=x.next()).done;)ie=ie.value,Ce=ft+L(ie,le++),be+=rt(ie,te,oe,Ce,ge);else if(Ce==="object"){if(typeof x.then=="function")return rt(At(x),te,oe,ie,ge);throw te=String(x),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return be}function $(x,te,oe){if(x==null)return x;var ie=[],ge=0;return rt(x,ie,"","",function(Ce){return te.call(oe,Ce,ge++)}),ie}function ae(x){if(x._status===-1){var te=x._result;te=te(),te.then(function(oe){(x._status===0||x._status===-1)&&(x._status=1,x._result=oe)},function(oe){(x._status===0||x._status===-1)&&(x._status=2,x._result=oe)}),x._status===-1&&(x._status=0,x._result=te)}if(x._status===1)return x._result.default;throw x._result}var me=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Le(){}return Ne.Children={map:$,forEach:function(x,te,oe){$(x,function(){te.apply(this,arguments)},oe)},count:function(x){var te=0;return $(x,function(){te++}),te},toArray:function(x){return $(x,function(te){return te})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ne.Component=j,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=re,Ne.StrictMode=s,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(x){return fe.H.useMemoCache(x)}},Ne.cache=function(x){return function(){return x.apply(null,arguments)}},Ne.cloneElement=function(x,te,oe){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ie=V({},x.props),ge=x.key,Ce=void 0;if(te!=null)for(be in te.ref!==void 0&&(Ce=void 0),te.key!==void 0&&(ge=""+te.key),te)!Se.call(te,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&te.ref===void 0||(ie[be]=te[be]);var be=arguments.length-2;if(be===1)ie.children=oe;else if(1<be){for(var ft=Array(be),le=0;le<be;le++)ft[le]=arguments[le+2];ie.children=ft}return O(x.type,ge,void 0,void 0,Ce,ie)},Ne.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Ne.createElement=function(x,te,oe){var ie,ge={},Ce=null;if(te!=null)for(ie in te.key!==void 0&&(Ce=""+te.key),te)Se.call(te,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=te[ie]);var be=arguments.length-2;if(be===1)ge.children=oe;else if(1<be){for(var ft=Array(be),le=0;le<be;le++)ft[le]=arguments[le+2];ge.children=ft}if(x&&x.defaultProps)for(ie in be=x.defaultProps,be)ge[ie]===void 0&&(ge[ie]=be[ie]);return O(x,Ce,void 0,void 0,null,ge)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(x){return{$$typeof:m,render:x}},Ne.isValidElement=R,Ne.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ae}},Ne.memo=function(x,te){return{$$typeof:y,type:x,compare:te===void 0?null:te}},Ne.startTransition=function(x){var te=fe.T,oe={};fe.T=oe;try{var ie=x(),ge=fe.S;ge!==null&&ge(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Le,me)}catch(Ce){me(Ce)}finally{fe.T=te}},Ne.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Ne.use=function(x){return fe.H.use(x)},Ne.useActionState=function(x,te,oe){return fe.H.useActionState(x,te,oe)},Ne.useCallback=function(x,te){return fe.H.useCallback(x,te)},Ne.useContext=function(x){return fe.H.useContext(x)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(x,te){return fe.H.useDeferredValue(x,te)},Ne.useEffect=function(x,te,oe){var ie=fe.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(x,te)},Ne.useId=function(){return fe.H.useId()},Ne.useImperativeHandle=function(x,te,oe){return fe.H.useImperativeHandle(x,te,oe)},Ne.useInsertionEffect=function(x,te){return fe.H.useInsertionEffect(x,te)},Ne.useLayoutEffect=function(x,te){return fe.H.useLayoutEffect(x,te)},Ne.useMemo=function(x,te){return fe.H.useMemo(x,te)},Ne.useOptimistic=function(x,te){return fe.H.useOptimistic(x,te)},Ne.useReducer=function(x,te,oe){return fe.H.useReducer(x,te,oe)},Ne.useRef=function(x){return fe.H.useRef(x)},Ne.useState=function(x){return fe.H.useState(x)},Ne.useSyncExternalStore=function(x,te,oe){return fe.H.useSyncExternalStore(x,te,oe)},Ne.useTransition=function(){return fe.H.useTransition()},Ne.version="19.1.0",Ne}var hv;function Hm(){return hv||(hv=1,Xd.exports=wA()),Xd.exports}var H=Hm();const AA=J0(H);var Wd={exports:{}},Nl={},Zd={exports:{}},Jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function SA(){return fv||(fv=1,function(i){function e($,ae){var me=$.length;$.push(ae);e:for(;0<me;){var Le=me-1>>>1,x=$[Le];if(0<o(x,ae))$[Le]=ae,$[me]=x,me=Le;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ae=$[0],me=$.pop();if(me!==ae){$[0]=me;e:for(var Le=0,x=$.length,te=x>>>1;Le<te;){var oe=2*(Le+1)-1,ie=$[oe],ge=oe+1,Ce=$[ge];if(0>o(ie,me))ge<x&&0>o(Ce,ie)?($[Le]=Ce,$[ge]=me,Le=ge):($[Le]=ie,$[oe]=me,Le=oe);else if(ge<x&&0>o(Ce,me))$[Le]=Ce,$[ge]=me,Le=ge;else break e}}return ae}function o($,ae){var me=$.sortIndex-ae.sortIndex;return me!==0?me:$.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,w=null,A=3,M=!1,V=!1,F=!1,j=!1,Y=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function de($){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=$)s(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(y)}}function fe($){if(F=!1,de($),!V)if(n(p)!==null)V=!0,Se||(Se=!0,L());else{var ae=n(y);ae!==null&&rt(fe,ae.startTime-$)}}var Se=!1,O=-1,S=5,R=-1;function N(){return j?!0:!(i.unstable_now()-R<S)}function P(){if(j=!1,Se){var $=i.unstable_now();R=$;var ae=!0;try{e:{V=!1,F&&(F=!1,re(O),O=-1),M=!0;var me=A;try{t:{for(de($),w=n(p);w!==null&&!(w.expirationTime>$&&N());){var Le=w.callback;if(typeof Le=="function"){w.callback=null,A=w.priorityLevel;var x=Le(w.expirationTime<=$);if($=i.unstable_now(),typeof x=="function"){w.callback=x,de($),ae=!0;break t}w===n(p)&&s(p),de($)}else s(p);w=n(p)}if(w!==null)ae=!0;else{var te=n(y);te!==null&&rt(fe,te.startTime-$),ae=!1}}break e}finally{w=null,A=me,M=!1}ae=void 0}}finally{ae?L():Se=!1}}}var L;if(typeof ne=="function")L=function(){ne(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,At=C.port2;C.port1.onmessage=P,L=function(){At.postMessage(null)}}else L=function(){Y(P,0)};function rt($,ae){O=Y(function(){$(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function($){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var me=A;A=ae;try{return $()}finally{A=me}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=A;A=$;try{return ae()}finally{A=me}},i.unstable_scheduleCallback=function($,ae,me){var Le=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Le+me:Le):me=Le,$){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=me+x,$={id:E++,callback:ae,priorityLevel:$,startTime:me,expirationTime:x,sortIndex:-1},me>Le?($.sortIndex=me,e(y,$),n(p)===null&&$===n(y)&&(F?(re(O),O=-1):F=!0,rt(fe,me-Le))):($.sortIndex=x,e(p,$),V||M||(V=!0,Se||(Se=!0,L()))),$},i.unstable_shouldYield=N,i.unstable_wrapCallback=function($){var ae=A;return function(){var me=A;A=ae;try{return $.apply(this,arguments)}finally{A=me}}}}(Jd)),Jd}var dv;function RA(){return dv||(dv=1,Zd.exports=SA()),Zd.exports}var em={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function IA(){if(mv)return Wt;mv=1;var i=Hm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Wt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Wt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Wt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,y){return p(y)},Wt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.1.0",Wt}var pv;function CA(){if(pv)return em.exports;pv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),em.exports=IA(),em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function xA(){if(gv)return Nl;gv=1;var i=RA(),e=Hm(),n=CA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function At(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case j:return"Profiler";case F:return"StrictMode";case fe:return"Suspense";case Se:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case de:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return r=t.displayName||null,r!==null?r:At(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return At(t(r))}catch{}}return null}var rt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Le=[],x=-1;function te(t){return{current:t}}function oe(t){0>x||(t.current=Le[x],Le[x]=null,x--)}function ie(t,r){x++,Le[x]=t.current,t.current=r}var ge=te(null),Ce=te(null),be=te(null),ft=te(null);function le(t,r){switch(ie(be,r),ie(Ce,t),ie(ge,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?k_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=k_(r),t=U_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(ge),ie(ge,t)}function Ee(){oe(ge),oe(Ce),oe(be)}function xe(t){t.memoizedState!==null&&ie(ft,t);var r=ge.current,a=U_(r,t.type);r!==a&&(ie(Ce,t),ie(ge,a))}function zt(t){Ce.current===t&&(oe(ge),oe(Ce)),ft.current===t&&(oe(ft),Al._currentValue=me)}var un=Object.prototype.hasOwnProperty,Bn=i.unstable_scheduleCallback,pn=i.unstable_cancelCallback,qn=i.unstable_shouldYield,tr=i.unstable_requestPaint,Mt=i.unstable_now,Rr=i.unstable_getCurrentPriorityLevel,nn=i.unstable_ImmediatePriority,yt=i.unstable_UserBlockingPriority,Rn=i.unstable_NormalPriority,In=i.unstable_LowPriority,Ir=i.unstable_IdlePriority,ea=i.log,wo=i.unstable_setDisableYieldValue,it=null,Ge=null;function gn(t){if(typeof ea=="function"&&wo(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(it,t)}catch{}}var $t=Math.clz32?Math.clz32:us,yu=Math.log,Xh=Math.LN2;function us(t){return t>>>=0,t===0?32:31-(yu(t)/Xh|0)|0}var cs=256,hs=4194304;function Hn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ta(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Hn(l):(v&=T,v!==0?h=Hn(v):a||(a=T&~t,a!==0&&(h=Hn(a))))):(T=l&~d,T!==0?h=Hn(T):v!==0?h=Hn(v):a||(a=l&~t,a!==0&&(h=Hn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function fs(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ao(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=cs;return cs<<=1,(cs&4194048)===0&&(cs=256),t}function Ro(){var t=hs;return hs<<=1,(hs&62914560)===0&&(hs=4194304),t}function Cr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function xr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Io(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-$t(a),Z=1<<X;T[X]=0,I[X]=-1;var G=q[X];if(G!==null)for(q[X]=null,X=0;X<G.length;X++){var K=G[X];K!==null&&(K.lane&=-536870913)}a&=~Z}l!==0&&nr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function nr(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-$t(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Co(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-$t(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function di(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function na(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mi(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:nv(t.type))}function _u(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var st=Math.random().toString(36).slice(2),St="__reactFiber$"+st,_t="__reactProps$"+st,Cn="__reactContainer$"+st,xo="__reactEvents$"+st,Wh="__reactListeners$"+st,pi="__reactHandles$"+st,vu="__reactResources$"+st,ds="__reactMarker$"+st;function gi(t){delete t[St],delete t[_t],delete t[xo],delete t[Wh],delete t[pi]}function Nr(t){var r=t[St];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Cn]||a[St]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=B_(t);t!==null;){if(a=t[St])return a;t=B_(t)}return r}t=a,a=t.parentNode}return null}function rr(t){if(t=t[St]||t[Cn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ir(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function rn(t){var r=t[vu];return r||(r=t[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function dt(t){t[ds]=!0}var No=new Set,ra={};function Fn(t,r){Dr(t,r),Dr(t+"Capture",r)}function Dr(t,r){for(ra[t]=r,t=0;t<r.length;t++)No.add(r[t])}var Eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tu={},ms={};function bu(t){return un.call(ms,t)?!0:un.call(Tu,t)?!1:Eu.test(t)?ms[t]=!0:(Tu[t]=!0,!1)}function yi(t,r,a){if(bu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function sr(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Bt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var ps,wu;function Or(t){if(ps===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ps=r&&r[1]||"",wu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+t+wu}var ia=!1;function sa(t,r){if(!t||ia)return"";ia=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var G=K}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(K){G=K}t.call(Z.prototype)}}else{try{throw Error()}catch(K){G=K}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),q=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===q.length)for(l=I.length-1,h=q.length-1;1<=l&&0<=h&&I[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==q[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ia=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Or(a):""}function Do(t){switch(t.tag){case 26:case 27:case 5:return Or(t.type);case 16:return Or("Lazy");case 13:return Or("Suspense");case 19:return Or("SuspenseList");case 0:case 15:return sa(t.type,!1);case 11:return sa(t.type.render,!1);case 1:return sa(t.type,!0);case 31:return Or("Activity");default:return""}}function aa(t){try{var r="";do r+=Do(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Zh(t){var r=Oo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function oa(t){t._valueTracker||(t._valueTracker=Zh(t))}function Mo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Oo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function gs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Jh=/[\n"\\]/g;function vt(t){return t.replace(Jh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function yn(t,r,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+sn(r)):t.value!==""+sn(r)&&(t.value=""+sn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?_i(t,v,sn(r)):a!=null?_i(t,v,sn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+sn(T):t.removeAttribute("name")}function ys(t,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+sn(a):"",r=r!=null?""+sn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function _i(t,r,a){r==="number"&&gs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Mr(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+sn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Xe(t,r,a){if(r!=null&&(r=""+sn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+sn(a):""}function _s(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=sn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function xn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Au(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||vs.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Vo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Au(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Au(t,d,r[d])}function Po(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(t){return tf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vr=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pr=null,kr=null;function ko(t){var r=rr(t);if(r&&(t=r.stateNode)){var a=t[_t]||null;e:switch(t=r.stateNode,r.type){case"input":if(yn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[_t]||null;if(!h)throw Error(s(90));yn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Mo(l)}break e;case"textarea":Xe(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Mr(t,!!a.multiple,r,!1)}}}var ar=!1;function Su(t,r,a){if(ar)return t(r,a);ar=!0;try{var l=t(r);return l}finally{if(ar=!1,(Pr!==null||kr!==null)&&(_c(),Pr&&(r=Pr,t=kr,kr=Pr=null,ko(r),t)))for(r=0;r<t.length;r++)ko(t[r])}}function Es(t,r){var a=t.stateNode;if(a===null)return null;var l=a[_t]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Gn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Dn=!1}var or=null,vi=null,Ur=null;function Uo(){if(Ur)return Ur;var t,r=vi,a=r.length,l,h="value"in or?or.value:or.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Ur=h.slice(t,1<l?1-l:void 0)}function lr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ur(){return!0}function Lo(){return!1}function Vt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ur:Lo,this.isPropagationStopped=Lo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=Vt(Ke),bs=E({},Ke,{view:0,detail:0}),Ru=Vt(bs),ca,ha,cr,ws=E({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cr&&(cr&&t.type==="mousemove"?(ca=t.screenX-cr.screenX,ha=t.screenY-cr.screenY):ha=ca=0,cr=t),ca)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),On=Vt(ws),Iu=E({},ws,{dataTransfer:0}),nf=Vt(Iu),As=E({},bs,{relatedTarget:0}),fa=Vt(As),jo=E({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),da=Vt(jo),Cu=E({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ma=Vt(Cu),rf=E({},Ke,{data:0}),zo=Vt(rf),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Nu[t])?!!r[t]:!1}function Rs(){return Bo}var Du=E({},bs,{key:function(t){if(t.key){var r=Ss[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pa=Vt(Du),Ou=E({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=Vt(Ou),Lr=E({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),Mu=Vt(Lr),Vu=E({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pu=Vt(Vu),ku=E({},ws,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ga=Vt(ku),an=E({},Ke,{newState:0,oldState:0}),Uu=Vt(an),Lu=[9,13,27,32],hr=Gn&&"CompositionEvent"in window,c=null;Gn&&"documentMode"in document&&(c=document.documentMode);var g=Gn&&"TextEvent"in window&&!c,_=Gn&&(!hr||c&&8<c&&11>=c),b=" ",z=!1;function Q(t,r){switch(t){case"keyup":return Lu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function Rt(t,r){switch(t){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(z=!0,b);case"textInput":return t=r.data,t===b&&z?null:t;default:return null}}function ze(t,r){if(je)return t==="compositionend"||!hr&&Q(t,r)?(t=Uo(),Ur=vi=or=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Pt[t.type]:r==="textarea"}function jr(t,r,a,l){Pr?kr?kr.push(l):kr=[l]:Pr=l,r=Ac(r,"onChange"),0<r.length&&(a=new ua("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var qt=null,fr=null;function Ho(t){D_(t,0)}function ju(t){var r=ir(t);if(Mo(r))return t}function Zp(t,r){if(t==="change")return r}var Jp=!1;if(Gn){var sf;if(Gn){var af="oninput"in document;if(!af){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),af=typeof eg.oninput=="function"}sf=af}else sf=!1;Jp=sf&&(!document.documentMode||9<document.documentMode)}function tg(){qt&&(qt.detachEvent("onpropertychange",ng),fr=qt=null)}function ng(t){if(t.propertyName==="value"&&ju(fr)){var r=[];jr(r,fr,t,Nn(t)),Su(Ho,r)}}function Wb(t,r,a){t==="focusin"?(tg(),qt=r,fr=a,qt.attachEvent("onpropertychange",ng)):t==="focusout"&&tg()}function Zb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(fr)}function Jb(t,r){if(t==="click")return ju(r)}function ew(t,r){if(t==="input"||t==="change")return ju(r)}function tw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _n=typeof Object.is=="function"?Object.is:tw;function Fo(t,r){if(_n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!un.call(r,h)||!_n(t[h],r[h]))return!1}return!0}function rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ig(t,r){var a=rg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rg(a)}}function sg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?sg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=gs(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=gs(t.document)}return r}function of(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var nw=Gn&&"documentMode"in document&&11>=document.documentMode,ya=null,lf=null,Go=null,uf=!1;function og(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uf||ya==null||ya!==gs(l)||(l=ya,"selectionStart"in l&&of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Go&&Fo(Go,l)||(Go=l,l=Ac(lf,"onSelect"),0<l.length&&(r=new ua("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ya)))}function Is(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var _a={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},cf={},lg={};Gn&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Cs(t){if(cf[t])return cf[t];if(!_a[t])return t;var r=_a[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in lg)return cf[t]=r[a];return t}var ug=Cs("animationend"),cg=Cs("animationiteration"),hg=Cs("animationstart"),rw=Cs("transitionrun"),iw=Cs("transitionstart"),sw=Cs("transitioncancel"),fg=Cs("transitionend"),dg=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function Kn(t,r){dg.set(t,r),Fn(r,[t])}var mg=new WeakMap;function Mn(t,r){if(typeof t=="object"&&t!==null){var a=mg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:aa(r)},mg.set(t,r),r)}return{value:t,source:r,stack:aa(r)}}var Vn=[],va=0,ff=0;function zu(){for(var t=va,r=ff=va=0;r<t;){var a=Vn[r];Vn[r++]=null;var l=Vn[r];Vn[r++]=null;var h=Vn[r];Vn[r++]=null;var d=Vn[r];if(Vn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&pg(a,h,d)}}function Bu(t,r,a,l){Vn[va++]=t,Vn[va++]=r,Vn[va++]=a,Vn[va++]=l,ff|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function df(t,r,a,l){return Bu(t,r,a,l),qu(t)}function Ea(t,r){return Bu(t,null,null,r),qu(t)}function pg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-$t(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function qu(t){if(50<gl)throw gl=0,vd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ta={};function aw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,r,a,l){return new aw(t,r,a,l)}function mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zr(t,r){var a=t.alternate;return a===null?(a=vn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Hu(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")mf(t)&&(v=1);else if(typeof t=="string")v=lA(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,a,r,h),t.elementType=R,t.lanes=d,t;case V:return xs(a.children,h,d,r);case F:v=8,h|=24;break;case j:return t=vn(12,a,r,h|2),t.elementType=j,t.lanes=d,t;case fe:return t=vn(13,a,r,h),t.elementType=fe,t.lanes=d,t;case Se:return t=vn(19,a,r,h),t.elementType=Se,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case ne:v=10;break e;case re:v=9;break e;case de:v=11;break e;case O:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=vn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function xs(t,r,a,l){return t=vn(7,t,l,r),t.lanes=a,t}function pf(t,r,a){return t=vn(6,t,null,r),t.lanes=a,t}function gf(t,r,a){return r=vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ba=[],wa=0,Fu=null,Gu=0,Pn=[],kn=0,Ns=null,Br=1,qr="";function Ds(t,r){ba[wa++]=Gu,ba[wa++]=Fu,Fu=t,Gu=r}function yg(t,r,a){Pn[kn++]=Br,Pn[kn++]=qr,Pn[kn++]=Ns,Ns=t;var l=Br;t=qr;var h=32-$t(l)-1;l&=~(1<<h),a+=1;var d=32-$t(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Br=1<<32-$t(r)+h|a<<h|l,qr=d+t}else Br=1<<d|a<<h|l,qr=t}function yf(t){t.return!==null&&(Ds(t,1),yg(t,1,0))}function _f(t){for(;t===Fu;)Fu=ba[--wa],ba[wa]=null,Gu=ba[--wa],ba[wa]=null;for(;t===Ns;)Ns=Pn[--kn],Pn[kn]=null,qr=Pn[--kn],Pn[kn]=null,Br=Pn[--kn],Pn[kn]=null}var on=null,ct=null,Fe=!1,Os=null,dr=!1,vf=Error(s(519));function Ms(t){var r=Error(s(418,""));throw Yo(Mn(r,t)),vf}function _g(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[St]=t,r[_t]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<_l.length;a++)Pe(_l[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),ys(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),oa(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),_s(r,l.value,l.defaultValue,l.children),oa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||P_(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=Sc),r=!0):r=!1,r||Ms(t)}function vg(t){for(on=t.return;on;)switch(on.tag){case 5:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:on=on.return}}function Ko(t){if(t!==on)return!1;if(!Fe)return vg(t),Fe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Pd(t.type,t.memoizedProps)),a=!a),a&&ct&&Ms(t),vg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ct=Yn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ct=null}}else r===27?(r=ct,Pi(t.type)?(t=jd,jd=null,ct=t):ct=r):ct=on?Yn(t.stateNode.nextSibling):null;return!0}function Qo(){ct=on=null,Fe=!1}function Eg(){var t=Os;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Os=null),t}function Yo(t){Os===null?Os=[t]:Os.push(t)}var Ef=te(null),Vs=null,Hr=null;function Ei(t,r,a){ie(Ef,r._currentValue),r._currentValue=a}function Fr(t){t._currentValue=Ef.current,oe(Ef)}function Tf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function bf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Tf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Tf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function $o(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;_n(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===ft.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}h=h.return}t!==null&&bf(r,t,a,l),r.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ps(t){Vs=t,Hr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return Tg(Vs,t)}function Qu(t,r){return Vs===null&&Ps(t),Tg(t,r)}function Tg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Hr===null){if(t===null)throw Error(s(308));Hr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Hr=Hr.next=r;return a}var ow=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},lw=i.unstable_scheduleCallback,uw=i.unstable_NormalPriority,Ct={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new ow,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&lw(uw,function(){t.controller.abort()})}var Wo=null,Af=0,Aa=0,Sa=null;function cw(t,r){if(Wo===null){var a=Wo=[];Af=0,Aa=Rd(),Sa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Af++,r.then(bg,bg),r}function bg(){if(--Af===0&&Wo!==null){Sa!==null&&(Sa.status="fulfilled");var t=Wo;Wo=null,Aa=0,Sa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function hw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var wg=$.S;$.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&cw(t,r),wg!==null&&wg(t,r)};var ks=te(null);function Sf(){var t=ks.current;return t!==null?t:tt.pooledCache}function Yu(t,r){r===null?ie(ks,ks.current):ie(ks,r.pool)}function Ag(){var t=Sf();return t===null?null:{parent:Ct._currentValue,pool:t}}var Zo=Error(s(460)),Sg=Error(s(474)),$u=Error(s(542)),Rf={then:function(){}};function Rg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xu(){}function Ig(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Xu,Xu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,xg(t),t;default:if(typeof r.status=="string")r.then(Xu,Xu);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,xg(t),t}throw Jo=r,Zo}}var Jo=null;function Cg(){if(Jo===null)throw Error(s(459));var t=Jo;return Jo=null,t}function xg(t){if(t===Zo||t===$u)throw Error(s(483))}var Ti=!1;function If(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=qu(t),pg(t,null,a),r}return Bu(t,l,r,a),qu(t)}function el(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}function xf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Nf=!1;function tl(){if(Nf){var t=Sa;if(t!==null)throw t}}function nl(t,r,a,l){Nf=!1;var h=t.updateQueue;Ti=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,q=I.next;I.next=null,v===null?d=q:v.next=q,v=I;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=q:T.next=q,X.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;v=0,X=q=I=null,T=d;do{var G=T.lane&-536870913,K=G!==T.lane;if(K?(Be&G)===G:(l&G)===G){G!==0&&G===Aa&&(Nf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=t,_e=T;G=r;var Je=a;switch(_e.tag){case 1:if(we=_e.payload,typeof we=="function"){Z=we.call(Je,Z,G);break e}Z=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,G=typeof we=="function"?we.call(Je,Z,G):we,G==null)break e;Z=E({},Z,G);break e;case 2:Ti=!0}}G=T.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(q=X=K,I=Z):X=X.next=K,v|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Di|=v,t.lanes=v,t.memoizedState=Z}}function Ng(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Dg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ng(a[t],r)}var Ra=te(null),Wu=te(0);function Og(t,r){t=Wr,ie(Wu,t),ie(Ra,r),Wr=t|r.baseLanes}function Df(){ie(Wu,Wr),ie(Ra,Ra.current)}function Of(){Wr=Wu.current,oe(Ra),oe(Wu)}var Ai=0,De=null,We=null,Et=null,Zu=!1,Ia=!1,Us=!1,Ju=0,rl=0,Ca=null,fw=0;function mt(){throw Error(s(321))}function Mf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!_n(t[a],r[a]))return!1;return!0}function Vf(t,r,a,l,h,d){return Ai=d,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?py:gy,Us=!1,d=a(l,h),Us=!1,Ia&&(d=Vg(r,a,l,h)),Mg(t),d}function Mg(t){$.H=sc;var r=We!==null&&We.next!==null;if(Ai=0,Et=We=De=null,Zu=!1,rl=0,Ca=null,r)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&Ku(t)&&(kt=!0))}function Vg(t,r,a,l){De=t;var h=0;do{if(Ia&&(Ca=null),rl=0,Ia=!1,25<=h)throw Error(s(301));if(h+=1,Et=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=vw,d=r(a,l)}while(Ia);return d}function dw(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?il(r):r,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(De.flags|=1024),r}function Pf(){var t=Ju!==0;return Ju=0,t}function kf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Uf(t){if(Zu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Zu=!1}Ai=0,Et=We=De=null,Ia=!1,rl=Ju=0,Ca=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?De.memoizedState=Et=t:Et=Et.next=t,Et}function Tt(){if(We===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var r=Et===null?De.memoizedState:Et.next;if(r!==null)Et=r,We=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Et===null?De.memoizedState=Et=t:Et=Et.next=t}return Et}function Lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var r=rl;return rl+=1,Ca===null&&(Ca=[]),t=Ig(Ca,t,r),r=De,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?py:gy),t}function ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===ne)return Xt(t)}throw Error(s(438,String(t)))}function jf(t){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Lf(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=N;return r.index++,a}function Gr(t,r){return typeof r=="function"?r(t):r}function tc(t){var r=Tt();return zf(r,We,t)}function zf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=v=null,I=null,q=r,X=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Be&Z)===Z:(Ai&Z)===Z){var G=q.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Aa&&(X=!0);else if((Ai&G)===G){q=q.next,G===Aa&&(X=!0);continue}else Z={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=Z,v=d):I=I.next=Z,De.lanes|=G,Di|=G;Z=q.action,Us&&a(d,Z),d=q.hasEagerState?q.eagerState:a(d,Z)}else G={lane:Z,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=G,v=d):I=I.next=G,De.lanes|=Z,Di|=Z;q=q.next}while(q!==null&&q!==r);if(I===null?v=d:I.next=T,!_n(d,t.memoizedState)&&(kt=!0,X&&(a=Sa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Bf(t){var r=Tt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);_n(d,r.memoizedState)||(kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Pg(t,r,a){var l=De,h=Tt(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!_n((We||h).memoizedState,a);v&&(h.memoizedState=a,kt=!0),h=h.queue;var T=Lg.bind(null,l,h,t);if(sl(2048,8,T,[t]),h.getSnapshot!==r||v||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,xa(9,nc(),Ug.bind(null,l,h,a,r),null),tt===null)throw Error(s(349));d||(Ai&124)!==0||kg(l,r,a)}return a}function kg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=Lf(),De.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ug(t,r,a,l){r.value=a,r.getSnapshot=l,jg(r)&&zg(t)}function Lg(t,r,a){return a(function(){jg(r)&&zg(t)})}function jg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!_n(t,a)}catch{return!0}}function zg(t){var r=Ea(t,2);r!==null&&An(r,t,2)}function qf(t){var r=cn();if(typeof t=="function"){var a=t;if(t=a(),Us){gn(!0);try{a()}finally{gn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:t},r}function Bg(t,r,a,l){return t.baseState=a,zf(t,We,typeof l=="function"?l:Gr)}function mw(t,r,a,l,h){if(ic(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,qg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function qg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=$.T,v={};$.T=v;try{var T=a(h,l),I=$.S;I!==null&&I(v,T),Hg(t,r,T)}catch(q){Hf(t,r,q)}finally{$.T=d}}else try{d=a(h,l),Hg(t,r,d)}catch(q){Hf(t,r,q)}}function Hg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fg(t,r,l)},function(l){return Hf(t,r,l)}):Fg(t,r,a)}function Fg(t,r,a){r.status="fulfilled",r.value=a,Gg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,qg(t,a)))}function Hf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Gg(r),r=r.next;while(r!==l)}t.action=null}function Gg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Kg(t,r){return r}function Qg(t,r){if(Fe){var a=tt.formState;if(a!==null){e:{var l=De;if(Fe){if(ct){t:{for(var h=ct,d=dr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Yn(h.nextSibling),l=h.data==="F!";break e}}Ms(l)}l=!1}l&&(r=a[0])}}return a=cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:r},a.queue=l,a=fy.bind(null,De,l),l.dispatch=a,l=qf(!1),d=Yf.bind(null,De,!1,l.queue),l=cn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=mw.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Yg(t){var r=Tt();return $g(r,We,t)}function $g(t,r,a){if(r=zf(t,r,Kg)[0],t=tc(Gr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=il(r)}catch(v){throw v===Zo?$u:v}else l=r;r=Tt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(De.flags|=2048,xa(9,nc(),pw.bind(null,h,a),null)),[l,d,t]}function pw(t,r){t.action=r}function Xg(t){var r=Tt(),a=We;if(a!==null)return $g(r,a,t);Tt(),r=r.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function xa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=Lf(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function nc(){return{destroy:void 0,resource:void 0}}function Wg(){return Tt().memoizedState}function rc(t,r,a,l){var h=cn();l=l===void 0?null:l,De.flags|=t,h.memoizedState=xa(1|r,nc(),a,l)}function sl(t,r,a,l){var h=Tt();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&Mf(l,We.memoizedState.deps)?h.memoizedState=xa(r,d,a,l):(De.flags|=t,h.memoizedState=xa(1|r,d,a,l))}function Zg(t,r){rc(8390656,8,t,r)}function Jg(t,r){sl(2048,8,t,r)}function ey(t,r){return sl(4,2,t,r)}function ty(t,r){return sl(4,4,t,r)}function ny(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ry(t,r,a){a=a!=null?a.concat([t]):null,sl(4,4,ny.bind(null,r,t),a)}function Ff(){}function iy(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Mf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function sy(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Mf(r,l[1]))return l[0];if(l=t(),Us){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,r],l}function Gf(t,r,a){return a===void 0||(Ai&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=l_(),De.lanes|=t,Di|=t,a)}function ay(t,r,a,l){return _n(a,r)?a:Ra.current!==null?(t=Gf(t,a,l),_n(t,r)||(kt=!0),t):(Ai&42)===0?(kt=!0,t.memoizedState=a):(t=l_(),De.lanes|=t,Di|=t,r)}function oy(t,r,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=$.T,T={};$.T=T,Yf(t,!1,r,a);try{var I=h(),q=$.S;if(q!==null&&q(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=hw(I,l);al(t,r,X,wn(t))}else al(t,r,l,wn(t))}catch(Z){al(t,r,{then:function(){},status:"rejected",reason:Z},wn())}finally{ae.p=d,$.T=v}}function gw(){}function Kf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=ly(t).queue;oy(t,h,r,me,a===null?gw:function(){return uy(t),a(l)})}function ly(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function uy(t){var r=ly(t).next.queue;al(t,r,{},wn())}function Qf(){return Xt(Al)}function cy(){return Tt().memoizedState}function hy(){return Tt().memoizedState}function yw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=wn();t=bi(a);var l=wi(r,t,a);l!==null&&(An(l,r,a),el(l,r,a)),r={cache:wf()},t.payload=r;return}r=r.return}}function _w(t,r,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ic(t)?dy(r,a):(a=df(t,r,a,l),a!==null&&(An(a,t,l),my(a,r,l)))}function fy(t,r,a){var l=wn();al(t,r,a,l)}function al(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(t))dy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,_n(T,v))return Bu(t,r,h,0),tt===null&&zu(),!1}catch{}finally{}if(a=df(t,r,h,l),a!==null)return An(a,t,l),my(a,r,l),!0}return!1}function Yf(t,r,a,l){if(l={lane:2,revertLane:Rd(),action:l,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(r)throw Error(s(479))}else r=df(t,a,l,2),r!==null&&An(r,t,2)}function ic(t){var r=t.alternate;return t===De||r!==null&&r===De}function dy(t,r){Ia=Zu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function my(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}var sc={readContext:Xt,use:ec,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},py={readContext:Xt,use:ec,useCallback:function(t,r){return cn().memoizedState=[t,r===void 0?null:r],t},useContext:Xt,useEffect:Zg,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,rc(4194308,4,ny.bind(null,r,t),a)},useLayoutEffect:function(t,r){return rc(4194308,4,t,r)},useInsertionEffect:function(t,r){rc(4,2,t,r)},useMemo:function(t,r){var a=cn();r=r===void 0?null:r;var l=t();if(Us){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=cn();if(a!==void 0){var h=a(r);if(Us){gn(!0);try{a(r)}finally{gn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=_w.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=cn();return t={current:t},r.memoizedState=t},useState:function(t){t=qf(t);var r=t.queue,a=fy.bind(null,De,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Ff,useDeferredValue:function(t,r){var a=cn();return Gf(a,t,r)},useTransition:function(){var t=qf(!1);return t=oy.bind(null,De,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=De,h=cn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(Be&124)!==0||kg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Zg(Lg.bind(null,l,d,t),[t]),l.flags|=2048,xa(9,nc(),Ug.bind(null,l,d,a,r),null),a},useId:function(){var t=cn(),r=tt.identifierPrefix;if(Fe){var a=qr,l=Br;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Ju++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=fw++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Qf,useFormState:Qg,useActionState:Qg,useOptimistic:function(t){var r=cn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Yf.bind(null,De,!0,a),a.dispatch=r,[t,r]},useMemoCache:jf,useCacheRefresh:function(){return cn().memoizedState=yw.bind(null,De)}},gy={readContext:Xt,use:ec,useCallback:iy,useContext:Xt,useEffect:Jg,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:sy,useReducer:tc,useRef:Wg,useState:function(){return tc(Gr)},useDebugValue:Ff,useDeferredValue:function(t,r){var a=Tt();return ay(a,We.memoizedState,t,r)},useTransition:function(){var t=tc(Gr)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:il(t),r]},useSyncExternalStore:Pg,useId:cy,useHostTransitionStatus:Qf,useFormState:Yg,useActionState:Yg,useOptimistic:function(t,r){var a=Tt();return Bg(a,We,t,r)},useMemoCache:jf,useCacheRefresh:hy},vw={readContext:Xt,use:ec,useCallback:iy,useContext:Xt,useEffect:Jg,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:sy,useReducer:Bf,useRef:Wg,useState:function(){return Bf(Gr)},useDebugValue:Ff,useDeferredValue:function(t,r){var a=Tt();return We===null?Gf(a,t,r):ay(a,We.memoizedState,t,r)},useTransition:function(){var t=Bf(Gr)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:il(t),r]},useSyncExternalStore:Pg,useId:cy,useHostTransitionStatus:Qf,useFormState:Xg,useActionState:Xg,useOptimistic:function(t,r){var a=Tt();return We!==null?Bg(a,We,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:jf,useCacheRefresh:hy},Na=null,ol=0;function ac(t){var r=ol;return ol+=1,Na===null&&(Na=[]),Ig(Na,t,r)}function ll(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function oc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function yy(t){var r=t._init;return r(t._payload)}function _y(t){function r(k,D){if(t){var B=k.deletions;B===null?(k.deletions=[D],k.flags|=16):B.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)r(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=zr(k,D),k.index=0,k.sibling=null,k}function d(k,D,B){return k.index=B,t?(B=k.alternate,B!==null?(B=B.index,B<D?(k.flags|=67108866,D):B):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,B,W){return D===null||D.tag!==6?(D=pf(B,k.mode,W),D.return=k,D):(D=h(D,B),D.return=k,D)}function I(k,D,B,W){var he=B.type;return he===V?X(k,D,B.props.children,W,B.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===S&&yy(he)===D.type)?(D=h(D,B.props),ll(D,B),D.return=k,D):(D=Hu(B.type,B.key,B.props,null,k.mode,W),ll(D,B),D.return=k,D)}function q(k,D,B,W){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=gf(B,k.mode,W),D.return=k,D):(D=h(D,B.children||[]),D.return=k,D)}function X(k,D,B,W,he){return D===null||D.tag!==7?(D=xs(B,k.mode,W,he),D.return=k,D):(D=h(D,B),D.return=k,D)}function Z(k,D,B){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=pf(""+D,k.mode,B),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case A:return B=Hu(D.type,D.key,D.props,null,k.mode,B),ll(B,D),B.return=k,B;case M:return D=gf(D,k.mode,B),D.return=k,D;case S:var W=D._init;return D=W(D._payload),Z(k,D,B)}if(rt(D)||L(D))return D=xs(D,k.mode,B,null),D.return=k,D;if(typeof D.then=="function")return Z(k,ac(D),B);if(D.$$typeof===ne)return Z(k,Qu(k,D),B);oc(k,D)}return null}function G(k,D,B,W){var he=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return he!==null?null:T(k,D,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return B.key===he?I(k,D,B,W):null;case M:return B.key===he?q(k,D,B,W):null;case S:return he=B._init,B=he(B._payload),G(k,D,B,W)}if(rt(B)||L(B))return he!==null?null:X(k,D,B,W,null);if(typeof B.then=="function")return G(k,D,ac(B),W);if(B.$$typeof===ne)return G(k,D,Qu(k,B),W);oc(k,B)}return null}function K(k,D,B,W,he){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(B)||null,T(D,k,""+W,he);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return k=k.get(W.key===null?B:W.key)||null,I(D,k,W,he);case M:return k=k.get(W.key===null?B:W.key)||null,q(D,k,W,he);case S:var Me=W._init;return W=Me(W._payload),K(k,D,B,W,he)}if(rt(W)||L(W))return k=k.get(B)||null,X(D,k,W,he,null);if(typeof W.then=="function")return K(k,D,B,ac(W),he);if(W.$$typeof===ne)return K(k,D,B,Qu(D,W),he);oc(D,W)}return null}function we(k,D,B,W){for(var he=null,Me=null,pe=D,ve=D=0,Lt=null;pe!==null&&ve<B.length;ve++){pe.index>ve?(Lt=pe,pe=null):Lt=pe.sibling;var He=G(k,pe,B[ve],W);if(He===null){pe===null&&(pe=Lt);break}t&&pe&&He.alternate===null&&r(k,pe),D=d(He,D,ve),Me===null?he=He:Me.sibling=He,Me=He,pe=Lt}if(ve===B.length)return a(k,pe),Fe&&Ds(k,ve),he;if(pe===null){for(;ve<B.length;ve++)pe=Z(k,B[ve],W),pe!==null&&(D=d(pe,D,ve),Me===null?he=pe:Me.sibling=pe,Me=pe);return Fe&&Ds(k,ve),he}for(pe=l(pe);ve<B.length;ve++)Lt=K(pe,k,ve,B[ve],W),Lt!==null&&(t&&Lt.alternate!==null&&pe.delete(Lt.key===null?ve:Lt.key),D=d(Lt,D,ve),Me===null?he=Lt:Me.sibling=Lt,Me=Lt);return t&&pe.forEach(function(zi){return r(k,zi)}),Fe&&Ds(k,ve),he}function _e(k,D,B,W){if(B==null)throw Error(s(151));for(var he=null,Me=null,pe=D,ve=D=0,Lt=null,He=B.next();pe!==null&&!He.done;ve++,He=B.next()){pe.index>ve?(Lt=pe,pe=null):Lt=pe.sibling;var zi=G(k,pe,He.value,W);if(zi===null){pe===null&&(pe=Lt);break}t&&pe&&zi.alternate===null&&r(k,pe),D=d(zi,D,ve),Me===null?he=zi:Me.sibling=zi,Me=zi,pe=Lt}if(He.done)return a(k,pe),Fe&&Ds(k,ve),he;if(pe===null){for(;!He.done;ve++,He=B.next())He=Z(k,He.value,W),He!==null&&(D=d(He,D,ve),Me===null?he=He:Me.sibling=He,Me=He);return Fe&&Ds(k,ve),he}for(pe=l(pe);!He.done;ve++,He=B.next())He=K(pe,k,ve,He.value,W),He!==null&&(t&&He.alternate!==null&&pe.delete(He.key===null?ve:He.key),D=d(He,D,ve),Me===null?he=He:Me.sibling=He,Me=He);return t&&pe.forEach(function(EA){return r(k,EA)}),Fe&&Ds(k,ve),he}function Je(k,D,B,W){if(typeof B=="object"&&B!==null&&B.type===V&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case A:e:{for(var he=B.key;D!==null;){if(D.key===he){if(he=B.type,he===V){if(D.tag===7){a(k,D.sibling),W=h(D,B.props.children),W.return=k,k=W;break e}}else if(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===S&&yy(he)===D.type){a(k,D.sibling),W=h(D,B.props),ll(W,B),W.return=k,k=W;break e}a(k,D);break}else r(k,D);D=D.sibling}B.type===V?(W=xs(B.props.children,k.mode,W,B.key),W.return=k,k=W):(W=Hu(B.type,B.key,B.props,null,k.mode,W),ll(W,B),W.return=k,k=W)}return v(k);case M:e:{for(he=B.key;D!==null;){if(D.key===he)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){a(k,D.sibling),W=h(D,B.children||[]),W.return=k,k=W;break e}else{a(k,D);break}else r(k,D);D=D.sibling}W=gf(B,k.mode,W),W.return=k,k=W}return v(k);case S:return he=B._init,B=he(B._payload),Je(k,D,B,W)}if(rt(B))return we(k,D,B,W);if(L(B)){if(he=L(B),typeof he!="function")throw Error(s(150));return B=he.call(B),_e(k,D,B,W)}if(typeof B.then=="function")return Je(k,D,ac(B),W);if(B.$$typeof===ne)return Je(k,D,Qu(k,B),W);oc(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,D!==null&&D.tag===6?(a(k,D.sibling),W=h(D,B),W.return=k,k=W):(a(k,D),W=pf(B,k.mode,W),W.return=k,k=W),v(k)):a(k,D)}return function(k,D,B,W){try{ol=0;var he=Je(k,D,B,W);return Na=null,he}catch(pe){if(pe===Zo||pe===$u)throw pe;var Me=vn(29,pe,null,k.mode);return Me.lanes=W,Me.return=k,Me}finally{}}}var Da=_y(!0),vy=_y(!1),Un=te(null),mr=null;function Si(t){var r=t.alternate;ie(xt,xt.current&1),ie(Un,t),mr===null&&(r===null||Ra.current!==null||r.memoizedState!==null)&&(mr=t)}function Ey(t){if(t.tag===22){if(ie(xt,xt.current),ie(Un,t),mr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(mr=t)}}else Ri()}function Ri(){ie(xt,xt.current),ie(Un,Un.current)}function Kr(t){oe(Un),mr===t&&(mr=null),oe(xt)}var xt=te(0);function lc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ld(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function $f(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Xf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=wn(),h=bi(l);h.payload=r,a!=null&&(h.callback=a),r=wi(t,h,l),r!==null&&(An(r,t,l),el(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=wn(),h=bi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=wi(t,h,l),r!==null&&(An(r,t,l),el(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=wn(),l=bi(a);l.tag=2,r!=null&&(l.callback=r),r=wi(t,l,a),r!==null&&(An(r,t,a),el(r,t,a))}};function Ty(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Fo(a,l)||!Fo(h,d):!0}function by(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Xf.enqueueReplaceState(r,r.state,null)}function Ls(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var uc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function wy(t){uc(t)}function Ay(t){console.error(t)}function Sy(t){uc(t)}function cc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ry(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wf(t,r,a){return a=bi(a),a.tag=3,a.payload={element:null},a.callback=function(){cc(t,r)},a}function Iy(t){return t=bi(t),t.tag=3,t}function Cy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ry(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ry(r,a,l),typeof h!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Ew(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&$o(r,a,h,!0),a=Un.current,a!==null){switch(a.tag){case 13:return mr===null?Td():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Rf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),wd(t,l,h)),!1;case 22:return a.flags|=65536,l===Rf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),wd(t,l,h)),!1}throw Error(s(435,a.tag))}return wd(t,l,h),Td(),!1}if(Fe)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==vf&&(t=Error(s(422),{cause:l}),Yo(Mn(t,a)))):(l!==vf&&(r=Error(s(423),{cause:l}),Yo(Mn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,a),h=Wf(t.stateNode,l,h),xf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),pl===null?pl=[d]:pl.push(d),ht!==4&&(ht=2),r===null)return!0;l=Mn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Wf(a.stateNode,l,t),xf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Oi===null||!Oi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Iy(h),Cy(h,t,a,l),xf(a,h),!1}a=a.return}while(a!==null);return!1}var xy=Error(s(461)),kt=!1;function Ht(t,r,a,l){r.child=t===null?vy(r,null,a,l):Da(r,t.child,a,l)}function Ny(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ps(r),l=Vf(t,r,a,v,d,h),T=Pf(),t!==null&&!kt?(kf(t,r,h),Qr(t,r,h)):(Fe&&T&&yf(r),r.flags|=1,Ht(t,r,l,h),r.child)}function Dy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!mf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Oy(t,r,d,l,h)):(t=Hu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!sd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(v,l)&&t.ref===r.ref)return Qr(t,r,h)}return r.flags|=1,t=zr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Oy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Fo(d,l)&&t.ref===r.ref)if(kt=!1,r.pendingProps=l=d,sd(t,h))(t.flags&131072)!==0&&(kt=!0);else return r.lanes=t.lanes,Qr(t,r,h)}return Zf(t,r,a,l,h)}function My(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Vy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(r,d!==null?d.cachePool:null),d!==null?Og(r,d):Df(),Ey(r);else return r.lanes=r.childLanes=536870912,Vy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Yu(r,d.cachePool),Og(r,d),Ri(),r.memoizedState=null):(t!==null&&Yu(r,null),Df(),Ri());return Ht(t,r,h,a),r.child}function Vy(t,r,a,l){var h=Sf();return h=h===null?null:{parent:Ct._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Yu(r,null),Df(),Ey(r),t!==null&&$o(t,r,l,!0),null}function hc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Zf(t,r,a,l,h){return Ps(r),a=Vf(t,r,a,l,void 0,h),l=Pf(),t!==null&&!kt?(kf(t,r,h),Qr(t,r,h)):(Fe&&l&&yf(r),r.flags|=1,Ht(t,r,a,h),r.child)}function Py(t,r,a,l,h,d){return Ps(r),r.updateQueue=null,a=Vg(r,l,a,h),Mg(t),l=Pf(),t!==null&&!kt?(kf(t,r,d),Qr(t,r,d)):(Fe&&l&&yf(r),r.flags|=1,Ht(t,r,a,d),r.child)}function ky(t,r,a,l,h){if(Ps(r),r.stateNode===null){var d=Ta,v=a.contextType;typeof v=="object"&&v!==null&&(d=Xt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},If(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Xt(v):Ta,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&($f(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Xf.enqueueReplaceState(d,d.state,null),nl(r,l,d,h),tl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=Ls(a,T);d.props=I;var q=d.context,X=a.contextType;v=Ta,typeof X=="object"&&X!==null&&(v=Xt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==v)&&by(r,d,l,v),Ti=!1;var G=r.memoizedState;d.state=G,nl(r,l,d,h),tl(),q=r.memoizedState,T||G!==q||Ti?(typeof Z=="function"&&($f(r,a,Z,l),q=r.memoizedState),(I=Ti||Ty(r,a,I,l,G,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Cf(t,r),v=r.memoizedProps,X=Ls(a,v),d.props=X,Z=r.pendingProps,G=d.context,q=a.contextType,I=Ta,typeof q=="object"&&q!==null&&(I=Xt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||G!==I)&&by(r,d,l,I),Ti=!1,G=r.memoizedState,d.state=G,nl(r,l,d,h),tl();var K=r.memoizedState;v!==Z||G!==K||Ti||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof T=="function"&&($f(r,a,T,l),K=r.memoizedState),(X=Ti||Ty(r,a,X,l,G,K,I)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,hc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Da(r,t.child,null,h),r.child=Da(r,null,a,h)):Ht(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Qr(t,r,h),t}function Uy(t,r,a,l){return Qo(),r.flags|=256,Ht(t,r,a,l),r.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(t){return{baseLanes:t,cachePool:Ag()}}function td(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Ln),t}function Ly(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Fe){if(h?Si(r):Ri(),Fe){var T=ct,I;if(I=T){e:{for(I=T,T=dr;I.nodeType!==8;){if(!T){T=null;break e}if(I=Yn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ns!==null?{id:Br,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},I=vn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,on=r,ct=null,I=!0):I=!1}I||Ms(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Ld(T)?r.lanes=32:r.lanes=536870912,null;Kr(r)}return T=l.children,l=l.fallback,h?(Ri(),h=r.mode,T=fc({mode:"hidden",children:T},h),l=xs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=ed(a),h.childLanes=td(t,v,a),r.memoizedState=Jf,l):(Si(r),nd(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(Si(r),r.flags&=-257,r=rd(t,r,a)):r.memoizedState!==null?(Ri(),r.child=t.child,r.flags|=128,r=null):(Ri(),h=l.fallback,T=r.mode,l=fc({mode:"visible",children:l.children},T),h=xs(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Da(r,t.child,null,a),l=r.child,l.memoizedState=ed(a),l.childLanes=td(t,v,a),r.memoizedState=Jf,r=h);else if(Si(r),Ld(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,Yo({value:l,source:null,stack:null}),r=rd(t,r,a)}else if(kt||$o(t,r,a,!1),v=(a&t.childLanes)!==0,kt||v){if(v=tt,v!==null&&(l=a&-a,l=(l&42)!==0?1:di(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ea(t,l),An(v,t,l),xy;T.data==="$?"||Td(),r=rd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,ct=Yn(T.nextSibling),on=r,Fe=!0,Os=null,dr=!1,t!==null&&(Pn[kn++]=Br,Pn[kn++]=qr,Pn[kn++]=Ns,Br=t.id,qr=t.overflow,Ns=r),r=nd(r,l.children),r.flags|=4096);return r}return h?(Ri(),h=l.fallback,T=r.mode,I=t.child,q=I.sibling,l=zr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?h=zr(q,h):(h=xs(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=ed(a):(I=T.cachePool,I!==null?(q=Ct._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=Ag(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=td(t,v,a),r.memoizedState=Jf,l):(Si(r),a=t.child,t=a.sibling,a=zr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function nd(t,r){return r=fc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function fc(t,r){return t=vn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function rd(t,r,a){return Da(r,t.child,null,a),t=nd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function jy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Tf(t.return,r,a)}function id(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function zy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Ht(t,r,l.children,a),l=xt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jy(t,a,r);else if(t.tag===19)jy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(xt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&lc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),id(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&lc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}id(r,!0,a,null,d);break;case"together":id(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Qr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Di|=r.lanes,(a&r.childLanes)===0)if(t!==null){if($o(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=zr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=zr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function sd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function Tw(t,r,a){switch(r.tag){case 3:le(r,r.stateNode.containerInfo),Ei(r,Ct,t.memoizedState.cache),Qo();break;case 27:case 5:xe(r);break;case 4:le(r,r.stateNode.containerInfo);break;case 10:Ei(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Si(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Ly(t,r,a):(Si(r),t=Qr(t,r,a),t!==null?t.sibling:null);Si(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||($o(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return zy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(xt,xt.current),l)break;return null;case 22:case 23:return r.lanes=0,My(t,r,a);case 24:Ei(r,Ct,t.memoizedState.cache)}return Qr(t,r,a)}function By(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)kt=!0;else{if(!sd(t,a)&&(r.flags&128)===0)return kt=!1,Tw(t,r,a);kt=(t.flags&131072)!==0}else kt=!1,Fe&&(r.flags&1048576)!==0&&yg(r,Gu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")mf(l)?(t=Ls(l,t),r.tag=1,r=ky(null,r,l,t,a)):(r.tag=0,r=Zf(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===de){r.tag=11,r=Ny(null,r,l,t,a);break e}else if(h===O){r.tag=14,r=Dy(null,r,l,t,a);break e}}throw r=At(l)||l,Error(s(306,r,""))}}return r;case 0:return Zf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Ls(l,r.pendingProps),ky(t,r,l,h,a);case 3:e:{if(le(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Cf(t,r),nl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Ei(r,Ct,l),l!==d.cache&&bf(r,[Ct],a,!0),tl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Uy(t,r,l,a);break e}else if(l!==h){h=Mn(Error(s(424)),r),Yo(h),r=Uy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Yn(t.firstChild),on=r,Fe=!0,Os=null,dr=!0,a=vy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qo(),l===h){r=Qr(t,r,a);break e}Ht(t,r,l,a)}r=r.child}return r;case 26:return hc(t,r),t===null?(a=G_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,t=r.pendingProps,l=Rc(be.current).createElement(a),l[St]=r,l[_t]=t,Gt(l,a,t),dt(l),r.stateNode=l):r.memoizedState=G_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return xe(r),t===null&&Fe&&(l=r.stateNode=q_(r.type,r.pendingProps,be.current),on=r,dr=!0,h=ct,Pi(r.type)?(jd=h,ct=Yn(l.firstChild)):ct=h),Ht(t,r,r.pendingProps.children,a),hc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Fe&&((h=l=ct)&&(l=$w(l,r.type,r.pendingProps,dr),l!==null?(r.stateNode=l,on=r,ct=Yn(l.firstChild),dr=!1,h=!0):h=!1),h||Ms(r)),xe(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Pd(h,d)?l=null:v!==null&&Pd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Vf(t,r,dw,null,null,a),Al._currentValue=h),hc(t,r),Ht(t,r,l,a),r.child;case 6:return t===null&&Fe&&((t=a=ct)&&(a=Xw(a,r.pendingProps,dr),a!==null?(r.stateNode=a,on=r,ct=null,t=!0):t=!1),t||Ms(r)),null;case 13:return Ly(t,r,a);case 4:return le(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Da(r,null,l,a):Ht(t,r,l,a),r.child;case 11:return Ny(t,r,r.type,r.pendingProps,a);case 7:return Ht(t,r,r.pendingProps,a),r.child;case 8:return Ht(t,r,r.pendingProps.children,a),r.child;case 12:return Ht(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ei(r,r.type,l.value),Ht(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ps(r),h=Xt(h),l=l(h),r.flags|=1,Ht(t,r,l,a),r.child;case 14:return Dy(t,r,r.type,r.pendingProps,a);case 15:return Oy(t,r,r.type,r.pendingProps,a);case 19:return zy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=fc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=zr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return My(t,r,a);case 24:return Ps(r),l=Xt(Ct),t===null?(h=Sf(),h===null&&(h=tt,d=wf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},If(r),Ei(r,Ct,h)):((t.lanes&a)!==0&&(Cf(t,r),nl(r,null,null,a),tl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ei(r,Ct,l)):(l=d.cache,Ei(r,Ct,l),l!==h.cache&&bf(r,[Ct],a,!0))),Ht(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Yr(t){t.flags|=4}function qy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!X_(r)){if(r=Un.current,r!==null&&((Be&4194048)===Be?mr!==null:(Be&62914560)!==Be&&(Be&536870912)===0||r!==mr))throw Jo=Rf,Sg;t.flags|=8192}}function dc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ro():536870912,t.lanes|=r,Pa|=r)}function ul(t,r){if(!Fe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function bw(t,r,a){var l=r.pendingProps;switch(_f(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Fr(Ct),Ee(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ko(r)?Yr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Eg())),lt(r),null;case 26:return a=r.memoizedState,t===null?(Yr(r),a!==null?(lt(r),qy(r,a)):(lt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Yr(r),lt(r),qy(r,a)):(lt(r),r.flags&=-16777217):(t.memoizedProps!==l&&Yr(r),lt(r),r.flags&=-16777217),null;case 27:zt(r),a=be.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Yr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}t=ge.current,Ko(r)?_g(r):(t=q_(h,l,a),r.stateNode=t,Yr(r))}return lt(r),null;case 5:if(zt(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Yr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(t=ge.current,Ko(r))_g(r);else{switch(h=Rc(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[St]=r,t[_t]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Gt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Yr(r)}}return lt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Yr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,Ko(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||P_(t.nodeValue,a)),t||Ms(r)}else t=Rc(t).createTextNode(l),t[St]=r,r.stateNode=t}return lt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ko(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=r}else Qo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),h=!1}else h=Eg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Kr(r),r):(Kr(r),null)}if(Kr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),dc(r,r.updateQueue),lt(r),null;case 4:return Ee(),t===null&&Nd(r.stateNode.containerInfo),lt(r),null;case 10:return Fr(r.type),lt(r),null;case 19:if(oe(xt),h=r.memoizedState,h===null)return lt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)ul(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=lc(t),d!==null){for(r.flags|=128,ul(h,!1),t=d.updateQueue,r.updateQueue=t,dc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)gg(a,t),a=a.sibling;return ie(xt,xt.current&1|2),r.child}t=t.sibling}h.tail!==null&&Mt()>gc&&(r.flags|=128,l=!0,ul(h,!1),r.lanes=4194304)}else{if(!l)if(t=lc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,dc(r,t),ul(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return lt(r),null}else 2*Mt()-h.renderingStartTime>gc&&a!==536870912&&(r.flags|=128,l=!0,ul(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Mt(),r.sibling=null,t=xt.current,ie(xt,l?t&1|2:t&1),r):(lt(r),null);case 22:case 23:return Kr(r),Of(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&dc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&oe(ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Fr(Ct),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ww(t,r){switch(_f(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Fr(Ct),Ee(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return zt(r),null;case 13:if(Kr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Qo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return oe(xt),null;case 4:return Ee(),null;case 10:return Fr(r.type),null;case 22:case 23:return Kr(r),Of(),t!==null&&oe(ks),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Fr(Ct),null;case 25:return null;default:return null}}function Hy(t,r){switch(_f(r),r.tag){case 3:Fr(Ct),Ee();break;case 26:case 27:case 5:zt(r);break;case 4:Ee();break;case 13:Kr(r);break;case 19:oe(xt);break;case 10:Fr(r.type);break;case 22:case 23:Kr(r),Of(),t!==null&&oe(ks);break;case 24:Fr(Ct)}}function cl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){et(r,r.return,T)}}function Ii(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var I=a,q=T;try{q()}catch(X){et(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){et(r,r.return,X)}}function Fy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Dg(r,a)}catch(l){et(t,t.return,l)}}}function Gy(t,r,a){a.props=Ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,r,l)}}function hl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){et(t,r,h)}}function pr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,r,h)}else a.current=null}function Ky(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function ad(t,r,a){try{var l=t.stateNode;Fw(l,t.type,a,r),l[_t]=r}catch(h){et(t,t.return,h)}}function Qy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pi(t.type)||t.tag===4}function od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Sc));else if(l!==4&&(l===27&&Pi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(ld(t,r,a),t=t.sibling;t!==null;)ld(t,r,a),t=t.sibling}function mc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Pi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,r,a),t=t.sibling;t!==null;)mc(t,r,a),t=t.sibling}function Yy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Gt(r,l,a),r[St]=t,r[_t]=a}catch(d){et(t,t.return,d)}}var $r=!1,pt=!1,ud=!1,$y=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Aw(t,r){if(t=t.containerInfo,Md=Oc,t=ag(t),of(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,q=0,X=0,Z=t,G=null;t:for(;;){for(var K;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(K=Z.firstChild)!==null;)G=Z,Z=K;for(;;){if(Z===t)break t;if(G===a&&++q===h&&(T=v),G===d&&++X===l&&(I=v),(K=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=K}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vd={focusedElem:t,selectionRange:a},Oc=!1,Ut=r;Ut!==null;)if(r=Ut,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Ut=t;else for(;Ut!==null;){switch(r=Ut,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=Ls(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){et(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Ud(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ut=t;break}Ut=r.return}}function Xy(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ci(t,a),l&4&&cl(5,a);break;case 1:if(Ci(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){et(a,a.return,v)}else{var h=Ls(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(a,a.return,v)}}l&64&&Fy(a),l&512&&hl(a,a.return);break;case 3:if(Ci(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Dg(t,r)}catch(v){et(a,a.return,v)}}break;case 27:r===null&&l&4&&Yy(a);case 26:case 5:Ci(t,a),r===null&&l&4&&Ky(a),l&512&&hl(a,a.return);break;case 12:Ci(t,a);break;case 13:Ci(t,a),l&4&&Jy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Mw.bind(null,a),Ww(t,a))));break;case 22:if(l=a.memoizedState!==null||$r,!l){r=r!==null&&r.memoizedState!==null||pt,h=$r;var d=pt;$r=l,(pt=r)&&!d?xi(t,a,(a.subtreeFlags&8772)!==0):Ci(t,a),$r=h,pt=d}break;case 30:break;default:Ci(t,a)}}function Wy(t){var r=t.alternate;r!==null&&(t.alternate=null,Wy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&gi(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,hn=!1;function Xr(t,r,a){for(a=a.child;a!==null;)Zy(t,r,a),a=a.sibling}function Zy(t,r,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(it,a)}catch{}switch(a.tag){case 26:pt||pr(a,r),Xr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||pr(a,r);var l=at,h=hn;Pi(a.type)&&(at=a.stateNode,hn=!1),Xr(t,r,a),El(a.stateNode),at=l,hn=h;break;case 5:pt||pr(a,r);case 6:if(l=at,h=hn,at=null,Xr(t,r,a),at=l,hn=h,at!==null)if(hn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){et(a,r,d)}else try{at.removeChild(a.stateNode)}catch(d){et(a,r,d)}break;case 18:at!==null&&(hn?(t=at,z_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):z_(at,a.stateNode));break;case 4:l=at,h=hn,at=a.stateNode.containerInfo,hn=!0,Xr(t,r,a),at=l,hn=h;break;case 0:case 11:case 14:case 15:pt||Ii(2,a,r),pt||Ii(4,a,r),Xr(t,r,a);break;case 1:pt||(pr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Gy(a,r,l)),Xr(t,r,a);break;case 21:Xr(t,r,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Xr(t,r,a),pt=l;break;default:Xr(t,r,a)}}function Jy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){et(r,r.return,a)}}function Sw(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new $y),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new $y),r;default:throw Error(s(435,t.tag))}}function cd(t,r){var a=Sw(t);r.forEach(function(l){var h=Vw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function En(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Pi(T.type)){at=T.stateNode,hn=!1;break e}break;case 5:at=T.stateNode,hn=!1;break e;case 3:case 4:at=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(at===null)throw Error(s(160));Zy(d,v,h),at=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)e_(r,t),r=r.sibling}var Qn=null;function e_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(r,t),Tn(t),l&4&&(Ii(3,t,t.return),cl(3,t),Ii(5,t,t.return));break;case 1:En(r,t),Tn(t),l&512&&(pt||a===null||pr(a,a.return)),l&64&&$r&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Qn;if(En(r,t),Tn(t),l&512&&(pt||a===null||pr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ds]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[St]=t,dt(d),l=d;break e;case"link":var v=Y_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Y_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,dt(d),l=d}t.stateNode=l}else $_(h,t.type,t.stateNode);else t.stateNode=Q_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?$_(h,t.type,t.stateNode):Q_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(r,t),Tn(t),l&512&&(pt||a===null||pr(a,a.return)),a!==null&&l&4&&ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(r,t),Tn(t),l&512&&(pt||a===null||pr(a,a.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(K){et(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ud=!0);break;case 6:if(En(r,t),Tn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){et(t,t.return,K)}}break;case 3:if(xc=null,h=Qn,Qn=Ic(r.containerInfo),En(r,t),Qn=h,Tn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(r.containerInfo)}catch(K){et(t,t.return,K)}ud&&(ud=!1,t_(t));break;case 4:l=Qn,Qn=Ic(t.stateNode.containerInfo),En(r,t),Tn(t),Qn=l;break;case 12:En(r,t),Tn(t);break;case 13:En(r,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gd=Mt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=$r,X=pt;if($r=q||h,pt=X||I,En(r,t),pt=X,$r=q,Tn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||$r||pt||js(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,G=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){et(I,I.return,K)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(K){et(I,I.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,cd(t,a))));break;case 19:En(r,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cd(t,l)));break;case 30:break;case 21:break;default:En(r,t),Tn(t)}}function Tn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Qy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=od(t);mc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(xn(v,""),a.flags&=-33);var T=od(t);mc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,q=od(t);ld(t,q,I);break;default:throw Error(s(161))}}catch(X){et(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function t_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;t_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ci(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Xy(t,r.alternate,r),r=r.sibling}function js(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ii(4,r,r.return),js(r);break;case 1:pr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Gy(r,r.return,a),js(r);break;case 27:El(r.stateNode);case 26:case 5:pr(r,r.return),js(r);break;case 22:r.memoizedState===null&&js(r);break;case 30:js(r);break;default:js(r)}t=t.sibling}}function xi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:xi(h,d,a),cl(4,d);break;case 1:if(xi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){et(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Ng(I[h],T)}catch(q){et(l,l.return,q)}}a&&v&64&&Fy(d),hl(d,d.return);break;case 27:Yy(d);case 26:case 5:xi(h,d,a),a&&l===null&&v&4&&Ky(d),hl(d,d.return);break;case 12:xi(h,d,a);break;case 13:xi(h,d,a),a&&v&4&&Jy(h,d);break;case 22:d.memoizedState===null&&xi(h,d,a),hl(d,d.return);break;case 30:break;default:xi(h,d,a)}r=r.sibling}}function hd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xo(a))}function fd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Xo(t))}function gr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)n_(t,r,a,l),r=r.sibling}function n_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:gr(t,r,a,l),h&2048&&cl(9,r);break;case 1:gr(t,r,a,l);break;case 3:gr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){gr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){et(r,r.return,I)}}else gr(t,r,a,l);break;case 13:gr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?gr(t,r,a,l):fl(t,r):d._visibility&2?gr(t,r,a,l):(d._visibility|=2,Oa(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&hd(v,r);break;case 24:gr(t,r,a,l),h&2048&&fd(r.alternate,r);break;default:gr(t,r,a,l)}}function Oa(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,I=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Oa(d,v,T,I,h),cl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Oa(d,v,T,I,h):fl(d,v):(X._visibility|=2,Oa(d,v,T,I,h)),h&&q&2048&&hd(v.alternate,v);break;case 24:Oa(d,v,T,I,h),h&&q&2048&&fd(v.alternate,v);break;default:Oa(d,v,T,I,h)}r=r.sibling}}function fl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:fl(a,l),h&2048&&hd(l.alternate,l);break;case 24:fl(a,l),h&2048&&fd(l.alternate,l);break;default:fl(a,l)}r=r.sibling}}var dl=8192;function Ma(t){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)r_(t),t=t.sibling}function r_(t){switch(t.tag){case 26:Ma(t),t.flags&dl&&t.memoizedState!==null&&cA(Qn,t.memoizedState,t.memoizedProps);break;case 5:Ma(t);break;case 3:case 4:var r=Qn;Qn=Ic(t.stateNode.containerInfo),Ma(t),Qn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=dl,dl=16777216,Ma(t),dl=r):Ma(t));break;default:Ma(t)}}function i_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function ml(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,a_(l,t)}i_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)s_(t),t=t.sibling}function s_(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&Ii(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,pc(t)):ml(t);break;default:ml(t)}}function pc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,a_(l,t)}i_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ii(8,r,r.return),pc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,pc(r));break;default:pc(r)}t=t.sibling}}function a_(t,r){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ii(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(Wy(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var Rw={getCacheForType:function(t){var r=Xt(Ct),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},Iw=typeof WeakMap=="function"?WeakMap:Map,Ye=0,tt=null,Ve=null,Be=0,$e=0,bn=null,Ni=!1,Va=!1,dd=!1,Wr=0,ht=0,Di=0,zs=0,md=0,Ln=0,Pa=0,pl=null,fn=null,pd=!1,gd=0,gc=1/0,yc=null,Oi=null,Ft=0,Mi=null,ka=null,Ua=0,yd=0,_d=null,o_=null,gl=0,vd=null;function wn(){if((Ye&2)!==0&&Be!==0)return Be&-Be;if($.T!==null){var t=Aa;return t!==0?t:Rd()}return mi()}function l_(){Ln===0&&(Ln=(Be&536870912)===0||Fe?So():536870912);var t=Un.current;return t!==null&&(t.flags|=32),Ln}function An(t,r,a){(t===tt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(La(t,0),Vi(t,Be,Ln,!1)),xr(t,a),((Ye&2)===0||t!==tt)&&(t===tt&&((Ye&2)===0&&(zs|=a),ht===4&&Vi(t,Be,Ln,!1)),yr(t))}function u_(t,r,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||fs(t,r),h=l?Nw(t,r):bd(t,r,!0),d=l;do{if(h===0){Va&&!l&&Vi(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Cw(a)){h=bd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;h=pl;var I=T.current.memoizedState.isDehydrated;if(I&&(La(T,v).flags|=256),v=bd(T,v,!1),v!==2){if(dd&&!I){T.errorRecoveryDisabledLanes|=d,zs|=d,h=4;break e}d=fn,fn=h,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){La(t,0),Vi(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Vi(l,r,Ln,!Ni);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=gd+300-Mt(),10<h)){if(Vi(l,r,Ln,!Ni),ta(l,0,!0)!==0)break e;l.timeoutHandle=L_(c_.bind(null,l,a,fn,yc,pd,r,Ln,zs,Pa,Ni,d,2,-0,0),h);break e}c_(l,a,fn,yc,pd,r,Ln,zs,Pa,Ni,d,0,-0,0)}}break}while(!0);yr(t)}function c_(t,r,a,l,h,d,v,T,I,q,X,Z,G,K){if(t.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:uA},r_(r),Z=hA(),Z!==null)){t.cancelPendingCommit=Z(y_.bind(null,t,r,d,a,l,h,v,T,I,X,1,G,K)),Vi(t,d,v,!q);return}y_(t,r,d,a,l,h,v,T,I)}function Cw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Vi(t,r,a,l){r&=~md,r&=~zs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-$t(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&nr(t,a,r)}function _c(){return(Ye&6)===0?(yl(0),!1):!0}function Ed(){if(Ve!==null){if($e===0)var t=Ve.return;else t=Ve,Hr=Vs=null,Uf(t),Na=null,ol=0,t=Ve;for(;t!==null;)Hy(t.alternate,t),t=t.return;Ve=null}}function La(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Kw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ed(),tt=t,Ve=a=zr(t.current,null),Be=r,$e=0,bn=null,Ni=!1,Va=fs(t,r),dd=!1,Pa=Ln=md=zs=Di=ht=0,fn=pl=null,pd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-$t(l),d=1<<h;r|=t[h],l&=~d}return Wr=r,zu(),a}function h_(t,r){De=null,$.H=sc,r===Zo||r===$u?(r=Cg(),$e=3):r===Sg?(r=Cg(),$e=4):$e=r===xy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,Ve===null&&(ht=1,cc(t,Mn(r,t.current)))}function f_(){var t=$.H;return $.H=sc,t===null?sc:t}function d_(){var t=$.A;return $.A=Rw,t}function Td(){ht=4,Ni||(Be&4194048)!==Be&&Un.current!==null||(Va=!0),(Di&134217727)===0&&(zs&134217727)===0||tt===null||Vi(tt,Be,Ln,!1)}function bd(t,r,a){var l=Ye;Ye|=2;var h=f_(),d=d_();(tt!==t||Be!==r)&&(yc=null,La(t,r)),r=!1;var v=ht;e:do try{if($e!==0&&Ve!==null){var T=Ve,I=bn;switch($e){case 8:Ed(),v=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var q=$e;if($e=0,bn=null,ja(t,T,I,q),a&&Va){v=0;break e}break;default:q=$e,$e=0,bn=null,ja(t,T,I,q)}}xw(),v=ht;break}catch(X){h_(t,X)}while(!0);return r&&t.shellSuspendCounter++,Hr=Vs=null,Ye=l,$.H=h,$.A=d,Ve===null&&(tt=null,Be=0,zu()),v}function xw(){for(;Ve!==null;)m_(Ve)}function Nw(t,r){var a=Ye;Ye|=2;var l=f_(),h=d_();tt!==t||Be!==r?(yc=null,gc=Mt()+500,La(t,r)):Va=fs(t,r);e:do try{if($e!==0&&Ve!==null){r=Ve;var d=bn;t:switch($e){case 1:$e=0,bn=null,ja(t,r,d,1);break;case 2:case 9:if(Rg(d)){$e=0,bn=null,p_(r);break}r=function(){$e!==2&&$e!==9||tt!==t||($e=7),yr(t)},d.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Rg(d)?($e=0,bn=null,p_(r)):($e=0,bn=null,ja(t,r,d,7));break;case 5:var v=null;switch(Ve.tag){case 26:v=Ve.memoizedState;case 5:case 27:var T=Ve;if(!v||X_(v)){$e=0,bn=null;var I=T.sibling;if(I!==null)Ve=I;else{var q=T.return;q!==null?(Ve=q,vc(q)):Ve=null}break t}}$e=0,bn=null,ja(t,r,d,5);break;case 6:$e=0,bn=null,ja(t,r,d,6);break;case 8:Ed(),ht=6;break e;default:throw Error(s(462))}}Dw();break}catch(X){h_(t,X)}while(!0);return Hr=Vs=null,$.H=l,$.A=h,Ye=a,Ve!==null?0:(tt=null,Be=0,zu(),ht)}function Dw(){for(;Ve!==null&&!qn();)m_(Ve)}function m_(t){var r=By(t.alternate,t,Wr);t.memoizedProps=t.pendingProps,r===null?vc(t):Ve=r}function p_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Py(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=Py(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Uf(r);default:Hy(a,r),r=Ve=gg(r,Wr),r=By(a,r,Wr)}t.memoizedProps=t.pendingProps,r===null?vc(t):Ve=r}function ja(t,r,a,l){Hr=Vs=null,Uf(r),Na=null,ol=0;var h=r.return;try{if(Ew(t,h,r,a,Be)){ht=1,cc(t,Mn(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;ht=1,cc(t,Mn(a,t.current)),Ve=null;return}r.flags&32768?(Fe||l===1?t=!0:Va||(Be&536870912)!==0?t=!1:(Ni=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),g_(r,t)):vc(r)}function vc(t){var r=t;do{if((r.flags&32768)!==0){g_(r,Ni);return}t=r.return;var a=bw(r.alternate,r,Wr);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=t}while(r!==null);ht===0&&(ht=5)}function g_(t,r){do{var a=ww(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);ht=6,Ve=null}function y_(t,r,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do Ec();while(Ft!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=ff,Io(t,a,d,v,T,I),t===tt&&(Ve=tt=null,Be=0),ka=r,Mi=t,Ua=a,yd=d,_d=h,o_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Pw(Rn,function(){return b_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=ae.p,ae.p=2,v=Ye,Ye|=4;try{Aw(t,r,a)}finally{Ye=v,ae.p=h,$.T=l}}Ft=1,__(),v_(),E_()}}function __(){if(Ft===1){Ft=0;var t=Mi,r=ka,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Ye;Ye|=4;try{e_(r,t);var d=Vd,v=ag(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&sg(T.ownerDocument.documentElement,T)){if(I!==null&&of(T)){var q=I.start,X=I.end;if(X===void 0&&(X=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(X,T.value.length);else{var Z=T.ownerDocument||document,G=Z&&Z.defaultView||window;if(G.getSelection){var K=G.getSelection(),we=T.textContent.length,_e=Math.min(I.start,we),Je=I.end===void 0?_e:Math.min(I.end,we);!K.extend&&_e>Je&&(v=Je,Je=_e,_e=v);var k=ig(T,_e),D=ig(T,Je);if(k&&D&&(K.rangeCount!==1||K.anchorNode!==k.node||K.anchorOffset!==k.offset||K.focusNode!==D.node||K.focusOffset!==D.offset)){var B=Z.createRange();B.setStart(k.node,k.offset),K.removeAllRanges(),_e>Je?(K.addRange(B),K.extend(D.node,D.offset)):(B.setEnd(D.node,D.offset),K.addRange(B))}}}}for(Z=[],K=T;K=K.parentNode;)K.nodeType===1&&Z.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var W=Z[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Oc=!!Md,Vd=Md=null}finally{Ye=h,ae.p=l,$.T=a}}t.current=r,Ft=2}}function v_(){if(Ft===2){Ft=0;var t=Mi,r=ka,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Ye;Ye|=4;try{Xy(t,r.alternate,r)}finally{Ye=h,ae.p=l,$.T=a}}Ft=3}}function E_(){if(Ft===4||Ft===3){Ft=0,tr();var t=Mi,r=ka,a=Ua,l=o_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ft=5:(Ft=0,ka=Mi=null,T_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Oi=null),na(a),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(it,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,h=ae.p,ae.p=2,$.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{$.T=r,ae.p=h}}(Ua&3)!==0&&Ec(),yr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===vd?gl++:(gl=0,vd=t):gl=0,yl(0)}}function T_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Xo(r)))}function Ec(t){return __(),v_(),E_(),b_()}function b_(){if(Ft!==5)return!1;var t=Mi,r=yd;yd=0;var a=na(Ua),l=$.T,h=ae.p;try{ae.p=32>a?32:a,$.T=null,a=_d,_d=null;var d=Mi,v=Ua;if(Ft=0,ka=Mi=null,Ua=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,s_(d.current),n_(d,d.current,v,a),Ye=T,yl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(it,d)}catch{}return!0}finally{ae.p=h,$.T=l,T_(t,r)}}function w_(t,r,a){r=Mn(a,r),r=Wf(t.stateNode,r,2),t=wi(t,r,2),t!==null&&(xr(t,2),yr(t))}function et(t,r,a){if(t.tag===3)w_(t,t,a);else for(;r!==null;){if(r.tag===3){w_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Oi===null||!Oi.has(l))){t=Mn(a,t),a=Iy(2),l=wi(r,a,2),l!==null&&(Cy(a,l,r,t),xr(l,2),yr(l));break}}r=r.return}}function wd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Iw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(dd=!0,h.add(a),t=Ow.bind(null,t,r,a),r.then(t,t))}function Ow(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Be&a)===a&&(ht===4||ht===3&&(Be&62914560)===Be&&300>Mt()-gd?(Ye&2)===0&&La(t,0):md|=a,Pa===Be&&(Pa=0)),yr(t)}function A_(t,r){r===0&&(r=Ro()),t=Ea(t,r),t!==null&&(xr(t,r),yr(t))}function Mw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),A_(t,a)}function Vw(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),A_(t,a)}function Pw(t,r){return Bn(t,r)}var Tc=null,za=null,Ad=!1,bc=!1,Sd=!1,Bs=0;function yr(t){t!==za&&t.next===null&&(za===null?Tc=za=t:za=za.next=t),bc=!0,Ad||(Ad=!0,Uw())}function yl(t,r){if(!Sd&&bc){Sd=!0;do for(var a=!1,l=Tc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-$t(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,C_(l,d))}else d=Be,d=ta(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||fs(l,d)||(a=!0,C_(l,d));l=l.next}while(a);Sd=!1}}function kw(){S_()}function S_(){bc=Ad=!1;var t=0;Bs!==0&&(Gw()&&(t=Bs),Bs=0);for(var r=Mt(),a=null,l=Tc;l!==null;){var h=l.next,d=R_(l,r);d===0?(l.next=null,a===null?Tc=h:a.next=h,h===null&&(za=a)):(a=l,(t!==0||(d&3)!==0)&&(bc=!0)),l=h}yl(t)}function R_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-$t(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Ao(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=tt,a=Be,a=ta(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||fs(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&pn(l),na(a)){case 2:case 8:a=yt;break;case 32:a=Rn;break;case 268435456:a=Ir;break;default:a=Rn}return l=I_.bind(null,t),a=Bn(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&pn(l),t.callbackPriority=2,t.callbackNode=null,2}function I_(t,r){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ec()&&t.callbackNode!==a)return null;var l=Be;return l=ta(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(u_(t,l,r),R_(t,Mt()),t.callbackNode!=null&&t.callbackNode===a?I_.bind(null,t):null)}function C_(t,r){if(Ec())return null;u_(t,r,!0)}function Uw(){Qw(function(){(Ye&6)!==0?Bn(nn,kw):S_()})}function Rd(){return Bs===0&&(Bs=So()),Bs}function x_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:la(""+t)}function N_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Lw(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=x_((h[_t]||null).action),v=l.submitter;v&&(r=(r=v[_t]||null)?x_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new ua("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bs!==0){var I=v?N_(h,v):new FormData(h);Kf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?N_(h,v):new FormData(h),Kf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Id=0;Id<hf.length;Id++){var Cd=hf[Id],jw=Cd.toLowerCase(),zw=Cd[0].toUpperCase()+Cd.slice(1);Kn(jw,"on"+zw)}Kn(ug,"onAnimationEnd"),Kn(cg,"onAnimationIteration"),Kn(hg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(rw,"onTransitionRun"),Kn(iw,"onTransitionStart"),Kn(sw,"onTransitionCancel"),Kn(fg,"onTransitionEnd"),Dr("onMouseEnter",["mouseout","mouseover"]),Dr("onMouseLeave",["mouseout","mouseover"]),Dr("onPointerEnter",["pointerout","pointerover"]),Dr("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function D_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,q=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(X){uc(X)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,q=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(X){uc(X)}h.currentTarget=null,d=I}}}}function Pe(t,r){var a=r[xo];a===void 0&&(a=r[xo]=new Set);var l=t+"__bubble";a.has(l)||(O_(r,t,2,!1),a.add(l))}function xd(t,r,a){var l=0;r&&(l|=4),O_(a,t,l,r)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[wc]){t[wc]=!0,No.forEach(function(a){a!=="selectionchange"&&(Bw.has(a)||xd(a,!1,t),xd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[wc]||(r[wc]=!0,xd("selectionchange",!1,r))}}function O_(t,r,a,l){switch(nv(r)){case 2:var h=mA;break;case 8:h=pA;break;default:h=Fd}a=h.bind(null,r,a,t),h=void 0,!Dn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Dd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Nr(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Su(function(){var q=d,X=Nn(a),Z=[];e:{var G=dg.get(t);if(G!==void 0){var K=ua,we=t;switch(t){case"keypress":if(lr(a)===0)break e;case"keydown":case"keyup":K=pa;break;case"focusin":we="focus",K=fa;break;case"focusout":we="blur",K=fa;break;case"beforeblur":case"afterblur":K=fa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Mu;break;case ug:case cg:case hg:K=da;break;case fg:K=Pu;break;case"scroll":case"scrollend":K=Ru;break;case"wheel":K=ga;break;case"copy":case"cut":case"paste":K=ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=qo;break;case"toggle":case"beforetoggle":K=Uu}var _e=(r&4)!==0,Je=!_e&&(t==="scroll"||t==="scrollend"),k=_e?G!==null?G+"Capture":null:G;_e=[];for(var D=q,B;D!==null;){var W=D;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||k===null||(W=Es(D,k),W!=null&&_e.push(vl(D,W,B))),Je)break;D=D.return}0<_e.length&&(G=new K(G,we,null,a,X),Z.push({event:G,listeners:_e}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&a!==Vr&&(we=a.relatedTarget||a.fromElement)&&(Nr(we)||we[Cn]))break e;if((K||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,K?(we=a.relatedTarget||a.toElement,K=q,we=we?Nr(we):null,we!==null&&(Je=u(we),_e=we.tag,we!==Je||_e!==5&&_e!==27&&_e!==6)&&(we=null)):(K=null,we=q),K!==we)){if(_e=On,W="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=qo,W="onPointerLeave",k="onPointerEnter",D="pointer"),Je=K==null?G:ir(K),B=we==null?G:ir(we),G=new _e(W,D+"leave",K,a,X),G.target=Je,G.relatedTarget=B,W=null,Nr(X)===q&&(_e=new _e(k,D+"enter",we,a,X),_e.target=B,_e.relatedTarget=Je,W=_e),Je=W,K&&we)t:{for(_e=K,k=we,D=0,B=_e;B;B=Ba(B))D++;for(B=0,W=k;W;W=Ba(W))B++;for(;0<D-B;)_e=Ba(_e),D--;for(;0<B-D;)k=Ba(k),B--;for(;D--;){if(_e===k||k!==null&&_e===k.alternate)break t;_e=Ba(_e),k=Ba(k)}_e=null}else _e=null;K!==null&&M_(Z,G,K,_e,!1),we!==null&&Je!==null&&M_(Z,Je,we,_e,!0)}}e:{if(G=q?ir(q):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var he=Zp;else if(It(G))if(Jp)he=ew;else{he=Zb;var Me=Wb}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&Po(q.elementType)&&(he=Zp):he=Jb;if(he&&(he=he(t,q))){jr(Z,he,a,X);break e}Me&&Me(t,G,q),t==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&_i(G,"number",G.value)}switch(Me=q?ir(q):window,t){case"focusin":(It(Me)||Me.contentEditable==="true")&&(ya=Me,lf=q,Go=null);break;case"focusout":Go=lf=ya=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,og(Z,a,X);break;case"selectionchange":if(nw)break;case"keydown":case"keyup":og(Z,a,X)}var pe;if(hr)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else je?Q(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(je||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&je&&(pe=Uo()):(or=X,vi="value"in or?or.value:or.textContent,je=!0)),Me=Ac(q,ve),0<Me.length&&(ve=new zo(ve,t,null,a,X),Z.push({event:ve,listeners:Me}),pe?ve.data=pe:(pe=se(a),pe!==null&&(ve.data=pe)))),(pe=g?Rt(t,a):ze(t,a))&&(ve=Ac(q,"onBeforeInput"),0<ve.length&&(Me=new zo("onBeforeInput","beforeinput",null,a,X),Z.push({event:Me,listeners:ve}),Me.data=pe)),Lw(Z,t,q,a,X)}D_(Z,r)})}function vl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Ac(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Es(t,a),h!=null&&l.unshift(vl(t,h,d)),h=Es(t,r),h!=null&&l.push(vl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function M_(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,q=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||q===null||(I=q,h?(q=Es(a,d),q!=null&&v.unshift(vl(a,q,I))):h||(q=Es(a,d),q!=null&&v.push(vl(a,q,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var qw=/\r\n?/g,Hw=/\u0000|\uFFFD/g;function V_(t){return(typeof t=="string"?t:""+t).replace(qw,`
`).replace(Hw,"")}function P_(t,r){return r=V_(r),V_(t)===r}function Sc(){}function Ze(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&xn(t,""+l);break;case"className":sr(t,"class",l);break;case"tabIndex":sr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(t,a,l);break;case"style":Vo(t,l,d);break;case"data":if(r!=="object"){sr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ze(t,r,"name",h.name,h,null),Ze(t,r,"formEncType",h.formEncType,h,null),Ze(t,r,"formMethod",h.formMethod,h,null),Ze(t,r,"formTarget",h.formTarget,h,null)):(Ze(t,r,"encType",h.encType,h,null),Ze(t,r,"method",h.method,h,null),Ze(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=la(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),yi(t,"popover",l);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ef.get(a)||a,yi(t,a,l))}}function Od(t,r,a,l,h,d){switch(a){case"style":Vo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ra.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[_t]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):yi(t,a,l)}}}function Gt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,d,v,a,null)}}h&&Ze(t,r,"srcSet",a.srcSet,a,null),l&&Ze(t,r,"src",a.src,a,null);return;case"input":Pe("invalid",t);var T=d=v=h=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Ze(t,r,l,X,a,null)}}ys(t,d,T,I,q,v,h,!1),oa(t);return;case"select":Pe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ze(t,r,h,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Mr(t,!!l,r,!1):a!=null&&Mr(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ze(t,r,v,T,a,null)}_s(t,l,h,d),oa(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,r,I,l,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)Pe(_l[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,q,l,a,null)}return;default:if(Po(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Od(t,r,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ze(t,r,T,l,a,null))}function Fw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,q=null,X=null;for(K in a){var Z=a[K];if(a.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(K)||Ze(t,r,K,null,l,Z)}}for(var G in l){var K=l[G];if(Z=a[G],l.hasOwnProperty(G)&&(K!=null||Z!=null))switch(G){case"type":d=K;break;case"name":h=K;break;case"checked":q=K;break;case"defaultChecked":X=K;break;case"value":v=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==Z&&Ze(t,r,G,K,l,Z)}}yn(t,v,T,I,q,X,d,h);return;case"select":K=v=T=G=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(d)||Ze(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Ze(t,r,h,d,l,I)}r=T,a=v,l=K,G!=null?Mr(t,!!a,G,!1):!!l!=!!a&&(r!=null?Mr(t,!!a,r,!0):Mr(t,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,r,v,h,l,d)}Xe(t,G,K);return;case"option":for(var we in a)if(G=a[we],a.hasOwnProperty(we)&&G!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:Ze(t,r,we,null,l,G)}for(I in l)if(G=l[I],K=a[I],l.hasOwnProperty(I)&&G!==K&&(G!=null||K!=null))switch(I){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(t,r,I,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)G=a[_e],a.hasOwnProperty(_e)&&G!=null&&!l.hasOwnProperty(_e)&&Ze(t,r,_e,null,l,G);for(q in l)if(G=l[q],K=a[q],l.hasOwnProperty(q)&&G!==K&&(G!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:Ze(t,r,q,G,l,K)}return;default:if(Po(r)){for(var Je in a)G=a[Je],a.hasOwnProperty(Je)&&G!==void 0&&!l.hasOwnProperty(Je)&&Od(t,r,Je,void 0,l,G);for(X in l)G=l[X],K=a[X],!l.hasOwnProperty(X)||G===K||G===void 0&&K===void 0||Od(t,r,X,G,l,K);return}}for(var k in a)G=a[k],a.hasOwnProperty(k)&&G!=null&&!l.hasOwnProperty(k)&&Ze(t,r,k,null,l,G);for(Z in l)G=l[Z],K=a[Z],!l.hasOwnProperty(Z)||G===K||G==null&&K==null||Ze(t,r,Z,G,l,K)}var Md=null,Vd=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function k_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Pd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var kd=null;function Gw(){var t=window.event;return t&&t.type==="popstate"?t===kd?!1:(kd=t,!0):(kd=null,!1)}var L_=typeof setTimeout=="function"?setTimeout:void 0,Kw=typeof clearTimeout=="function"?clearTimeout:void 0,j_=typeof Promise=="function"?Promise:void 0,Qw=typeof queueMicrotask=="function"?queueMicrotask:typeof j_<"u"?function(t){return j_.resolve(null).then(t).catch(Yw)}:L_;function Yw(t){setTimeout(function(){throw t})}function Pi(t){return t==="head"}function z_(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&El(v.documentElement),a&2&&El(v.body),a&4)for(a=v.head,El(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[ds]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Cl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Cl(r)}function Ud(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ud(a),gi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function $w(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ds])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function Xw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yn(t.nextSibling),t===null))return null;return t}function Ld(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Ww(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var jd=null;function B_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function q_(t,r,a){switch(r=Rc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function El(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);gi(t)}var jn=new Map,H_=new Set;function Ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zr=ae.d;ae.d={f:Zw,r:Jw,D:eA,C:tA,L:nA,m:rA,X:sA,S:iA,M:aA};function Zw(){var t=Zr.f(),r=_c();return t||r}function Jw(t){var r=rr(t);r!==null&&r.tag===5&&r.type==="form"?uy(r):Zr.r(t)}var qa=typeof document>"u"?null:document;function F_(t,r,a){var l=qa;if(l&&typeof r=="string"&&r){var h=vt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),H_.has(h)||(H_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Gt(r,"link",t),dt(r),l.head.appendChild(r)))}}function eA(t){Zr.D(t),F_("dns-prefetch",t,null)}function tA(t,r){Zr.C(t,r),F_("preconnect",t,r)}function nA(t,r,a){Zr.L(t,r,a);var l=qa;if(l&&t&&r){var h='link[rel="preload"][as="'+vt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vt(a.imageSizes)+'"]')):h+='[href="'+vt(t)+'"]';var d=h;switch(r){case"style":d=Ha(t);break;case"script":d=Fa(t)}jn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),jn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Tl(d))||r==="script"&&l.querySelector(bl(d))||(r=l.createElement("link"),Gt(r,"link",t),dt(r),l.head.appendChild(r)))}}function rA(t,r){Zr.m(t,r);var a=qa;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+vt(l)+'"][href="'+vt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Fa(t)}if(!jn.has(d)&&(t=E({rel:"modulepreload",href:t},r),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),Gt(l,"link",t),dt(l),a.head.appendChild(l)}}}function iA(t,r,a){Zr.S(t,r,a);var l=qa;if(l&&t){var h=rn(l).hoistableStyles,d=Ha(t);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Tl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=jn.get(d))&&zd(t,a);var I=v=l.createElement("link");dt(I),Gt(I,"link",t),I._p=new Promise(function(q,X){I.onload=q,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Cc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function sA(t,r){Zr.X(t,r);var a=qa;if(a&&t){var l=rn(a).hoistableScripts,h=Fa(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=E({src:t,async:!0},r),(r=jn.get(h))&&Bd(t,r),d=a.createElement("script"),dt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function aA(t,r){Zr.M(t,r);var a=qa;if(a&&t){var l=rn(a).hoistableScripts,h=Fa(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=jn.get(h))&&Bd(t,r),d=a.createElement("script"),dt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function G_(t,r,a,l){var h=(h=be.current)?Ic(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ha(a.href),a=rn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ha(a.href);var d=rn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Tl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||oA(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Fa(a),a=rn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ha(t){return'href="'+vt(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function K_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function oA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Gt(r,"link",a),dt(r),t.head.appendChild(r))}function Fa(t){return'[src="'+vt(t)+'"]'}function bl(t){return"script[async]"+t}function Q_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+vt(a.href)+'"]');if(l)return r.instance=l,dt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),Gt(l,"style",h),Cc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Ha(a.href);var d=t.querySelector(Tl(h));if(d)return r.state.loading|=4,r.instance=d,dt(d),d;l=K_(a),(h=jn.get(h))&&zd(l,h),d=(t.ownerDocument||t).createElement("link"),dt(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Gt(d,"link",l),r.state.loading|=4,Cc(d,a.precedence,t),r.instance=d;case"script":return d=Fa(a.src),(h=t.querySelector(bl(d)))?(r.instance=h,dt(h),h):(l=a,(h=jn.get(d))&&(l=E({},a),Bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),Gt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Cc(l,a.precedence,t));return r.instance}function Cc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function zd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Bd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var xc=null;function Y_(t,r,a){if(xc===null){var l=new Map,h=xc=new Map;h.set(a,l)}else h=xc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ds]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function $_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function lA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function X_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function uA(){}function cA(t,r,a){if(wl===null)throw Error(s(475));var l=wl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ha(a.href),d=t.querySelector(Tl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Nc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,dt(d);return}d=t.ownerDocument||t,a=K_(a),(h=jn.get(h))&&zd(a,h),d=d.createElement("link"),dt(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Gt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Nc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function hA(){if(wl===null)throw Error(s(475));var t=wl;return t.stylesheets&&t.count===0&&qd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&qd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Nc(){if(this.count--,this.count===0){if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function qd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,r.forEach(fA,t),Dc=null,Nc.call(t))}function fA(t,r){if(!(r.state.loading&4)){var a=Dc.get(t);if(a)var l=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Al={$$typeof:ne,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function dA(t,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function W_(t,r,a,l,h,d,v,T,I,q,X,Z){return t=new dA(t,r,a,v,T,I,q,Z),r=1,d===!0&&(r|=24),d=vn(3,null,null,r),t.current=d,d.stateNode=t,r=wf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},If(d),t}function Z_(t){return t?(t=Ta,t):Ta}function J_(t,r,a,l,h,d){h=Z_(h),l.context===null?l.context=h:l.pendingContext=h,l=bi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=wi(t,l,r),a!==null&&(An(a,t,r),el(a,t,r))}function ev(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Hd(t,r){ev(t,r),(t=t.alternate)&&ev(t,r)}function tv(t){if(t.tag===13){var r=Ea(t,67108864);r!==null&&An(r,t,67108864),Hd(t,67108864)}}var Oc=!0;function mA(t,r,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=2,Fd(t,r,a,l)}finally{ae.p=d,$.T=h}}function pA(t,r,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=8,Fd(t,r,a,l)}finally{ae.p=d,$.T=h}}function Fd(t,r,a,l){if(Oc){var h=Gd(l);if(h===null)Dd(t,r,l,Mc,a),rv(t,l);else if(yA(h,t,r,a,l))l.stopPropagation();else if(rv(t,l),r&4&&-1<gA.indexOf(t)){for(;h!==null;){var d=rr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Hn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-$t(v);T.entanglements[1]|=I,v&=~I}yr(d),(Ye&6)===0&&(gc=Mt()+500,yl(0))}}break;case 13:T=Ea(d,2),T!==null&&An(T,d,2),_c(),Hd(d,2)}if(d=Gd(l),d===null&&Dd(t,r,l,Mc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Dd(t,r,l,null,a)}}function Gd(t){return t=Nn(t),Kd(t)}var Mc=null;function Kd(t){if(Mc=null,t=Nr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Mc=t,null}function nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rr()){case nn:return 2;case yt:return 8;case Rn:case In:return 32;case Ir:return 268435456;default:return 32}default:return 32}}var Qd=!1,ki=null,Ui=null,Li=null,Sl=new Map,Rl=new Map,ji=[],gA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(t,r){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":Sl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(r.pointerId)}}function Il(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=rr(r),r!==null&&tv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function yA(t,r,a,l,h){switch(r){case"focusin":return ki=Il(ki,t,r,a,l,h),!0;case"dragenter":return Ui=Il(Ui,t,r,a,l,h),!0;case"mouseover":return Li=Il(Li,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,Il(Sl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,Il(Rl.get(d)||null,t,r,a,l,h)),!0}return!1}function iv(t){var r=Nr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,_u(t.priority,function(){if(a.tag===13){var l=wn();l=di(l);var h=Ea(a,l);h!==null&&An(h,a,l),Hd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Gd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Vr=l,a.target.dispatchEvent(l),Vr=null}else return r=rr(a),r!==null&&tv(r),t.blockedOn=a,!1;r.shift()}return!0}function sv(t,r,a){Vc(t)&&a.delete(r)}function _A(){Qd=!1,ki!==null&&Vc(ki)&&(ki=null),Ui!==null&&Vc(Ui)&&(Ui=null),Li!==null&&Vc(Li)&&(Li=null),Sl.forEach(sv),Rl.forEach(sv)}function Pc(t,r){t.blockedOn===r&&(t.blockedOn=null,Qd||(Qd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_A)))}var kc=null;function av(t){kc!==t&&(kc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){kc===t&&(kc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Kd(l||a)===null)continue;break}var d=rr(a);d!==null&&(t.splice(r,3),r-=3,Kf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Cl(t){function r(I){return Pc(I,t)}ki!==null&&Pc(ki,t),Ui!==null&&Pc(Ui,t),Li!==null&&Pc(Li,t),Sl.forEach(r),Rl.forEach(r);for(var a=0;a<ji.length;a++){var l=ji[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ji.length&&(a=ji[0],a.blockedOn===null);)iv(a),a.blockedOn===null&&ji.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[_t]||null;if(typeof d=="function")v||av(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[_t]||null)T=v.formAction;else if(Kd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),av(a)}}}function Yd(t){this._internalRoot=t}Uc.prototype.render=Yd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=wn();J_(a,l,t,r,null,null)},Uc.prototype.unmount=Yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;J_(t.current,2,null,t,null,null),_c(),r[Cn]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var r=mi();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ji.length&&r!==0&&r<ji[a].priority;a++);ji.splice(a,0,t),a===0&&iv(t)}};var ov=e.version;if(ov!=="19.1.0")throw Error(s(527,ov,"19.1.0"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var vA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{it=Lc.inject(vA),Ge=Lc}catch{}}return Nl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=wy,d=Ay,v=Sy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=W_(t,1,!1,null,null,a,l,h,d,v,T,null),t[Cn]=r.current,Nd(t),new Yd(r)},Nl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=wy,v=Ay,T=Sy,I=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=W_(t,1,!0,r,a??null,l,h,d,v,T,I,q),r.context=Z_(null),a=r.current,l=wn(),l=di(l),h=bi(l),h.callback=null,wi(a,h,l),a=l,r.current.lanes=a,xr(r,a),yr(r),t[Cn]=r.current,Nd(t),new Uc(r)},Nl.version="19.1.0",Nl}var yv;function NA(){if(yv)return Wd.exports;yv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Wd.exports=xA(),Wd.exports}var DA=NA();const OA=J0(DA);var Dl={},_v;function MA(){if(_v)return Dl;_v=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parse=f,Dl.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,M){const V=new u,F=A.length;if(F<2)return V;const j=(M==null?void 0:M.decode)||E;let Y=0;do{const re=A.indexOf("=",Y);if(re===-1)break;const ne=A.indexOf(";",Y),de=ne===-1?F:ne;if(re>de){Y=A.lastIndexOf(";",re-1)+1;continue}const fe=m(A,Y,re),Se=p(A,re,fe),O=A.slice(fe,Se);if(V[O]===void 0){let S=m(A,re+1,de),R=p(A,de,S);const N=j(A.slice(S,R));V[O]=N}Y=de+1}while(Y<F);return V}function m(A,M,V){do{const F=A.charCodeAt(M);if(F!==32&&F!==9)return M}while(++M<V);return V}function p(A,M,V){for(;M>V;){const F=A.charCodeAt(--M);if(F!==32&&F!==9)return M+1}return V}function y(A,M,V){const F=(V==null?void 0:V.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const j=F(M);if(!e.test(j))throw new TypeError(`argument val is invalid: ${M}`);let Y=A+"="+j;if(!V)return Y;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);Y+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);Y+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);Y+="; Path="+V.path}if(V.expires){if(!w(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);Y+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(Y+="; HttpOnly"),V.secure&&(Y+="; Secure"),V.partitioned&&(Y+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return Y}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return Dl}MA();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vv="popstate";function VA(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return pm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Gl(o)}return kA(e,n,null,i)}function ot(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Wn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PA(){return Math.random().toString(36).substring(2,10)}function Ev(i,e){return{usr:i.state,key:i.key,idx:e}}function pm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:n,key:e&&e.key||s||PA()}}function Gl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function uo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function kA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let j=E(),Y=j==null?null:j-y;y=j,p&&p({action:m,location:F.location,delta:Y})}function A(j,Y){m="PUSH";let re=pm(F.location,j,Y);y=E()+1;let ne=Ev(re,y),de=F.createHref(re);try{f.pushState(ne,"",de)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(de)}u&&p&&p({action:m,location:F.location,delta:1})}function M(j,Y){m="REPLACE";let re=pm(F.location,j,Y);y=E();let ne=Ev(re,y),de=F.createHref(re);f.replaceState(ne,"",de),u&&p&&p({action:m,location:F.location,delta:0})}function V(j){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof j=="string"?j:Gl(j);return re=re.replace(/ $/,"%20"),ot(Y,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,Y)}let F={get action(){return m},get location(){return i(o,f)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(vv,w),p=j,()=>{o.removeEventListener(vv,w),p=null}},createHref(j){return e(o,j)},createURL:V,encodeLocation(j){let Y=V(j);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:M,go(j){return f.go(j)}};return F}function eE(i,e,n="/"){return UA(i,e,n,!1)}function UA(i,e,n,s){let o=typeof e=="string"?uo(e):e,u=si(o.pathname||"/",n);if(u==null)return null;let f=tE(i);LA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=$A(u);m=QA(f[p],y,s)}return m}function tE(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=ti([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),tE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:GA(y,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of nE(u.path))o(u,f,p)}),e}function nE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=nE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function LA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:KA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var jA=/^:[\w-]+$/,zA=3,BA=2,qA=1,HA=10,FA=-2,Tv=i=>i==="*";function GA(i,e){let n=i.split("/"),s=n.length;return n.some(Tv)&&(s+=FA),e&&(s+=BA),n.filter(o=>!Tv(o)).reduce((o,u)=>o+(jA.test(u)?zA:u===""?qA:HA),s)}function KA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function QA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),A=p.route;if(!w&&y&&n&&!s[s.length-1].route.index&&(w=ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:ti([u,w.pathname]),pathnameBase:JA(ti([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=ti([u,w.pathnameBase]))}return f}function ih(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=YA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:w},A)=>{if(E==="*"){let V=m[A]||"";f=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const M=m[A];return w&&!M?y[E]=void 0:y[E]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function YA(i,e=!1,n=!0){Wn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function $A(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function si(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function XA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?uo(i):i;return{pathname:n?n.startsWith("/")?n:WA(n,e):e,search:eS(s),hash:tS(o)}}function WA(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function tm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fm(i){let e=ZA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Gm(i,e,n,s=!1){let o;typeof i=="string"?o=uo(i):(o={...i},ot(!o.pathname||!o.pathname.includes("?"),tm("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),tm("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),tm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=XA(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var ti=i=>i.join("/").replace(/\/\/+/g,"/"),JA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),eS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,tS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function nS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var rE=["POST","PUT","PATCH","DELETE"];new Set(rE);var rS=["GET",...rE];new Set(rS);var co=H.createContext(null);co.displayName="DataRouter";var Ah=H.createContext(null);Ah.displayName="DataRouterState";var iE=H.createContext({isTransitioning:!1});iE.displayName="ViewTransition";var iS=H.createContext(new Map);iS.displayName="Fetchers";var sS=H.createContext(null);sS.displayName="Await";var er=H.createContext(null);er.displayName="Navigation";var ru=H.createContext(null);ru.displayName="Location";var Sr=H.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var Km=H.createContext(null);Km.displayName="RouteError";function aS(i,{relative:e}={}){ot(ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(er),{hash:o,pathname:u,search:f}=iu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ti([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ho(){return H.useContext(ru)!=null}function ci(){return ot(ho(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(ru).location}var sE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aE(i){H.useContext(er).static||H.useLayoutEffect(i)}function fo(){let{isDataRoute:i}=H.useContext(Sr);return i?vS():oS()}function oS(){ot(ho(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(co),{basename:e,navigator:n}=H.useContext(er),{matches:s}=H.useContext(Sr),{pathname:o}=ci(),u=JSON.stringify(Fm(s)),f=H.useRef(!1);return aE(()=>{f.current=!0}),H.useCallback((p,y={})=>{if(Wn(f.current,sE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Gm(p,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ti([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,i])}H.createContext(null);function iu(i,{relative:e}={}){let{matches:n}=H.useContext(Sr),{pathname:s}=ci(),o=JSON.stringify(Fm(n));return H.useMemo(()=>Gm(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function lS(i,e){return oE(i,e)}function oE(i,e,n,s){var re;ot(ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=H.useContext(er),{matches:f}=H.useContext(Sr),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let ne=w&&w.path||"";lE(y,!w||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let A=ci(),M;if(e){let ne=typeof e=="string"?uo(e):e;ot(E==="/"||((re=ne.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),M=ne}else M=A;let V=M.pathname||"/",F=V;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");F="/"+V.replace(/^\//,"").split("/").slice(ne.length).join("/")}let j=!u&&n&&n.matches&&n.matches.length>0?n.matches:eE(i,{pathname:F});Wn(w||j!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Wn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=dS(j&&j.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:ti([E,o.encodeLocation?o.encodeLocation(ne.pathname).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:ti([E,o.encodeLocation?o.encodeLocation(ne.pathnameBase).pathname:ne.pathnameBase])})),f,n,s);return e&&Y?H.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Y):Y}function uS(){let i=_S(),e=nS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,f)}var cS=H.createElement(uS,null),hS=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?H.createElement(Sr.Provider,{value:this.props.routeContext},H.createElement(Km.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fS({routeContext:i,match:e,children:n}){let s=H.useContext(co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Sr.Provider,{value:i},n)}function dS(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:w}=n,A=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let w,A=!1,M=null,V=null;n&&(w=u&&y.route.id?u[y.route.id]:void 0,M=y.route.errorElement||cS,f&&(m<0&&E===0?(lE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,V=null):m===E&&(A=!0,V=y.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,E+1)),j=()=>{let Y;return w?Y=M:A?Y=V:y.route.Component?Y=H.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=p,H.createElement(fS,{match:y,routeContext:{outlet:p,matches:F,isDataRoute:n!=null},children:Y})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?H.createElement(hS,{location:n.location,revalidation:n.revalidation,component:M,error:w,children:j(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):j()},null)}function Qm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mS(i){let e=H.useContext(co);return ot(e,Qm(i)),e}function pS(i){let e=H.useContext(Ah);return ot(e,Qm(i)),e}function gS(i){let e=H.useContext(Sr);return ot(e,Qm(i)),e}function Ym(i){let e=gS(i),n=e.matches[e.matches.length-1];return ot(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function yS(){return Ym("useRouteId")}function _S(){var s;let i=H.useContext(Km),e=pS("useRouteError"),n=Ym("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function vS(){let{router:i}=mS("useNavigate"),e=Ym("useNavigate"),n=H.useRef(!1);return aE(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{Wn(n.current,sE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var bv={};function lE(i,e,n){!e&&!bv[i]&&(bv[i]=!0,Wn(!1,n))}H.memo(ES);function ES({routes:i,future:e,state:n}){return oE(i,void 0,n,e)}function TS({to:i,replace:e,state:n,relative:s}){ot(ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(er);Wn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=H.useContext(Sr),{pathname:f}=ci(),m=fo(),p=Gm(i,Fm(u),f,s==="path"),y=JSON.stringify(p);return H.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function Ml(i){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bS({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ot(!ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=uo(n));let{pathname:p="/",search:y="",hash:E="",state:w=null,key:A="default"}=n,M=H.useMemo(()=>{let V=si(p,f);return V==null?null:{location:{pathname:V,search:y,hash:E,state:w,key:A},navigationType:s}},[f,p,y,E,w,A,s]);return Wn(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:H.createElement(er.Provider,{value:m},H.createElement(ru.Provider,{children:e,value:M}))}function wS({children:i,location:e}){return lS(gm(i),e)}function gm(i,e=[]){let n=[];return H.Children.forEach(i,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,gm(s.props.children,u));return}ot(s.type===Ml,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=gm(s.props.children,u)),n.push(f)}),n}var Kc="get",Qc="application/x-www-form-urlencoded";function Sh(i){return i!=null&&typeof i.tagName=="string"}function AS(i){return Sh(i)&&i.tagName.toLowerCase()==="button"}function SS(i){return Sh(i)&&i.tagName.toLowerCase()==="form"}function RS(i){return Sh(i)&&i.tagName.toLowerCase()==="input"}function IS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function CS(i,e){return i.button===0&&(!e||e==="_self")&&!IS(i)}var jc=null;function xS(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var NS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nm(i){return i!=null&&!NS.has(i)?(Wn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qc}"`),null):i}function DS(i,e){let n,s,o,u,f;if(SS(i)){let m=i.getAttribute("action");s=m?si(m,e):null,n=i.getAttribute("method")||Kc,o=nm(i.getAttribute("enctype"))||Qc,u=new FormData(i)}else if(AS(i)||RS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?si(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Kc,o=nm(i.getAttribute("formenctype"))||nm(m.getAttribute("enctype"))||Qc,u=new FormData(m,i),!xS()){let{name:y,type:E,value:w}=i;if(E==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,w)}}else{if(Sh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,s=null,o=Qc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function $m(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function OS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function VS(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await OS(u,n);return f.links?f.links():[]}return[]}));return LS(s.flat(1).filter(MS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wv(i,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function PS(i,e,{includeHydrateFallback:n}={}){return kS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function kS(i){return[...new Set(i)]}function US(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function LS(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(US(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function jS(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&si(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function uE(){let i=H.useContext(co);return $m(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function zS(){let i=H.useContext(Ah);return $m(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Xm=H.createContext(void 0);Xm.displayName="FrameworkContext";function cE(){let i=H.useContext(Xm);return $m(i,"You must render this element inside a <HydratedRouter> element"),i}function BS(i,e){let n=H.useContext(Xm),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:w}=e,A=H.useRef(null);H.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let F=Y=>{Y.forEach(re=>{f(re.isIntersecting)})},j=new IntersectionObserver(F,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[i]),H.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let M=()=>{o(!0)},V=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Ol(m,M),onBlur:Ol(p,V),onMouseEnter:Ol(y,M),onMouseLeave:Ol(E,V),onTouchStart:Ol(w,M)}]:[!1,A,{}]}function Ol(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function qS({page:i,...e}){let{router:n}=uE(),s=H.useMemo(()=>eE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?H.createElement(FS,{page:i,matches:s,...e}):null}function HS(i){let{manifest:e,routeModules:n}=cE(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return VS(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function FS({page:i,matches:e,...n}){let s=ci(),{manifest:o,routeModules:u}=cE(),{basename:f}=uE(),{loaderData:m,matches:p}=zS(),y=H.useMemo(()=>wv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=H.useMemo(()=>wv(i,e,p,o,s,"assets"),[i,e,p,o,s]),w=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let V=new Set,F=!1;if(e.forEach(Y=>{var ne;let re=o.routes[Y.route.id];!re||!re.hasLoader||(!y.some(de=>de.route.id===Y.route.id)&&Y.route.id in m&&((ne=u[Y.route.id])!=null&&ne.shouldRevalidate)||re.hasClientLoader?F=!0:V.add(Y.route.id))}),V.size===0)return[];let j=jS(i,f);return F&&V.size>0&&j.searchParams.set("_routes",e.filter(Y=>V.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[j.pathname+j.search]},[f,m,s,o,y,e,i,u]),A=H.useMemo(()=>PS(E,o),[E,o]),M=HS(E);return H.createElement(H.Fragment,null,w.map(V=>H.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),A.map(V=>H.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),M.map(({key:V,link:F})=>H.createElement("link",{key:V,...F})))}function GS(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hE&&(window.__reactRouterVersion="7.5.0")}catch{}function KS({basename:i,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=VA({window:n,v5Compat:!0}));let o=s.current,[u,f]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>f(p))},[f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(bS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var fE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dE=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:w,...A},M){let{basename:V}=H.useContext(er),F=typeof y=="string"&&fE.test(y),j,Y=!1;if(typeof y=="string"&&F&&(j=y,hE))try{let R=new URL(window.location.href),N=y.startsWith("//")?new URL(R.protocol+y):new URL(y),P=si(N.pathname,V);N.origin===R.origin&&P!=null?y=P+N.search+N.hash:Y=!0}catch{Wn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=aS(y,{relative:o}),[ne,de,fe]=BS(s,A),Se=XS(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function O(R){e&&e(R),R.defaultPrevented||Se(R)}let S=H.createElement("a",{...A,...fe,href:j||re,onClick:Y||u?e:O,ref:GS(M,de),target:p,"data-discover":!F&&n==="render"?"true":void 0});return ne&&!F?H.createElement(H.Fragment,null,S,H.createElement(qS,{page:re})):S});dE.displayName="Link";var QS=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let w=iu(f,{relative:y.relative}),A=ci(),M=H.useContext(Ah),{navigator:V,basename:F}=H.useContext(er),j=M!=null&&tR(w)&&m===!0,Y=V.encodeLocation?V.encodeLocation(w).pathname:w.pathname,re=A.pathname,ne=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(re=re.toLowerCase(),ne=ne?ne.toLowerCase():null,Y=Y.toLowerCase()),ne&&F&&(ne=si(ne,F)||ne);const de=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let fe=re===Y||!o&&re.startsWith(Y)&&re.charAt(de)==="/",Se=ne!=null&&(ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(Y.length)==="/"),O={isActive:fe,isPending:Se,isTransitioning:j},S=fe?e:void 0,R;typeof s=="function"?R=s(O):R=[s,fe?"active":null,Se?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(O):u;return H.createElement(dE,{...y,"aria-current":S,className:R,ref:E,style:N,to:f,viewTransition:m},typeof p=="function"?p(O):p)});QS.displayName="NavLink";var YS=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Kc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:w,...A},M)=>{let V=JS(),F=eR(m,{relative:y}),j=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&fE.test(m),re=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let de=ne.nativeEvent.submitter,fe=(de==null?void 0:de.getAttribute("formmethod"))||f;V(de||ne.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:w})};return H.createElement("form",{ref:M,method:j,action:F,onSubmit:s?p:re,...A,"data-discover":!Y&&i==="render"?"true":void 0})});YS.displayName="Form";function $S(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mE(i){let e=H.useContext(co);return ot(e,$S(i)),e}function XS(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=fo(),p=ci(),y=iu(i,{relative:u});return H.useCallback(E=>{if(CS(E,e)){E.preventDefault();let w=n!==void 0?n:Gl(p)===Gl(y);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,i,o,u,f])}var WS=0,ZS=()=>`__${String(++WS)}__`;function JS(){let{router:i}=mE("useSubmit"),{basename:e}=H.useContext(er),n=yS();return H.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=DS(s,e);if(o.navigate===!1){let E=o.fetcherKey||ZS();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function eR(i,{relative:e}={}){let{basename:n}=H.useContext(er),s=H.useContext(Sr);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...iu(i||".",{relative:e})},f=ci();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ti([n,u.pathname])),Gl(u)}function tR(i,e={}){let n=H.useContext(iE);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=mE("useViewTransitionState"),o=iu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=si(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=si(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ih(o.pathname,f)!=null||ih(o.pathname,u)!=null}new TextEncoder;const nR=()=>{};var Av={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},rR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},gE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|y>>6,M=y&63;p||(M=64,f||(A=64)),s.push(n[E],n[w],n[A],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(pE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):rR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||w==null)throw new iR;const A=u<<2|m>>4;if(s.push(A),y!==64){const M=m<<4&240|y>>2;if(s.push(M),w!==64){const V=y<<6&192|w;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class iR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sR=function(i){const e=pE(i);return gE.encodeByteArray(e,!0)},sh=function(i){return sR(i).replace(/\./g,"")},yE=function(i){try{return gE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=()=>aR().__FIREBASE_DEFAULTS__,lR=()=>{if(typeof process>"u"||typeof Av>"u")return;const i=Av.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},uR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&yE(i[1]);return e&&JSON.parse(e)},Rh=()=>{try{return nR()||oR()||lR()||uR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_E=i=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},cR=i=>{const e=_E(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},vE=()=>{var i;return(i=Rh())===null||i===void 0?void 0:i.config},EE=i=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[sh(JSON.stringify(n)),sh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function mR(){var i;const e=(i=Rh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function yR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _R(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function vR(){return!mR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ER(){try{return typeof indexedDB=="object"}catch{return!1}}function TR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="FirebaseError";class hi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=bR,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?wR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new hi(o,m,s)}}function wR(i,e){return i.replace(AR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const AR=/\{\$([^}]+)}/g;function SR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Fs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Sv(u)&&Sv(f)){if(!Fs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Sv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Vl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Pl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function RR(i,e){const n=new IR(i,e);return n.subscribe.bind(n)}class IR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");CR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=rm),o.error===void 0&&(o.error=rm),o.complete===void 0&&(o.complete=rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(i){return i&&i._delegate?i._delegate:i}class Gs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new hR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DR(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NR(i){return i===qs?void 0:i}function DR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const MR={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},VR=ke.INFO,PR={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},kR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=PR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wm{constructor(e){this.name=e,this._logLevel=VR,this._logHandler=kR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const UR=(i,e)=>e.some(n=>i instanceof n);let Rv,Iv;function LR(){return Rv||(Rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jR(){return Iv||(Iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TE=new WeakMap,ym=new WeakMap,bE=new WeakMap,im=new WeakMap,Zm=new WeakMap;function zR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Qi(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&TE.set(n,i)}).catch(()=>{}),Zm.set(e,i),e}function BR(i){if(ym.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});ym.set(i,e)}let _m={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return ym.get(i);if(e==="objectStoreNames")return i.objectStoreNames||bE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function qR(i){_m=i(_m)}function HR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(sm(this),e,...n);return bE.set(s,e.sort?e.sort():[e]),Qi(s)}:jR().includes(i)?function(...e){return i.apply(sm(this),e),Qi(TE.get(this))}:function(...e){return Qi(i.apply(sm(this),e))}}function FR(i){return typeof i=="function"?HR(i):(i instanceof IDBTransaction&&BR(i),UR(i,LR())?new Proxy(i,_m):i)}function Qi(i){if(i instanceof IDBRequest)return zR(i);if(im.has(i))return im.get(i);const e=FR(i);return e!==i&&(im.set(i,e),Zm.set(e,i)),e}const sm=i=>Zm.get(i);function GR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Qi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Qi(f.result),p.oldVersion,p.newVersion,Qi(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const KR=["get","getKey","getAll","getAllKeys","count"],QR=["put","add","delete","clear"],am=new Map;function Cv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=QR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||KR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return am.set(e,u),u}qR(i=>({...i,get:(e,n,s)=>Cv(e,n)||i.get(e,n,s),has:(e,n)=>!!Cv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($R(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function $R(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vm="@firebase/app",xv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Wm("@firebase/app"),XR="@firebase/app-compat",WR="@firebase/analytics-compat",ZR="@firebase/analytics",JR="@firebase/app-check-compat",eI="@firebase/app-check",tI="@firebase/auth",nI="@firebase/auth-compat",rI="@firebase/database",iI="@firebase/data-connect",sI="@firebase/database-compat",aI="@firebase/functions",oI="@firebase/functions-compat",lI="@firebase/installations",uI="@firebase/installations-compat",cI="@firebase/messaging",hI="@firebase/messaging-compat",fI="@firebase/performance",dI="@firebase/performance-compat",mI="@firebase/remote-config",pI="@firebase/remote-config-compat",gI="@firebase/storage",yI="@firebase/storage-compat",_I="@firebase/firestore",vI="@firebase/vertexai",EI="@firebase/firestore-compat",TI="firebase",bI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",wI={[vm]:"fire-core",[XR]:"fire-core-compat",[ZR]:"fire-analytics",[WR]:"fire-analytics-compat",[eI]:"fire-app-check",[JR]:"fire-app-check-compat",[tI]:"fire-auth",[nI]:"fire-auth-compat",[rI]:"fire-rtdb",[iI]:"fire-data-connect",[sI]:"fire-rtdb-compat",[aI]:"fire-fn",[oI]:"fire-fn-compat",[lI]:"fire-iid",[uI]:"fire-iid-compat",[cI]:"fire-fcm",[hI]:"fire-fcm-compat",[fI]:"fire-perf",[dI]:"fire-perf-compat",[mI]:"fire-rc",[pI]:"fire-rc-compat",[gI]:"fire-gcs",[yI]:"fire-gcs-compat",[_I]:"fire-fst",[EI]:"fire-fst-compat",[vI]:"fire-vertex","fire-js":"fire-js",[TI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,AI=new Map,Tm=new Map;function Nv(i,e){try{i.container.addComponent(e)}catch(n){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function eo(i){const e=i.name;if(Tm.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,i);for(const n of ah.values())Nv(n,i);for(const n of AI.values())Nv(n,i);return!0}function Jm(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function zn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new su("app","Firebase",SI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=bI;function ep(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Em,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Yi.create("bad-app-name",{appName:String(o)});if(n||(n=vE()),!n)throw Yi.create("no-options");const u=ah.get(o);if(u){if(Fs(n,u.options)&&Fs(s,u.config))return u;throw Yi.create("duplicate-app",{appName:o})}const f=new OR(o);for(const p of Tm.values())f.addComponent(p);const m=new RI(n,s,f);return ah.set(o,m),m}function wE(i=Em){const e=ah.get(i);if(!e&&i===Em&&vE())return ep();if(!e)throw Yi.create("no-app",{appName:i});return e}function $i(i,e,n){var s;let o=(s=wI[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(m.join(" "));return}eo(new Gs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="firebase-heartbeat-database",CI=1,Kl="firebase-heartbeat-store";let om=null;function AE(){return om||(om=GR(II,CI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Yi.create("idb-open",{originalErrorMessage:i.message})})),om}async function xI(i){try{const n=(await AE()).transaction(Kl),s=await n.objectStore(Kl).get(SE(i));return await n.done,s}catch(e){if(e instanceof hi)ai.warn(e.message);else{const n=Yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ai.warn(n.message)}}}async function Dv(i,e){try{const s=(await AE()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,SE(i)),await s.done}catch(n){if(n instanceof hi)ai.warn(n.message);else{const s=Yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ai.warn(s.message)}}}function SE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=1024,DI=30;class OI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ov();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>DI){const f=PI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ai.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ov(),{heartbeatsToSend:s,unsentEntries:o}=MI(this._heartbeatsCache.heartbeats),u=sh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ai.warn(n),""}}}function Ov(){return new Date().toISOString().substring(0,10)}function MI(i,e=NI){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Mv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Mv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class VI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ER()?TR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Mv(i){return sh(JSON.stringify({version:2,heartbeats:i})).length}function PI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(i){eo(new Gs("platform-logger",e=>new YR(e),"PRIVATE")),eo(new Gs("heartbeat",e=>new OI(e),"PRIVATE")),$i(vm,xv,i),$i(vm,xv,"esm2017"),$i("fire-js","")}kI("");function tp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function RE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UI=RE,IE=new su("auth","Firebase",RE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Wm("@firebase/auth");function LI(i,...e){oh.logLevel<=ke.WARN&&oh.warn(`Auth (${mo}): ${i}`,...e)}function Yc(i,...e){oh.logLevel<=ke.ERROR&&oh.error(`Auth (${mo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(i,...e){throw np(i,...e)}function vr(i,...e){return np(i,...e)}function CE(i,e,n){const s=Object.assign(Object.assign({},UI()),{[e]:n});return new su("auth","Firebase",s).create(e,{appName:i.name})}function ni(i){return CE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function np(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return IE.create(i,...e)}function Te(i,e,...n){if(!i)throw np(e,...n)}function Jr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Yc(e),new Error(e)}function oi(i,e){i||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function jI(){return Vv()==="http:"||Vv()==="https:"}function Vv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jI()||gR()||"connection"in navigator)?navigator.onLine:!0}function BI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,oi(n>e,"Short delay should be less than long delay!"),this.isMobile=dR()||yR()}get(){return zI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(i,e){oi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FI=new ou(3e4,6e4);function is(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function fi(i,e,n,s,o={}){return NE(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=au(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:p},u);return pR()||(y.referrerPolicy="no-referrer"),xE.fetch()(await DE(i,i.config.apiHost,n,m),y)})}async function NE(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},qI),e);try{const o=new KI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw zc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw zc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw zc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw CE(i,E,y);Zn(i,E)}}catch(o){if(o instanceof hi)throw o;Zn(i,"network-request-failed",{message:String(o)})}}async function lu(i,e,n,s,o={}){const u=await fi(i,e,n,s,o);return"mfaPendingCredential"in u&&Zn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function DE(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?rp(i.config,o):`${i.config.apiScheme}://${o}`;return HI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function GI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vr(this.auth,"network-request-failed")),FI.get())})}}function zc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=vr(i,e,s);return o.customData._tokenResponse=n,o}function Pv(i){return i!==void 0&&i.enterprise!==void 0}class QI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YI(i,e){return fi(i,"GET","/v2/recaptchaConfig",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(i,e){return fi(i,"POST","/v1/accounts:delete",e)}async function lh(i,e){return fi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XI(i,e=!1){const n=Ot(i),s=await n.getIdToken(e),o=ip(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:zl(lm(o.auth_time)),issuedAtTime:zl(lm(o.iat)),expirationTime:zl(lm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function lm(i){return Number(i)*1e3}function ip(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const o=yE(n);return o?JSON.parse(o):(Yc("Failed to decode base64 JWT payload"),null)}catch(o){return Yc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function kv(i){const e=ip(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof hi&&WI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function WI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await to(i,lh(n,{idToken:s}));Te(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?OE(u.providerUserInfo):[],m=eC(i.providerData,f),p=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new wm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function JI(i){const e=Ot(i);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function OE(i){return i.map(e=>{var{providerId:n}=e,s=tp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(i,e){const n=await NE(i,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await DE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",xE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nC(i,e){return fi(i,"POST","/v2/accounts:revokeToken",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=kv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await tC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Xa;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class $n{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=tp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await to(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XI(this,e)}reload(){return JI(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await to(this,$I(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(f=n.photoURL)!==null&&f!==void 0?f:void 0,F=(m=n.tenantId)!==null&&m!==void 0?m:void 0,j=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(y=n.createdAt)!==null&&y!==void 0?y:void 0,re=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ne,emailVerified:de,isAnonymous:fe,providerData:Se,stsTokenManager:O}=n;Te(ne&&O,e,"internal-error");const S=Xa.fromJSON(this.name,O);Te(typeof ne=="string",e,"internal-error"),Bi(w,e.name),Bi(A,e.name),Te(typeof de=="boolean",e,"internal-error"),Te(typeof fe=="boolean",e,"internal-error"),Bi(M,e.name),Bi(V,e.name),Bi(F,e.name),Bi(j,e.name),Bi(Y,e.name),Bi(re,e.name);const R=new $n({uid:ne,auth:e,email:A,emailVerified:de,displayName:w,isAnonymous:fe,photoURL:V,phoneNumber:M,tenantId:F,stsTokenManager:S,createdAt:Y,lastLoginAt:re});return Se&&Array.isArray(Se)&&(R.providerData=Se.map(N=>Object.assign({},N))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new Xa;o.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await uh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?OE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Xa;m.updateFromIdToken(s);const p=new $n({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=new Map;function ei(i){oi(i instanceof Function,"Expected a class definition");let e=Uv.get(i);return e?(oi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Uv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ME.type="NONE";const Lv=ME;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(i,e,n){return`firebase:${i}:${e}:${n}`}class Wa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,u),this.fullPersistenceKey=$c("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wa(ei(Lv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ei(Lv);const f=$c(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let w;if(typeof E=="string"){const A=await lh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await $n._fromGetAccountInfoResponse(e,A,E)}else w=$n._fromJSON(e,E);y!==u&&(m=w),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Wa(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Wa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jE(e))return"Blackberry";if(zE(e))return"Webos";if(PE(e))return"Safari";if((e.includes("chrome/")||kE(e))&&!e.includes("edge/"))return"Chrome";if(LE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function VE(i=tn()){return/firefox\//i.test(i)}function PE(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kE(i=tn()){return/crios\//i.test(i)}function UE(i=tn()){return/iemobile/i.test(i)}function LE(i=tn()){return/android/i.test(i)}function jE(i=tn()){return/blackberry/i.test(i)}function zE(i=tn()){return/webos/i.test(i)}function sp(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function rC(i=tn()){var e;return sp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iC(){return _R()&&document.documentMode===10}function BE(i=tn()){return sp(i)||LE(i)||zE(i)||jE(i)||/windows phone/i.test(i)||UE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(i,e=[]){let n;switch(i){case"Browser":n=jv(tn());break;case"Worker":n=`${jv(tn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(i,e={}){return fi(i,"GET","/v2/passwordPolicy",is(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=6;class lC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:oC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zv(this),this.idTokenSubscription=new zv(this),this.beforeStateQueue=new sC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lh(this,{idToken:e}),s=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(ni(this));const n=e?Ot(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aC(this),n=new lC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await nC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ei(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&LI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Xs(i){return Ot(i)}class zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=RR(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cC(i){Ih=i}function HE(i){return Ih.loadJS(i)}function hC(){return Ih.recaptchaEnterpriseScript}function fC(){return Ih.gapiScript}function dC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class mC{constructor(){this.enterprise=new pC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gC="recaptcha-enterprise",FE="NO_RECAPTCHA";class yC{constructor(e){this.type=gC,this.auth=Xs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{YI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new QI(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Pv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(FE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Pv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=hC();p.length!==0&&(p+=m),HE(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Bv(i,e,n,s=!1,o=!1){const u=new yC(i);let f;if(o)f=FE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Am(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Bv(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Bv(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(i,e){const n=Jm(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Fs(u,e??{}))return o;Zn(o,"already-initialized")}return n.initialize({options:e})}function vC(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ei);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function EC(i,e,n){const s=Xs(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=GE(e),{host:f,port:m}=TC(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Fs(y,s.config.emulator)&&Fs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,bC()}function GE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function TC(i){const e=GE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:qv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:qv(f)}}}function qv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function bC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}async function wC(i,e){return fi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(i,e){return lu(i,"POST","/v1/accounts:signInWithPassword",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(i,e){return lu(i,"POST","/v1/accounts:signInWithEmailLink",is(i,e))}async function RC(i,e){return lu(i,"POST","/v1/accounts:signInWithEmailLink",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends ap{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ql(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ql(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,n,"signInWithPassword",AC);case"emailLink":return SC(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,s,"signUpPassword",wC);case"emailLink":return RC(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(i,e){return lu(i,"POST","/v1/accounts:signInWithIdp",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="http://localhost";class Ks extends ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=tp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ks(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Za(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Za(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Za(e,n)}buildRequest(){const e={requestUri:IC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xC(i){const e=Vl(Pl(i)).link,n=e?Vl(Pl(e)).deep_link_id:null,s=Vl(Pl(i)).deep_link_id;return(s?Vl(Pl(s)).link:null)||s||n||e||i}class op{constructor(e){var n,s,o,u,f,m;const p=Vl(Pl(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=CC((o=p.mode)!==null&&o!==void 0?o:null);Te(y&&E&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=xC(e);try{return new op(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(e,n){return Ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=op.parseLink(n);return Te(s,"argument-error"),Ql._fromEmailAndCode(e,s.code,s.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends KE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends uu{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Hi.credential(n,s)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends uu{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends uu{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Gi.credential(n,s)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(i,e){return lu(i,"POST","/v1/accounts:signUp",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await $n._fromIdTokenResponse(e,s,o),f=Hv(s);return new Qs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Hv(s);return new Qs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Hv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends hi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ch(e,n,s,o)}}function QE(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(i,u,e,s):u})}async function DC(i,e,n=!1){const s=await to(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Qs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(i,e,n=!1){const{auth:s}=i;if(zn(s.app))return Promise.reject(ni(s));const o="reauthenticate";try{const u=await to(i,QE(s,o,e,i),n);Te(u.idToken,s,"internal-error");const f=ip(u.idToken);Te(f,s,"internal-error");const{sub:m}=f;return Te(i.uid===m,s,"user-mismatch"),Qs._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Zn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(i,e,n=!1){if(zn(i.app))return Promise.reject(ni(i));const s="signIn",o=await QE(i,s,e),u=await Qs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function MC(i,e){return YE(Xs(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $E(i){const e=Xs(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VC(i,e,n){if(zn(i.app))return Promise.reject(ni(i));const s=Xs(i),f=await Am(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&$E(i),p}),m=await Qs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function PC(i,e,n){return zn(i.app)?Promise.reject(ni(i)):MC(Ot(i),po.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$E(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(i,e){return fi(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Ot(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await to(s,kC(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function LC(i,e,n,s){return Ot(i).onIdTokenChanged(e,n,s)}function jC(i,e,n){return Ot(i).beforeAuthStateChanged(e,n)}function zC(i,e,n,s){return Ot(i).onAuthStateChanged(e,n,s)}function BC(i){return Ot(i).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=1e3,HC=10;class WE extends XE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);iC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,HC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WE.type="LOCAL";const FC=WE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends XE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZE.type="SESSION";const JE=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Ch(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await GC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=lp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function QC(i){Er().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function YC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $C(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function XC(){return eT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="firebaseLocalStorageDb",WC=1,fh="firebaseLocalStorage",nT="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xh(i,e){return i.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function ZC(){const i=indexedDB.deleteDatabase(tT);return new cu(i).toPromise()}function Sm(){const i=indexedDB.open(tT,WC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(fh,{keyPath:nT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(fh)?e(s):(s.close(),await ZC(),e(await Sm()))})})}async function Fv(i,e,n){const s=xh(i,!0).put({[nT]:e,value:n});return new cu(s).toPromise()}async function JC(i,e){const n=xh(i,!1).get(e),s=await new cu(n).toPromise();return s===void 0?null:s.value}function Gv(i,e){const n=xh(i,!0).delete(e);return new cu(n).toPromise()}const e1=800,t1=3;class rT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>t1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(XC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await YC(),!this.activeServiceWorker)return;this.sender=new KC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$C()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sm();return await Fv(e,hh,"1"),await Gv(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Fv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>JC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=xh(o,!1).getAll();return new cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rT.type="LOCAL";const n1=rT;new ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(i,e){return e?ei(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up extends ap{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Za(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i1(i){return YE(i.auth,new up(i),i.bypassAuthState)}function s1(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),OC(n,new up(i),i.bypassAuthState)}async function a1(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),DC(n,new up(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i1;case"linkViaPopup":case"linkViaRedirect":return a1;case"reauthViaPopup":case"reauthViaRedirect":return s1;default:Zn(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=new ou(2e3,1e4);class $a extends iT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o1.get())};e()}}$a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="pendingRedirect",Xc=new Map;class u1 extends iT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const s=await c1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c1(i,e){const n=d1(e),s=f1(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function h1(i,e){Xc.set(i._key(),e)}function f1(i){return ei(i._redirectPersistence)}function d1(i){return $c(l1,i.config.apiKey,i.name)}async function m1(i,e,n=!1){if(zn(i.app))return Promise.reject(ni(i));const s=Xs(i),o=r1(s,e),f=await new u1(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=10*60*1e3;class g1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!sT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(vr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kv(e))}saveEventToCache(e){this.cachedEventUids.add(Kv(e)),this.lastProcessedEventTime=Date.now()}}function Kv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function sT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y1(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(i,e={}){return fi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E1=/^https?/;async function T1(i){if(i.config.emulator)return;const{authorizedDomains:e}=await _1(i);for(const n of e)try{if(b1(n))return}catch{}Zn(i,"unauthorized-domain")}function b1(i){const e=bm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!E1.test(n))return!1;if(v1.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new ou(3e4,6e4);function Qv(){const i=Er().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function A1(i){return new Promise((e,n)=>{var s,o,u;function f(){Qv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qv(),n(vr(i,"network-request-failed"))},timeout:w1.get()})}if(!((o=(s=Er().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Er().gapi)===null||u===void 0)&&u.load)f();else{const m=dC("iframefcb");return Er()[m]=()=>{gapi.load?f():n(vr(i,"network-request-failed"))},HE(`${fC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Wc=null,e})}let Wc=null;function S1(i){return Wc=Wc||A1(i),Wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new ou(5e3,15e3),I1="__/auth/iframe",C1="emulator/auth/iframe",x1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D1(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?rp(e,C1):`https://${i.config.authDomain}/${I1}`,s={apiKey:e.apiKey,appName:i.name,v:mo},o=N1.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${au(s).slice(1)}`}async function O1(i){const e=await S1(i),n=Er().gapi;return Te(n,i,"internal-error"),e.open({where:document.body,url:D1(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x1,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=vr(i,"network-request-failed"),m=Er().setTimeout(()=>{u(f)},R1.get());function p(){Er().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V1=500,P1=600,k1="_blank",U1="http://localhost";class Yv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L1(i,e,n,s=V1,o=P1){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},M1),{width:s.toString(),height:o.toString(),top:u,left:f}),y=tn().toLowerCase();n&&(m=kE(y)?k1:n),VE(y)&&(e=e||U1,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[M,V])=>`${A}${M}=${V},`,"");if(rC(y)&&m!=="_self")return j1(e||"",m),new Yv(null);const w=window.open(e||"",m,E);Te(w,i,"popup-blocked");try{w.focus()}catch{}return new Yv(w)}function j1(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="__/auth/handler",B1="emulator/auth/handler",q1=encodeURIComponent("fac");async function $v(i,e,n,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:mo,eventId:o};if(e instanceof KE){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",SR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof uu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),y=p?`#${q1}=${encodeURIComponent(p)}`:"";return`${H1(i)}?${au(m).slice(1)}${y}`}function H1({config:i}){return i.emulator?rp(i,B1):`https://${i.authDomain}/${z1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="webStorageSupport";class F1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JE,this._completeRedirectFn=m1,this._overrideRedirectResult=h1}async _openPopup(e,n,s,o){var u;oi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await $v(e,n,s,bm(),o);return L1(e,f,lp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await $v(e,n,s,bm(),o);return QC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(oi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await O1(e),s=new g1(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[um];f!==void 0&&n(!!f),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BE()||PE()||sp()}}const G1=F1;var Xv="@firebase/auth",Wv="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y1(i){eo(new Gs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qE(i)},y=new uC(s,o,u,p);return vC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),eo(new Gs("auth-internal",e=>{const n=Xs(e.getProvider("auth").getImmediate());return(s=>new K1(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(Xv,Wv,Q1(i)),$i(Xv,Wv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=5*60,X1=EE("authIdTokenMaxAge")||$1;let Zv=null;const W1=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>X1)return;const o=n==null?void 0:n.token;Zv!==o&&(Zv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aT(i=wE()){const e=Jm(i,"auth");if(e.isInitialized())return e.getImmediate();const n=_C(i,{popupRedirectResolver:G1,persistence:[n1,FC,JE]}),s=EE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=W1(u.toString());jC(n,f,()=>f(n.currentUser)),LC(n,m=>f(m))}}const o=_E("auth");return o&&EC(n,`http://${o}`),n}function Z1(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}cC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=vr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Z1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y1("Browser");var J1="firebase",ex="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(J1,ex,"app");var Jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xi,oT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function R(){}R.prototype=S.prototype,O.D=S.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(N,P,L){for(var C=Array(arguments.length-2),At=2;At<arguments.length;At++)C[At-2]=arguments[At];return S.prototype[P].apply(N,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,S,R){R||(R=0);var N=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)N[P]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(P=0;16>P;++P)N[P]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=O.g[0],R=O.g[1],P=O.g[2];var L=O.g[3],C=S+(L^R&(P^L))+N[0]+3614090360&4294967295;S=R+(C<<7&4294967295|C>>>25),C=L+(P^S&(R^P))+N[1]+3905402710&4294967295,L=S+(C<<12&4294967295|C>>>20),C=P+(R^L&(S^R))+N[2]+606105819&4294967295,P=L+(C<<17&4294967295|C>>>15),C=R+(S^P&(L^S))+N[3]+3250441966&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(L^R&(P^L))+N[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=L+(P^S&(R^P))+N[5]+1200080426&4294967295,L=S+(C<<12&4294967295|C>>>20),C=P+(R^L&(S^R))+N[6]+2821735955&4294967295,P=L+(C<<17&4294967295|C>>>15),C=R+(S^P&(L^S))+N[7]+4249261313&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(L^R&(P^L))+N[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=L+(P^S&(R^P))+N[9]+2336552879&4294967295,L=S+(C<<12&4294967295|C>>>20),C=P+(R^L&(S^R))+N[10]+4294925233&4294967295,P=L+(C<<17&4294967295|C>>>15),C=R+(S^P&(L^S))+N[11]+2304563134&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(L^R&(P^L))+N[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=L+(P^S&(R^P))+N[13]+4254626195&4294967295,L=S+(C<<12&4294967295|C>>>20),C=P+(R^L&(S^R))+N[14]+2792965006&4294967295,P=L+(C<<17&4294967295|C>>>15),C=R+(S^P&(L^S))+N[15]+1236535329&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(P^L&(R^P))+N[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^P&(S^R))+N[6]+3225465664&4294967295,L=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(L^S))+N[11]+643717713&4294967295,P=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(P^L))+N[0]+3921069994&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^L&(R^P))+N[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^P&(S^R))+N[10]+38016083&4294967295,L=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(L^S))+N[15]+3634488961&4294967295,P=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(P^L))+N[4]+3889429448&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^L&(R^P))+N[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^P&(S^R))+N[14]+3275163606&4294967295,L=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(L^S))+N[3]+4107603335&4294967295,P=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(P^L))+N[8]+1163531501&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^L&(R^P))+N[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^P&(S^R))+N[2]+4243563512&4294967295,L=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(L^S))+N[7]+1735328473&4294967295,P=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(P^L))+N[12]+2368359562&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(R^P^L)+N[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^P)+N[8]+2272392833&4294967295,L=S+(C<<11&4294967295|C>>>21),C=P+(L^S^R)+N[11]+1839030562&4294967295,P=L+(C<<16&4294967295|C>>>16),C=R+(P^L^S)+N[14]+4259657740&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^L)+N[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^P)+N[4]+1272893353&4294967295,L=S+(C<<11&4294967295|C>>>21),C=P+(L^S^R)+N[7]+4139469664&4294967295,P=L+(C<<16&4294967295|C>>>16),C=R+(P^L^S)+N[10]+3200236656&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^L)+N[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^P)+N[0]+3936430074&4294967295,L=S+(C<<11&4294967295|C>>>21),C=P+(L^S^R)+N[3]+3572445317&4294967295,P=L+(C<<16&4294967295|C>>>16),C=R+(P^L^S)+N[6]+76029189&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^L)+N[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^P)+N[12]+3873151461&4294967295,L=S+(C<<11&4294967295|C>>>21),C=P+(L^S^R)+N[15]+530742520&4294967295,P=L+(C<<16&4294967295|C>>>16),C=R+(P^L^S)+N[2]+3299628645&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(P^(R|~L))+N[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~P))+N[7]+1126891415&4294967295,L=S+(C<<10&4294967295|C>>>22),C=P+(S^(L|~R))+N[14]+2878612391&4294967295,P=L+(C<<15&4294967295|C>>>17),C=R+(L^(P|~S))+N[5]+4237533241&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~L))+N[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~P))+N[3]+2399980690&4294967295,L=S+(C<<10&4294967295|C>>>22),C=P+(S^(L|~R))+N[10]+4293915773&4294967295,P=L+(C<<15&4294967295|C>>>17),C=R+(L^(P|~S))+N[1]+2240044497&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~L))+N[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~P))+N[15]+4264355552&4294967295,L=S+(C<<10&4294967295|C>>>22),C=P+(S^(L|~R))+N[6]+2734768916&4294967295,P=L+(C<<15&4294967295|C>>>17),C=R+(L^(P|~S))+N[13]+1309151649&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~L))+N[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~P))+N[11]+3174756917&4294967295,L=S+(C<<10&4294967295|C>>>22),C=P+(S^(L|~R))+N[2]+718787259&4294967295,P=L+(C<<15&4294967295|C>>>17),C=R+(L^(P|~S))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var R=S-this.blockSize,N=this.B,P=this.h,L=0;L<S;){if(P==0)for(;L<=R;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<S;)if(N[P++]=O.charCodeAt(L++),P==this.blockSize){o(this,N),P=0;break}}else for(;L<S;)if(N[P++]=O[L++],P==this.blockSize){o(this,N),P=0;break}}this.h=P,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var R=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=R&255,R/=256;for(this.u(O),O=Array(16),S=R=0;4>S;++S)for(var N=0;32>N;N+=8)O[R++]=this.g[S]>>>N&255;return O};function u(O,S){var R=m;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=S(O)}function f(O,S){this.h=S;for(var R=[],N=!0,P=O.length-1;0<=P;P--){var L=O[P]|0;N&&L==S||(R[P]=L,N=!1)}this.g=R}var m={};function p(O){return-128<=O&&128>O?u(O,function(S){return new f([S|0],0>S?-1:0)}):new f([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return j(y(-O));for(var S=[],R=1,N=0;O>=R;N++)S[N]=O/R|0,R*=4294967296;return new f(S,0)}function E(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return j(E(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),N=w,P=0;P<O.length;P+=8){var L=Math.min(8,O.length-P),C=parseInt(O.substring(P,P+L),S);8>L?(L=y(Math.pow(S,L)),N=N.j(L).add(y(C))):(N=N.j(R),N=N.add(y(C)))}return N}var w=p(0),A=p(1),M=p(16777216);i=f.prototype,i.m=function(){if(F(this))return-j(this).m();for(var O=0,S=1,R=0;R<this.g.length;R++){var N=this.i(R);O+=(0<=N?N:4294967296+N)*S,S*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(F(this))return"-"+j(this).toString(O);for(var S=y(Math.pow(O,6)),R=this,N="";;){var P=de(R,S).g;R=Y(R,P.j(S));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=P,V(R))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function F(O){return O.h==-1}i.l=function(O){return O=Y(this,O),F(O)?-1:V(O)?0:1};function j(O){for(var S=O.g.length,R=[],N=0;N<S;N++)R[N]=~O.g[N];return new f(R,~O.h).add(A)}i.abs=function(){return F(this)?j(this):this},i.add=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],N=0,P=0;P<=S;P++){var L=N+(this.i(P)&65535)+(O.i(P)&65535),C=(L>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);N=C>>>16,L&=65535,C&=65535,R[P]=C<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Y(O,S){return O.add(j(S))}i.j=function(O){if(V(this)||V(O))return w;if(F(this))return F(O)?j(this).j(j(O)):j(j(this).j(O));if(F(O))return j(this.j(j(O)));if(0>this.l(M)&&0>O.l(M))return y(this.m()*O.m());for(var S=this.g.length+O.g.length,R=[],N=0;N<2*S;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<O.g.length;P++){var L=this.i(N)>>>16,C=this.i(N)&65535,At=O.i(P)>>>16,rt=O.i(P)&65535;R[2*N+2*P]+=C*rt,re(R,2*N+2*P),R[2*N+2*P+1]+=L*rt,re(R,2*N+2*P+1),R[2*N+2*P+1]+=C*At,re(R,2*N+2*P+1),R[2*N+2*P+2]+=L*At,re(R,2*N+2*P+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new f(R,0)};function re(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function ne(O,S){this.g=O,this.h=S}function de(O,S){if(V(S))throw Error("division by zero");if(V(O))return new ne(w,w);if(F(O))return S=de(j(O),S),new ne(j(S.g),j(S.h));if(F(S))return S=de(O,j(S)),new ne(j(S.g),S.h);if(30<O.g.length){if(F(O)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,N=S;0>=N.l(O);)R=fe(R),N=fe(N);var P=Se(R,1),L=Se(N,1);for(N=Se(N,2),R=Se(R,2);!V(N);){var C=L.add(N);0>=C.l(O)&&(P=P.add(R),L=C),N=Se(N,1),R=Se(R,1)}return S=Y(O,P.j(S)),new ne(P,S)}for(P=w;0<=O.l(S);){for(R=Math.max(1,Math.floor(O.m()/S.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=y(R),C=L.j(S);F(C)||0<C.l(O);)R-=N,L=y(R),C=L.j(S);V(L)&&(L=A),P=P.add(L),O=Y(O,C)}return new ne(P,O)}i.A=function(O){return de(this,O).h},i.and=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)&O.i(N);return new f(R,this.h&O.h)},i.or=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)|O.i(N);return new f(R,this.h|O.h)},i.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)^O.i(N);return new f(R,this.h^O.h)};function fe(O){for(var S=O.g.length+1,R=[],N=0;N<S;N++)R[N]=O.i(N)<<1|O.i(N-1)>>>31;return new f(R,O.h)}function Se(O,S){var R=S>>5;S%=32;for(var N=O.g.length-R,P=[],L=0;L<N;L++)P[L]=0<S?O.i(L+R)>>>S|O.i(L+R+1)<<32-S:O.i(L+R);return new f(P,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,oT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Xi=f}).apply(typeof Jv<"u"?Jv:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lT,kl,uT,Zc,Rm,cT,hT,fT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in _))break e;_=_[z]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,b=!1,z={next:function(){if(!b&&_<c.length){var Q=_++;return{value:g(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function A(c,g,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function M(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function V(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,z,Q){for(var se=Array(arguments.length-2),je=2;je<arguments.length;je++)se[je-2]=arguments[je];return g.prototype[z].apply(b,se)}}function F(c){const g=c.length;if(0<g){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function j(c,g){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const z=c.length||0,Q=b.length||0;c.length=z+Q;for(let se=0;se<Q;se++)c[z+se]=b[se]}else c.push(b)}}class Y{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function re(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var fe=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Se(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function O(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let _,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(_ in b)c[_]=b[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function P(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Le;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class At{constructor(){this.h=this.g=null}add(g,_){const b=rt.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var rt=new Y(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,Le=new At,x=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(te)}};var te=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){L(_)}var g=rt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}me=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Ce(c,g){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(fe){e:{try{de(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}V(Ce,ie);var be={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),le=0;function Ee(c,g,_,b,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=z,this.key=++le,this.da=this.fa=!1}function xe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c){this.src=c,this.g={},this.h=0}zt.prototype.add=function(c,g,_,b,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var se=Bn(c,g,b,z);return-1<se?(g=c[se],_||(g.fa=!1)):(g=new Ee(g,this.src,Q,!!b,z),g.fa=_,c.push(g)),g};function un(c,g){var _=g.type;if(_ in c.g){var b=c.g[_],z=Array.prototype.indexOf.call(b,g,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(b,z,1),Q&&(xe(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Bn(c,g,_,b){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==g&&Q.capture==!!_&&Q.ha==b)return z}return-1}var pn="closure_lm_"+(1e6*Math.random()|0),qn={};function tr(c,g,_,b,z){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)tr(c,g[Q],_,b,z);return null}return _=wo(_),c&&c[ft]?c.K(g,_,y(b)?!!b.capture:!1,z):Mt(c,g,_,!1,b,z)}function Mt(c,g,_,b,z,Q){if(!g)throw Error("Invalid event type");var se=y(z)?!!z.capture:!!z,je=Ir(c);if(je||(c[pn]=je=new zt(c)),_=je.add(g,_,b,se,Q),_.proxy)return _;if(b=Rr(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ge||(z=se),z===void 0&&(z=!1),c.addEventListener(g.toString(),b,z);else if(c.attachEvent)c.attachEvent(Rn(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Rr(){function c(_){return g.call(c.src,c.listener,_)}const g=In;return c}function nn(c,g,_,b,z){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)nn(c,g[Q],_,b,z);else b=y(b)?!!b.capture:!!b,_=wo(_),c&&c[ft]?(c=c.i,g=String(g).toString(),g in c.g&&(Q=c.g[g],_=Bn(Q,_,b,z),-1<_&&(xe(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ir(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Bn(g,_,b,z)),(_=-1<c?g[c]:null)&&yt(_))}function yt(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ft])un(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(Rn(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=Ir(g))?(un(_,c),_.h==0&&(_.src=null,g[pn]=null)):xe(c)}}}function Rn(c){return c in qn?qn[c]:qn[c]="on"+c}function In(c,g){if(c.da)c=!0;else{g=new Ce(g,this);var _=c.listener,b=c.ha||c.src;c.fa&&yt(c),c=_.call(b,g)}return c}function Ir(c){return c=c[pn],c instanceof zt?c:null}var ea="__closure_events_fn_"+(1e9*Math.random()>>>0);function wo(c){return typeof c=="function"?c:(c[ea]||(c[ea]=function(g){return c.handleEvent(g)}),c[ea])}function it(){oe.call(this),this.i=new zt(this),this.M=this,this.F=null}V(it,oe),it.prototype[ft]=!0,it.prototype.removeEventListener=function(c,g,_,b){nn(this,c,g,_,b)};function Ge(c,g){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new ie(g,c);else if(g instanceof ie)g.target=g.target||c;else{var z=g;g=new ie(b,c),N(g,z)}if(z=!0,_)for(var Q=_.length-1;0<=Q;Q--){var se=g.g=_[Q];z=gn(se,b,!0,g)&&z}if(se=g.g=c,z=gn(se,b,!0,g)&&z,z=gn(se,b,!1,g)&&z,_)for(Q=0;Q<_.length;Q++)se=g.g=_[Q],z=gn(se,b,!1,g)&&z}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],b=0;b<_.length;b++)xe(_[b]);delete c.g[g],c.h--}}this.F=null},it.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},it.prototype.L=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function gn(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,Q=0;Q<g.length;++Q){var se=g[Q];if(se&&!se.da&&se.capture==_){var je=se.listener,Rt=se.ha||se.src;se.fa&&un(c.i,se),z=je.call(Rt,b)!==!1&&z}}return z&&!b.defaultPrevented}function $t(c,g,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function yu(c){c.g=$t(()=>{c.g=null,c.i&&(c.i=!1,yu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Xh extends oe{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:yu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){oe.call(this),this.h=c,this.g={}}V(us,oe);var cs=[];function hs(c){Se(c.g,function(g,_){this.g.hasOwnProperty(_)&&yt(g)},c),c.g={}}us.prototype.N=function(){us.aa.N.call(this),hs(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=m.JSON.stringify,ta=m.JSON.parse,fs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ao(){}Ao.prototype.h=null;function So(c){return c.h||(c.h=c.i())}function Ro(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){ie.call(this,"d")}V(xr,ie);function Io(){ie.call(this,"c")}V(Io,ie);var nr={},Co=null;function di(){return Co=Co||new it}nr.La="serverreachability";function na(c){ie.call(this,nr.La,c)}V(na,ie);function mi(c){const g=di();Ge(g,new na(g))}nr.STAT_EVENT="statevent";function _u(c,g){ie.call(this,nr.STAT_EVENT,c),this.stat=g}V(_u,ie);function st(c){const g=di();Ge(g,new _u(g,c))}nr.Ma="timingevent";function St(c,g){ie.call(this,nr.Ma,c),this.size=g}V(St,ie);function _t(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function xo(c,g,_,b,z,Q){c.info(function(){if(c.g)if(Q)for(var se="",je=Q.split("&"),Rt=0;Rt<je.length;Rt++){var ze=je[Rt].split("=");if(1<ze.length){var Pt=ze[0];ze=ze[1];var It=Pt.split("_");se=2<=It.length&&It[1]=="type"?se+(Pt+"="+ze+"&"):se+(Pt+"=redacted&")}}else se=null;else se=Q;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+g+`
`+_+`
`+se})}function Wh(c,g,_,b,z,Q,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+g+`
`+_+`
`+Q+" "+se})}function pi(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ds(c,_)+(b?" "+b:"")})}function vu(c,g){c.info(function(){return"TIMEOUT: "+g})}Cn.prototype.info=function(){};function ds(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var se=1;se<z.length;se++)z[se]=""}}}}return Hn(_)}catch{return g}}var gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rr;function ir(){}V(ir,Ao),ir.prototype.g=function(){return new XMLHttpRequest},ir.prototype.i=function(){return{}},rr=new ir;function rn(c,g,_,b){this.j=c,this.i=g,this.l=_,this.R=b||1,this.U=new us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var No={},ra={};function Fn(c,g,_){c.L=1,c.v=_s(yn(g)),c.m=_,c.P=!0,Dr(c,null)}function Dr(c,g){c.F=Date.now(),ms(c),c.A=yn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),ko(_.i,"t",b),c.C=0,_=c.j.J,c.h=new dt,c.g=Pu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Xh(A(c.Y,c,c.g),c.O)),g=c.U,_=c.g,b=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(cs[0]=z.toString()),z=cs);for(var Q=0;Q<z.length;Q++){var se=tr(_,z[Q],b||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),mi(),xo(c.i,c.u,c.A,c.l,c.R,c.m)}rn.prototype.ca=function(c){c=c.target;const g=this.M;g&&On(c)==3?g.j():this.Y(c)},rn.prototype.Y=function(c){try{if(c==this.g)e:{const It=On(this.g);var g=this.g.Ba();const jr=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Iu(this.g)))){this.J||It!=4||g==7||(g==8||0>=jr?mi(3):mi(2)),yi(this);var _=this.g.Z();this.X=_;t:if(Eu(this)){var b=Iu(this.g);c="";var z=b.length,Q=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),sr(this);var se="";break t}this.h.i=new m.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(Q&&g==z-1)});b.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Wh(this.i,this.u,this.A,this.l,this.R,It,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Rt=this.g;if((je=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(je)){var ze=je;break t}}ze=null}if(_=ze)pi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ps(this,_);else{this.o=!1,this.s=3,st(12),Bt(this),sr(this);break e}}if(this.P){_=!0;let qt;for(;!this.J&&this.C<se.length;)if(qt=Tu(this,se),qt==ra){It==4&&(this.s=4,st(14),_=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==No){this.s=4,st(15),pi(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else pi(this.i,this.l,qt,null),ps(this,qt);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||se.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)pi(this.i,this.l,se,"[Invalid Chunked Response]"),Bt(this),sr(this);else if(0<se.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Rs(Pt),Pt.M=!0,st(11))}}else pi(this.i,this.l,se,null),ps(this,se);It==4&&Bt(this),this.o&&!this.J&&(It==4?Ou(this.j,this):(this.o=!1,ms(this)))}else nf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Bt(this),sr(this)}}}catch{}finally{}};function Eu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Tu(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?ra:(_=Number(g.substring(_,b)),isNaN(_)?No:(b+=1,b+_>g.length?ra:(g=g.slice(b,b+_),c.C=b+_,g)))}rn.prototype.cancel=function(){this.J=!0,Bt(this)};function ms(c){c.S=Date.now()+c.I,bu(c,c.I)}function bu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(A(c.ba,c),g)}function yi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}rn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(vu(this.i,this.A),this.L!=2&&(mi(),st(17)),Bt(this),this.s=2,sr(this)):bu(this,this.S-c)};function sr(c){c.j.G==0||c.J||Ou(c.j,c)}function Bt(c){yi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,hs(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ps(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Do(_.h,c))){if(!c.K&&Do(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)pa(_),da(_);else break e;Bo(_),st(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=_t(A(_.Za,_),6e3));if(1>=sa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Lr(_,11)}else if((c.K||_.g==c)&&pa(_),!re(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let ze=z[g];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const Pt=ze[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const It=ze[4];It!=null&&(_.Aa=It,_.j.info("SVER="+_.Aa));const jr=ze[5];jr!=null&&typeof jr=="number"&&0<jr&&(b=1.5*jr,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const qt=c.g;if(qt){const fr=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fr){var Q=b.h;Q.g||fr.indexOf("spdy")==-1&&fr.indexOf("quic")==-1&&fr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(aa(Q,Q.h),Q.h=null))}if(b.D){const Ho=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(b.ya=Ho,Xe(b.I,b.D,Ho))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var se=c;if(b.qa=Vu(b,b.J?b.ia:null,b.W),se.K){sn(b.h,se);var je=se,Rt=b.L;Rt&&(je.I=Rt),je.B&&(yi(je),ms(je)),b.g=se}else Nu(b);0<_.i.length&&ma(_)}else ze[0]!="stop"&&ze[0]!="close"||Lr(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Lr(_,7):jo(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}mi(4)}catch{}}var wu=class{constructor(c,g){this.g=c,this.map=g}};function Or(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ia(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function sa(c){return c.h?1:c.g?c.g.size:0}function Do(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function aa(c,g){c.g?c.g.add(g):c.h=g}function sn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Or.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return F(c.i)}function Zh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,b=0;b<_;b++)g.push(c[b]);return g}g=[],_=0;for(b in c)g[_++]=c[b];return g}function oa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const b in c)g[_++]=b;return g}}}function Mo(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=oa(c),b=Zh(c),z=b.length,Q=0;Q<z;Q++)g.call(void 0,b[Q],_&&_[Q],c)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),z=null;if(0<=b){var Q=c[_].substring(0,b);z=c[_].substring(b+1)}else Q=c[_];g(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function vt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vt){this.h=c.h,ys(this,c.j),this.o=c.o,this.g=c.g,_i(this,c.s),this.l=c.l;var g=c.i,_=new Vr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Mr(this,_),this.m=c.m}else c&&(g=String(c).match(gs))?(this.h=!1,ys(this,g[1]||"",!0),this.o=xn(g[2]||""),this.g=xn(g[3]||"",!0),_i(this,g[4]),this.l=xn(g[5]||"",!0),Mr(this,g[6]||"",!0),this.m=xn(g[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}vt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(vs(g,Vo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(vs(g,Vo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(vs(_,_.charAt(0)=="/"?ef:Po,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",vs(_,la)),c.join("")};function yn(c){return new vt(c)}function ys(c,g,_){c.j=_?xn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function _i(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Mr(c,g,_){g instanceof Vr?(c.i=g,Su(c.i,c.h)):(_||(g=vs(g,tf)),c.i=new Vr(g,c.h))}function Xe(c,g,_){c.i.set(g,_)}function _s(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Au),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Au(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,Po=/[#\?:]/g,ef=/[#\?]/g,tf=/[#\?@]/g,la=/#/g;function Vr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Jh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}i=Vr.prototype,i.add=function(c,g){Nn(this),this.i=null,c=ar(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Pr(c,g){Nn(c),g=ar(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function kr(c,g){return Nn(c),g=ar(c,g),c.g.has(g)}i.forEach=function(c,g){Nn(this),this.g.forEach(function(_,b){_.forEach(function(z){c.call(g,z,b,this)},this)},this)},i.na=function(){Nn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){const z=c[b];for(let Q=0;Q<z.length;Q++)_.push(g[b])}return _},i.V=function(c){Nn(this);let g=[];if(typeof c=="string")kr(this,c)&&(g=g.concat(this.g.get(ar(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},i.set=function(c,g){return Nn(this),this.i=null,c=ar(this,c),kr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ko(c,g,_){Pr(c,g),0<_.length&&(c.i=null,c.g.set(ar(c,g),F(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];const Q=encodeURIComponent(String(b)),se=this.V(b);for(b=0;b<se.length;b++){var z=Q;se[b]!==""&&(z+="="+encodeURIComponent(String(se[b]))),c.push(z)}}return this.i=c.join("&")};function ar(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Su(c,g){g&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(_,b){var z=b.toLowerCase();b!=z&&(Pr(this,b),ko(this,z,_))},c)),c.j=g}function Es(c,g){const _=new Cn;if(m.Image){const b=new Image;b.onload=M(Dn,_,"TestLoadImage: loaded",!0,g,b),b.onerror=M(Dn,_,"TestLoadImage: error",!1,g,b),b.onabort=M(Dn,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=M(Dn,_,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Gn(c,g){const _=new Cn,b=new AbortController,z=setTimeout(()=>{b.abort(),Dn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(z),Q.ok?Dn(_,"TestPingServer: ok",!0,g):Dn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Dn(_,"TestPingServer: error",!1,g)})}function Dn(c,g,_,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(_)}catch{}}function Ts(){this.g=new fs}function or(c,g,_){const b=_||"";try{Mo(c,function(z,Q){let se=z;y(z)&&(se=Hn(z)),g.push(b+Q+"="+encodeURIComponent(se))})}catch(z){throw g.push(b+"type="+encodeURIComponent("_badmap")),z}}function vi(c){this.l=c.Ub||null,this.j=c.eb||!1}V(vi,Ao),vi.prototype.g=function(){return new Ur(this.l,this.j)},vi.prototype.i=function(c){return function(){return c}}({});function Ur(c,g){it.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Ur,it),i=Ur.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ur(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?lr(this):ur(this),this.readyState==3&&Uo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,lr(this))},i.Qa=function(c){this.g&&(this.response=c,lr(this))},i.ga=function(){this.g&&lr(this)};function lr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ur(c)}i.setRequestHeader=function(c,g){this.u.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function ur(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Lo(c){let g="";return Se(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function Vt(c,g,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Lo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Xe(c,g,_))}function Ke(c){it.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Ke,it);var ua=/^https?$/i,bs=["POST","PUT"];i=Ke.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rr.g(),this.v=this.o?So(this.o):So(rr),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){Ru(this,Q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)_.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(bs,g,void 0))||b||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of _)this.g.setRequestHeader(Q,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Ru(this,Q)}};function Ru(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ca(c),cr(c)}function ca(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),cr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},i.bb=function(){ha(this)};function ha(c){if(c.h&&typeof f<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)$t(c.Ea,0,c);else if(Ge(c,"readystatechange"),On(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var b;if(b=se===0){var z=String(c.D).match(gs)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),b=!ua.test(z?z.toLowerCase():"")}_=b}if(_)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var Q=2<On(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",ca(c)}}finally{cr(c)}}}}function cr(c,g){if(c.g){ws(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ge(c,"ready");try{_.onreadystatechange=b}catch{}}}function ws(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ta(g)}};function Iu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function nf(c){const g={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(re(c[b]))continue;var _=P(c[b]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=g[z]||[];g[z]=Q,Q.push(_)}O(g,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function fa(c){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,c),this.cb=As("retryDelaySeedMs",1e4,c),this.Wa=As("forwardChannelMaxRetries",2,c),this.wa=As("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Or(c&&c.concurrentRequestLimit),this.Da=new Ts,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=fa.prototype,i.la=8,i.G=1,i.connect=function(c,g,_,b){st(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Vu(this,null,this.W),ma(this)};function jo(c){if(Cu(c),c.G==3){var g=c.U++,_=yn(c.I);if(Xe(_,"SID",c.K),Xe(_,"RID",g),Xe(_,"TYPE","terminate"),Ss(c,_),g=new rn(c,c.j,g),g.L=2,g.v=_s(yn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Pu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ms(g)}Mu(c)}function da(c){c.g&&(Rs(c),c.g.cancel(),c.g=null)}function Cu(c){da(c),c.u&&(m.clearTimeout(c.u),c.u=null),pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ma(c){if(!ia(c.h)&&!c.s){c.s=!0;var g=c.Ga;ae||x(),me||(ae(),me=!0),Le.add(g,c),c.B=0}}function rf(c,g){return sa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(A(c.Ga,c,g),qo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new rn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=S(Q),N(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=xu(this,z,g),_=yn(this.I),Xe(_,"RID",c),Xe(_,"CVER",22),this.D&&Xe(_,"X-HTTP-Session-Id",this.D),Ss(this,_),Q&&(this.O?g="headers="+encodeURIComponent(String(Lo(Q)))+"&"+g:this.m&&Vt(_,this.m,Q)),aa(this.h,z),this.Ua&&Xe(_,"TYPE","init"),this.P?(Xe(_,"$req",g),Xe(_,"SID","null"),z.T=!0,Fn(z,_,null)):Fn(z,_,g),this.G=2}}else this.G==3&&(c?zo(this,c):this.i.length==0||ia(this.h)||zo(this))};function zo(c,g){var _;g?_=g.l:_=c.U++;const b=yn(c.I);Xe(b,"SID",c.K),Xe(b,"RID",_),Xe(b,"AID",c.T),Ss(c,b),c.m&&c.o&&Vt(b,c.m,c.o),_=new rn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=xu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),aa(c.h,_),Fn(_,b,g)}function Ss(c,g){c.H&&Se(c.H,function(_,b){Xe(g,b,_)}),c.l&&Mo({},function(_,b){Xe(g,b,_)})}function xu(c,g,_){_=Math.min(c.i.length,_);var b=c.l?A(c.l.Na,c.l,c):null;e:{var z=c.i;let Q=-1;for(;;){const se=["count="+_];Q==-1?0<_?(Q=z[0].g,se.push("ofs="+Q)):Q=0:se.push("ofs="+Q);let je=!0;for(let Rt=0;Rt<_;Rt++){let ze=z[Rt].g;const Pt=z[Rt].map;if(ze-=Q,0>ze)Q=Math.max(0,z[Rt].g-100),je=!1;else try{or(Pt,se,"req"+ze+"_")}catch{b&&b(Pt)}}if(je){b=se.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,b}function Nu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ae||x(),me||(ae(),me=!0),Le.add(g,c),c.v=0}}function Bo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(A(c.Fa,c),qo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),da(this),Du(this))};function Rs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Du(c){c.g=new rn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=yn(c.qa);Xe(g,"RID","rpc"),Xe(g,"SID",c.K),Xe(g,"AID",c.T),Xe(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(g,"TO",c.ja),Xe(g,"TYPE","xmlhttp"),Ss(c,g),c.m&&c.o&&Vt(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=_s(yn(g)),_.m=null,_.P=!0,Dr(_,c)}i.Za=function(){this.C!=null&&(this.C=null,da(this),Bo(this),st(19))};function pa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ou(c,g){var _=null;if(c.g==g){pa(c),Rs(c),c.g=null;var b=2}else if(Do(c.h,g))_=g.D,sn(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;b=di(),Ge(b,new St(b,_)),ma(c)}else Nu(c);else if(z=g.s,z==3||z==0&&0<g.X||!(b==1&&rf(c,g)||b==2&&Bo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),z){case 1:Lr(c,5);break;case 4:Lr(c,10);break;case 3:Lr(c,6);break;default:Lr(c,2)}}}function qo(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Lr(c,g){if(c.j.info("Error code "+g),g==2){var _=A(c.fb,c),b=c.Xa;const z=!b;b=new vt(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ys(b,"https"),_s(b),z?Es(b.toString(),_):Gn(b.toString(),_)}else st(2);c.G=0,c.l&&c.l.sa(g),Mu(c),Cu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Mu(c){if(c.G=0,c.ka=[],c.l){const g=Oo(c.h);(g.length!=0||c.i.length!=0)&&(j(c.ka,g),j(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function Vu(c,g,_){var b=_ instanceof vt?yn(_):new vt(_);if(b.g!="")g&&(b.g=g+"."+b.g),_i(b,b.s);else{var z=m.location;b=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var Q=new vt(null);b&&ys(Q,b),g&&(Q.g=g),z&&_i(Q,z),_&&(Q.l=_),b=Q}return _=c.D,g=c.ya,_&&g&&Xe(b,_,g),Xe(b,"VER",c.la),Ss(c,b),b}function Pu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ke(new vi({eb:_})):new Ke(c.pa),g.Ha(c.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}i=ku.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ga(){}ga.prototype.g=function(c,g){return new an(c,g)};function an(c,g){it.call(this),this.g=new fa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!re(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!re(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new hr(this)}V(an,it),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){jo(this.g)},an.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Hn(c),c=_);g.i.push(new wu(g.Ya++,c)),g.G==3&&ma(g)},an.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,an.aa.N.call(this)};function Uu(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}V(Uu,xr);function Lu(){Io.call(this),this.status=1}V(Lu,Io);function hr(c){this.g=c}V(hr,ku),hr.prototype.ua=function(){Ge(this.g,"a")},hr.prototype.ta=function(c){Ge(this.g,new Uu(c))},hr.prototype.sa=function(c){Ge(this.g,new Lu)},hr.prototype.ra=function(){Ge(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,fT=function(){return new ga},hT=function(){return di()},cT=nr,Rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,Zc=gi,Nr.COMPLETE="complete",uT=Nr,Ro.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",it.prototype.listen=it.prototype.K,kl=Ro,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,lT=Ke}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const e0="@firebase/firestore",t0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Wm("@firebase/firestore");function Ga(){return Ys.logLevel}function ue(i,...e){if(Ys.logLevel<=ke.DEBUG){const n=e.map(cp);Ys.debug(`Firestore (${go}): ${i}`,...n)}}function li(i,...e){if(Ys.logLevel<=ke.ERROR){const n=e.map(cp);Ys.error(`Firestore (${go}): ${i}`,...n)}}function no(i,...e){if(Ys.logLevel<=ke.WARN){const n=e.map(cp);Ys.warn(`Firestore (${go}): ${i}`,...n)}}function cp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i="Unexpected state"){const e=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: `+i;throw li(e),new Error(e)}function Qe(i,e){i||Ae()}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class nx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rx{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ri,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ri)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string"),new dT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Jt(e)}}class ix{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class sx{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new ix(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ax{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new n0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new n0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ox(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Oe(i,e){return i<e?-1:i>e?1:0}function Im(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Oe(s,o);{const u=mT(),f=lx(u.encode(r0(i,n)),u.encode(r0(e,n)));return f!==0?f:Oe(s,o)}}n+=s>65535?2:1}return Oe(i.length,e.length)}function r0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function lx(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Oe(i[n],e[n]);return Oe(i.length,e.length)}function ro(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=-62135596800,s0=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*s0);return new Nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<i0)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s0}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-i0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Nt(0,0))}static max(){return new Re(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="__name__";class _r{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(),s===void 0?s=e.length-n:s>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=_r.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Oe(e.length,n.length)}static compareSegments(e,n){const s=_r.isNumericId(e),o=_r.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?_r.extractNumericId(e).compare(_r.extractNumericId(n)):Im(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xi.fromString(e.substring(4,e.length-2))}}class nt extends _r{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const ux=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends _r{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return ux.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a0}static keyField(){return new Qt([a0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function cx(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new Nt(n+1,0):new Nt(n,s));return new Zi(o,ye.empty(),e)}function hx(i){return new Zi(i.readTime,i.key,Yl)}class Zi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Zi(Re.min(),ye.empty(),Yl)}static max(){return new Zi(Re.max(),ye.empty(),Yl)}}function fx(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Oe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==dx)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function px(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Nh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=-1;function Dh(i){return i==null}function dh(i){return i===0&&1/i==-1/0}function gx(i){return typeof i=="number"&&Number.isInteger(i)&&!dh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="";function yx(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=o0(e)),e=_x(i.get(n),e);return o0(e)}function _x(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case gT:n+="";break;default:n+=u}}return n}function o0(i){return i+gT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ss(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function yT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new u0(this.data.getIterator())}getIteratorFrom(e){return new u0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class u0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Dt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new _T("Invalid base64 string: "+u):u}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const vx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(i){if(Qe(!!i),typeof i=="string"){let e=0;const n=vx.exec(i);if(Qe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function es(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="server_timestamp",ET="__type__",TT="__previous_value__",bT="__local_write_time__";function fp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ET])===null||n===void 0?void 0:n.stringValue)===vT}function Oh(i){const e=i.mapValue.fields[TT];return fp(e)?Oh(e):e}function $l(i){const e=Ji(i.mapValue.fields[bT].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const mh="(default)";class Xl{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="__type__",Tx="__max__",Hc={mapValue:{}},AT="__vector__",ph="value";function ts(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?fp(i)?4:wx(i)?9007199254740991:bx(i)?10:11:Ae()}function wr(i,e){if(i===e)return!0;const n=ts(i);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $l(i).isEqual($l(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ji(o.timestampValue),m=Ji(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return es(o.bytesValue).isEqual(es(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?dh(f)===dh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return ro(i.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(l0(f)!==l0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!wr(f[p],m[p])))return!1;return!0}(i,e);default:return Ae()}}function Wl(i,e){return(i.values||[]).find(n=>wr(n,e))!==void 0}function io(i,e){if(i===e)return 0;const n=ts(i),s=ts(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return c0(i.timestampValue,e.timestampValue);case 4:return c0($l(i),$l(e));case 5:return Im(i.stringValue,e.stringValue);case 6:return function(u,f){const m=es(u),p=es(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Oe(m[y],p[y]);if(E!==0)return E}return Oe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Oe(gt(u.latitude),gt(f.latitude));return m!==0?m:Oe(gt(u.longitude),gt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return h0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const w=u.fields||{},A=f.fields||{},M=(m=w[ph])===null||m===void 0?void 0:m.arrayValue,V=(p=A[ph])===null||p===void 0?void 0:p.arrayValue,F=Oe(((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:h0(M,V)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Hc.mapValue&&f===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(f===Hc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=Im(p[w],E[w]);if(A!==0)return A;const M=io(m[p[w]],y[E[w]]);if(M!==0)return M}return Oe(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Ae()}}function c0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Oe(i,e);const n=Ji(i),s=Ji(e),o=Oe(n.seconds,s.seconds);return o!==0?o:Oe(n.nanos,s.nanos)}function h0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=io(n[o],s[o]);if(u)return u}return Oe(n.length,s.length)}function so(i){return Cm(i)}function Cm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Ji(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return es(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ye.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Cm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Cm(n.fields[f])}`;return o+"}"}(i.mapValue):Ae()}function Jc(i){switch(ts(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(i);return e?16+Jc(e):16;case 5:return 2*i.stringValue.length;case 6:return es(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Jc(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ss(s.fields,(u,f)=>{o+=u.length+Jc(f)}),o}(i.mapValue);default:throw Ae()}}function f0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function xm(i){return!!i&&"integerValue"in i}function dp(i){return!!i&&"arrayValue"in i}function d0(i){return!!i&&"nullValue"in i}function m0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function eh(i){return!!i&&"mapValue"in i}function bx(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[wT])===null||n===void 0?void 0:n.stringValue)===AT}function Bl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ss(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Bl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function wx(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Tx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ss(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new mn(Bl(this.value))}}function ST(i){const e=[];return ss(i.fields,(n,s)=>{const o=new Qt([n]);if(eh(s)){const u=ST(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Re.min(),Re.min(),Re.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,Re.min(),Re.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Re.min(),Re.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function p0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=io(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function g0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!wr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ax(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{}class wt extends RT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Rx(e,n,s):n==="array-contains"?new xx(e,s):n==="in"?new Nx(e,s):n==="not-in"?new Dx(e,s):n==="array-contains-any"?new Ox(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Ix(e,s):new Cx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(io(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends RT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Jn(e,n)}matches(e){return IT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function IT(i){return i.op==="and"}function CT(i){return Sx(i)&&IT(i)}function Sx(i){for(const e of i.filters)if(e instanceof Jn)return!1;return!0}function Nm(i){if(i instanceof wt)return i.field.canonicalString()+i.op.toString()+so(i.value);if(CT(i))return i.filters.map(e=>Nm(e)).join(",");{const e=i.filters.map(n=>Nm(n)).join(",");return`${i.op}(${e})`}}function xT(i,e){return i instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&wr(s.value,o.value)}(i,e):i instanceof Jn?function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&xT(f,o.filters[m]),!0):!1}(i,e):void Ae()}function NT(i){return i instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${so(n.value)}`}(i):i instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(NT).join(" ,")+"}"}(i):"Filter"}class Rx extends wt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ix extends wt{constructor(e,n){super(e,"in",n),this.keys=DT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Cx extends wt{constructor(e,n){super(e,"not-in",n),this.keys=DT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class xx extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dp(n)&&Wl(n.arrayValue,this.value)}}class Nx extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class Dx extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wl(this.value.arrayValue,n)}}class Ox extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function y0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new Mx(i,e,n,s,o,u,f)}function mp(i){const e=Ie(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Nm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>so(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>so(s)).join(",")),e.le=n}return e.le}function pp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Ax(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!xT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!g0(i.startAt,e.startAt)&&g0(i.endAt,e.endAt)}function Dm(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Vx(i,e,n,s,o,u,f,m){return new vo(i,e,n,s,o,u,f,m)}function gp(i){return new vo(i)}function _0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function OT(i){return i.collectionGroup!==null}function ql(i){const e=Ie(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Dt(Qt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Zl(u,s))}),n.has(Qt.keyField().canonicalString())||e.he.push(new Zl(Qt.keyField(),s))}return e.he}function Tr(i){const e=Ie(i);return e.Pe||(e.Pe=Px(e,ql(i))),e.Pe}function Px(i,e){if(i.limitType==="F")return y0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Zl(o.field,u)});const n=i.endAt?new gh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new gh(i.startAt.position,i.startAt.inclusive):null;return y0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Om(i,e){const n=i.filters.concat([e]);return new vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function yh(i,e,n){return new vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Mh(i,e){return pp(Tr(i),Tr(e))&&i.limitType===e.limitType}function MT(i){return`${mp(Tr(i))}|lt:${i.limitType}`}function Ka(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>NT(o)).join(", ")}]`),Dh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>so(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>so(o)).join(",")),`Target(${s})`}(Tr(i))}; limitType=${i.limitType})`}function Vh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=p0(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,ql(s),o)||s.endAt&&!function(f,m,p){const y=p0(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,ql(s),o))}(i,e)}function kx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function VT(i){return(e,n)=>{let s=!1;for(const o of ql(i)){const u=Ux(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Ux(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?io(p,y):Ae()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return yT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new ut(ye.comparator);function ui(){return Lx}const PT=new ut(ye.comparator);function Ul(...i){let e=PT;for(const n of i)e=e.insert(n.key,n);return e}function kT(i){let e=PT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Hs(){return Hl()}function UT(){return Hl()}function Hl(){return new Ws(i=>i.toString(),(i,e)=>i.isEqual(e))}const jx=new ut(ye.comparator),zx=new Dt(ye.comparator);function Ue(...i){let e=zx;for(const n of i)e=e.add(n);return e}const Bx=new Dt(Oe);function qx(){return Bx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function LT(i){return{integerValue:""+i}}function jT(i,e){return gx(e)?LT(e):yp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this._=void 0}}function Hx(i,e,n){return i instanceof Jl?function(o,u){const f={fields:{[ET]:{stringValue:vT},[bT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fp(u)&&(u=Oh(u)),u&&(f.fields[TT]=u),{mapValue:f}}(n,e):i instanceof eu?BT(i,e):i instanceof tu?qT(i,e):function(o,u){const f=zT(o,u),m=v0(f)+v0(o.Ie);return xm(f)&&xm(o.Ie)?LT(m):yp(o.serializer,m)}(i,e)}function Fx(i,e,n){return i instanceof eu?BT(i,e):i instanceof tu?qT(i,e):n}function zT(i,e){return i instanceof nu?function(s){return xm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Jl extends Ph{}class eu extends Ph{constructor(e){super(),this.elements=e}}function BT(i,e){const n=HT(e);for(const s of i.elements)n.some(o=>wr(o,s))||n.push(s);return{arrayValue:{values:n}}}class tu extends Ph{constructor(e){super(),this.elements=e}}function qT(i,e){let n=HT(e);for(const s of i.elements)n=n.filter(o=>!wr(o,s));return{arrayValue:{values:n}}}class nu extends Ph{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function v0(i){return gt(i.integerValue||i.doubleValue)}function HT(i){return dp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.field=e,this.transform=n}}function Gx(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof eu&&o instanceof eu||s instanceof tu&&o instanceof tu?ro(s.elements,o.elements,wr):s instanceof nu&&o instanceof nu?wr(s.Ie,o.Ie):s instanceof Jl&&o instanceof Jl}(i.transform,e.transform)}class Kx{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class kh{}function GT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new QT(i.key,Xn.none()):new hu(i.key,i.data,Xn.none());{const n=i.data,s=mn.empty();let o=new Dt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new as(i.key,s,new Sn(o.toArray()),Xn.none())}}function Qx(i,e,n){i instanceof hu?function(o,u,f){const m=o.value.clone(),p=T0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof as?function(o,u,f){if(!th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=T0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(KT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Fl(i,e,n,s){return i instanceof hu?function(u,f,m,p){if(!th(u.precondition,f))return m;const y=u.value.clone(),E=b0(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,e,n,s):i instanceof as?function(u,f,m,p){if(!th(u.precondition,f))return m;const y=b0(u.fieldTransforms,p,f),E=f.data;return E.setAll(KT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,f,m){return th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function Yx(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=zT(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function E0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ro(s,o,(u,f)=>Gx(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class hu extends kh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class as extends kh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function KT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function T0(i,e,n){const s=new Map;Qe(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Fx(f,m,n[o]))}return s}function b0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Hx(u,f,e))}return s}class QT extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $x extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Qx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=UT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=GT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,(n,s)=>E0(n,s))&&ro(this.baseMutations,e.baseMutations,(n,s)=>E0(n,s))}}class _p{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length);let o=function(){return jx}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new _p(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,qe;function Jx(i){switch(i){case J.OK:return Ae();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ae()}}function YT(i){if(i===void 0)return li("GRPC error has no .code"),J.UNKNOWN;switch(i){case bt.OK:return J.OK;case bt.CANCELLED:return J.CANCELLED;case bt.UNKNOWN:return J.UNKNOWN;case bt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case bt.INTERNAL:return J.INTERNAL;case bt.UNAVAILABLE:return J.UNAVAILABLE;case bt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case bt.NOT_FOUND:return J.NOT_FOUND;case bt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case bt.ABORTED:return J.ABORTED;case bt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case bt.DATA_LOSS:return J.DATA_LOSS;default:return Ae()}}(qe=bt||(bt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new Xi([4294967295,4294967295],0);function w0(i){const e=mT().encode(i),n=new oT;return n.update(e),new Uint8Array(n.digest())}function A0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xi([n,s],0),new Xi([o,u],0)]}class vp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Xi.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Xi.fromNumber(s)));return o.compare(eN)===1&&(o=new Xi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=w0(e),[s,o]=A0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new vp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=w0(e),[s,o]=A0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Uh(Re.min(),o,new ut(Oe),ui(),Ue())}}class fu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new fu(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class $T{constructor(e,n){this.targetId=e,this.ge=n}}class XT{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class S0{constructor(){this.pe=0,this.ye=R0(),this.we=Yt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),n=Ue(),s=Ue();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae()}}),new fu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=R0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class tN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ui(),this.$e=Fc(),this.Ue=Fc(),this.Ke=new ut(Oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Dm(u))if(s===0){const f=new ye(u.path);this.ze(n,f,en.newNoDocument(f,Re.min()))}else Qe(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=es(s).toUint8Array()}catch(p){if(p instanceof _T)return no("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new vp(f,o,u)}catch(p){return no(p instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Dm(m.target)){const p=new ye(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,en.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ue();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Uh(e,n,this.Ke,this.Qe,s);return this.Qe=ui(),this.$e=Fc(),this.Ue=Fc(),this.Ke=new ut(Oe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new S0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Dt(Oe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Dt(Oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new S0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Fc(){return new ut(ye.comparator)}function R0(){return new ut(ye.comparator)}const nN={asc:"ASCENDING",desc:"DESCENDING"},rN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iN={and:"AND",or:"OR"};class sN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mm(i,e){return i.useProto3Json||Dh(e)?e:{value:e}}function _h(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function aN(i,e){return _h(i,e.toTimestamp())}function br(i){return Qe(!!i),Re.fromTimestamp(function(n){const s=Ji(n);return new Nt(s.seconds,s.nanos)}(i))}function Ep(i,e){return Vm(i,e).canonicalString()}function Vm(i,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function ZT(i){const e=nt.fromString(i);return Qe(rb(e)),e}function Pm(i,e){return Ep(i.databaseId,e.path)}function cm(i,e){const n=ZT(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(eb(n))}function JT(i,e){return Ep(i.databaseId,e)}function oN(i){const e=ZT(i);return e.length===4?nt.emptyPath():eb(e)}function km(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function eb(i){return Qe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function I0(i,e,n){return{name:Pm(i,e),fields:n.value.mapValue.fields}}function lN(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Qe(E===void 0||typeof E=="string"),Yt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Yt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?J.UNKNOWN:YT(y.code);return new ce(E,y.message||"")}(f);n=new XT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=cm(i,s.document.name),u=br(s.document.updateTime),f=s.document.createTime?br(s.document.createTime):Re.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new nh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=cm(i,s.document),u=s.readTime?br(s.readTime):Re.min(),f=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new nh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=cm(i,s.document),u=s.removedTargetIds||[];n=new nh([],u,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Zx(o,u),m=s.targetId;n=new $T(m,f)}}return n}function uN(i,e){let n;if(e instanceof hu)n={update:I0(i,e.key,e.value)};else if(e instanceof QT)n={delete:Pm(i,e.key)};else if(e instanceof as)n={update:I0(i,e.key,e.data),updateMask:_N(e.fieldMask)};else{if(!(e instanceof $x))return Ae();n={verify:Pm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ae()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:aN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae()}(i,e.precondition)),n}function cN(i,e){return i&&i.length>0?(Qe(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?br(o.updateTime):br(u);return f.isEqual(Re.min())&&(f=br(u)),new Kx(f,o.transformResults||[])}(n,e))):[]}function hN(i,e){return{documents:[JT(i,e.path)]}}function fN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=JT(i,o);const u=function(y){if(y.length!==0)return nb(Jn.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(A){return{field:Qa(A.field),direction:pN(A.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Mm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function dN(i){let e=oN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const A=tb(w);return A instanceof Jn&&CT(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(A=>function(V){return new Zl(Ya(V.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,Dh(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(w){const A=!!w.before,M=w.values||[];return new gh(M,A)}(n.startAt));let y=null;return n.endAt&&(y=function(w){const A=!w.before,M=w.values||[];return new gh(M,A)}(n.endAt)),Vx(e,o,f,u,m,"F",p,y)}function mN(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ya(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ya(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ya(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ya(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(i):i.fieldFilter!==void 0?function(n){return wt.create(Ya(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(s=>tb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(i):Ae()}function pN(i){return nN[i]}function gN(i){return rN[i]}function yN(i){return iN[i]}function Qa(i){return{fieldPath:i.canonicalString()}}function Ya(i){return Qt.fromServerFormat(i.fieldPath)}function nb(i){return i instanceof wt?function(n){if(n.op==="=="){if(m0(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(d0(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m0(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(d0(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:gN(n.op),value:n.value}}}(i):i instanceof Jn?function(n){const s=n.getFilters().map(o=>nb(o));return s.length===1?s[0]:{compositeFilter:{op:yN(n.op),filters:s}}}(i):Ae()}function _N(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,s,o,u=Re.min(),f=Re.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.Tt=e}}function EN(i){const e=dN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.Tn=new bN}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Zi.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class bN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Dt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ib=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(ib,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ao(0)}static Kn(){return new ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="LruGarbageCollector",wN=1048576;function N0([i,e],[n,s]){const o=Oe(i,n);return o===0?Oe(e,s):o}class AN{constructor(e){this.Hn=e,this.buffer=new Dt(N0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();N0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(x0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?ue(x0,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.er(3e5)})}}class RN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Nh.ae);const s=new AN(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(C0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),Ga()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function IN(i,e){return new RN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.changes=new Ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Fl(s.mutation,o,Sn.empty(),Nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Hs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ul();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Hs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ue()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ui();const f=Hl(),m=function(){return Hl()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof as)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Fl(E.mutation,y,E.mutation.getFieldMask(),Nt.now())):f.set(y.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var w;return m.set(y,new xN(E,(w=f.get(y))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Hl();let o=new ut((f,m)=>f-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Sn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const w=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,w=UT();E.forEach(A=>{if(!u.has(A)){const M=GT(n.get(A),s.get(A));M!==null&&w.set(A,M),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Hs());let m=Yl,p=u;return f.next(y=>ee.forEach(y,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Ue())).next(E=>({batchId:m,changes:kT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ul();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const y=function(w,A){return new vo(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((w,A)=>{f=f.insert(w,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,en.newInvalidDocument(E)))});let m=Ul();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Fl(E.mutation,y,Sn.empty(),Nt.now()),Vh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:br(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:EN(o.bundledQuery),readTime:br(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.overlays=new ut(ye.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Hs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Hs(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Hs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Hs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return ee.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Wx(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ue(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this.Vr=new Dt(jt.mr),this.gr=new Dt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new jt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ye(new nt([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new nt([])),s=new jt(n,e),o=new jt(n,e+1);let u=Ue();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Oe(e.Cr,n.Cr)}static pr(e,n){return Oe(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(jt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Xx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?hp:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Dt(Oe);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ye(u),0);let m=new Dt(Oe);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),ee.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new jt(n,0),o=this.Mr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.kr=e,this.docs=function(){return new ut(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=ui();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ui();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||fx(hx(E),s)<=0||(o.has(E.key)||Vh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae()}qr(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new kN(this)}getSize(e){return ee.resolve(this.size)}}class kN extends CN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.persistence=e,this.Qr=new Ws(n=>mp(n),pp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Tp,this.targetCount=0,this.Kr=ao.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new ao(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Nh(0),this.zr=!1,this.zr=!0,this.jr=new MN,this.referenceDelegate=e(this),this.Hr=new UN(this),this.indexManager=new TN,this.remoteDocumentCache=function(o){return new PN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new vN(n),this.Yr=new DN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ON,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new VN(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new LN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class LN extends mx{constructor(e){super(),this.currentSequenceNumber=e}}class bp{constructor(e){this.persistence=e,this.ti=new Tp,this.ni=null}static ri(e){return new bp(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Re.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.oi=new Ws(s=>yx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=IN(this,n)}static ri(e,n){return new vh(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jc(e.data.value)),n}ar(e,n,s){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return vR()?8:px(tn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new jN;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Ga()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(Ga()<=ke.DEBUG&&ue("QueryEngine","Query:",Ka(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ga()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(n))):ee.resolve())}rs(e,n){if(_0(n))return ee.resolve(null);let s=Tr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=yh(n,null,"F"),s=Tr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ue(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,yh(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,o){return _0(n)||o.isEqual(Re.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?ee.resolve(null):(Ga()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ka(n)),this.hs(e,f,n,cx(o,Yl)).next(m=>m))})}cs(e,n){let s=new Dt(VT(e));return n.forEach((o,u)=>{Vh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Ga()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.ns.getDocumentsMatchingQuery(e,n,Zi.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="LocalStore",BN=3e8;class qN{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ut(Oe),this.Is=new Ws(u=>mp(u),pp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function HN(i,e,n,s){return new qN(i,e,n,s)}async function ab(i,e){const n=Ie(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ue();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function FN(i,e){const n=Ie(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const w=y.batch,A=w.keys();let M=ee.resolve();return A.forEach(V=>{M=M.next(()=>E.getEntry(p,V)).next(F=>{const j=y.docVersions.get(V);Qe(j!==null),F.version.compareTo(j)<0&&(w.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),E.addEntry(F)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ue();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function ob(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function GN(i,e){const n=Ie(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,w)));let M=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?M=M.withResumeToken(Yt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(w,M),function(F,j,Y){return F.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=BN?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(A,M,E)&&m.push(n.Hr.updateTargetData(u,M))});let p=ui(),y=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(KN(u,f,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Re.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function KN(i,e,n){let s=Ue(),o=Ue();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=ui();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(Ap,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function QN(i,e){const n=Ie(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=hp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function YN(i,e){const n=Ie(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Ki(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Um(i,e,n){const s=Ie(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!_o(f))throw f;ue(Ap,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function D0(i,e,n){const s=Ie(i);let o=Re.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const w=Ie(p),A=w.Is.get(E);return A!==void 0?ee.resolve(w.Ts.get(A)):w.Hr.getTargetData(y,E)}(s,f,Tr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:Ue())).next(m=>($N(s,kx(e),m),{documents:m,gs:u})))}function $N(i,e,n){let s=i.Es.get(e)||Re.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class O0{constructor(){this.activeTargetIds=qx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XN{constructor(){this.ho=new O0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new O0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="ConnectivityMonitor";class V0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(M0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(M0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc=null;function Lm(){return Gc===null?Gc=function(){return 268435456+Math.round(2147483648*Math.random())}():Gc++,"0x"+Gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="RestConnection",ZN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=Lm(),m=this.bo(e,n.toUriEncodedString());ue(hm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(y=>(ue(hm,`Received RPC '${e}' ${f}: `,y),y),y=>{throw no(hm,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+go}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=ZN[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class tD extends JN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Lm();return new Promise((f,m)=>{const p=new lT;p.setWithCredentials(!0),p.listenOnce(uT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Zc.NO_ERROR:const E=p.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Zc.TIMEOUT:ue(Zt,`RPC '${e}' ${u} timed out`),m(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const w=p.getStatus();if(ue(Zt,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A==null?void 0:A.error;if(M&&M.status&&M.message){const V=function(j){const Y=j.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Y)>=0?Y:J.UNKNOWN}(M.status);m(new ce(V,M.message))}else m(new ce(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ce(J.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{ue(Zt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);ue(Zt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=Lm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=fT(),m=hT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Zt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);let A=!1,M=!1;const V=new eD({Fo:j=>{M?ue(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(A||(ue(Zt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ue(Zt,`RPC '${e}' stream ${o} sending:`,j),w.send(j))},Mo:()=>w.close()}),F=(j,Y,re)=>{j.listen(Y,ne=>{try{re(ne)}catch(de){setTimeout(()=>{throw de},0)}})};return F(w,kl.EventType.OPEN,()=>{M||(ue(Zt,`RPC '${e}' stream ${o} transport opened.`),V.Qo())}),F(w,kl.EventType.CLOSE,()=>{M||(M=!0,ue(Zt,`RPC '${e}' stream ${o} transport closed`),V.Uo())}),F(w,kl.EventType.ERROR,j=>{M||(M=!0,no(Zt,`RPC '${e}' stream ${o} transport errored:`,j),V.Uo(new ce(J.UNAVAILABLE,"The operation could not be completed")))}),F(w,kl.EventType.MESSAGE,j=>{var Y;if(!M){const re=j.data[0];Qe(!!re);const ne=re,de=(ne==null?void 0:ne.error)||((Y=ne[0])===null||Y===void 0?void 0:Y.error);if(de){ue(Zt,`RPC '${e}' stream ${o} received error:`,de);const fe=de.status;let Se=function(R){const N=bt[R];if(N!==void 0)return YT(N)}(fe),O=de.message;Se===void 0&&(Se=J.INTERNAL,O="Unknown error status: "+fe+" with message "+de.message),M=!0,V.Uo(new ce(Se,O)),w.close()}else ue(Zt,`RPC '${e}' stream ${o} received:`,re),V.Ko(re)}}),F(m,cT.STAT_EVENT,j=>{j.stat===Rm.PROXY?ue(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Rm.NOPROXY&&ue(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(i){return new sN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="PersistentStream";class ub{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new lb(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ce(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(P0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue(P0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nD extends ub{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=lN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?br(f.readTime):Re.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=km(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Dm(p)?{documents:hN(u,p)}:{query:fN(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=WT(u,f.resumeToken);const y=Mm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=_h(u,f.snapshotVersion.toTimestamp());const y=Mm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=mN(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=km(this.serializer),n.removeTarget=e,this.I_(n)}}class rD extends ub{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=cN(e.writeResults,e.commitTime),s=br(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=km(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>uN(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{}class sD extends iD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Vm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(J.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Vm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class aD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(li(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="RemoteStore";class oD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Zs(this)&&(ue($s,"Restarting streams for network reachability change."),await async function(p){const y=Ie(p);y.W_.add(4),await du(y),y.j_.set("Unknown"),y.W_.delete(4),await jh(y)}(this))})}),this.j_=new aD(s,o)}}async function jh(i){if(Zs(i))for(const e of i.G_)await e(!0)}async function du(i){for(const e of i.G_)await e(!1)}function cb(i,e){const n=Ie(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Cp(n)?Ip(n):Eo(n).c_()&&Rp(n,e))}function Sp(i,e){const n=Ie(i),s=Eo(n);n.K_.delete(e),s.c_()&&hb(n,e),n.K_.size===0&&(s.c_()?s.P_():Zs(n)&&n.j_.set("Unknown"))}function Rp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(i).y_(e)}function hb(i,e){i.H_.Ne(e),Eo(i).w_(e)}function Ip(i){i.H_=new tN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Eo(i).start(),i.j_.B_()}function Cp(i){return Zs(i)&&!Eo(i).u_()&&i.K_.size>0}function Zs(i){return Ie(i).W_.size===0}function fb(i){i.H_=void 0}async function lD(i){i.j_.set("Online")}async function uD(i){i.K_.forEach((e,n)=>{Rp(i,e)})}async function cD(i,e){fb(i),Cp(i)?(i.j_.q_(e),Ip(i)):i.j_.set("Unknown")}async function hD(i,e,n){if(i.j_.set("Online"),e instanceof XT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){ue($s,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Eh(i,s)}else if(e instanceof nh?i.H_.We(e):e instanceof $T?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Re.min()))try{const s=await ob(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(y);E&&u.K_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),hb(u,p);const w=new Ki(E.target,p,y,E.sequenceNumber);Rp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ue($s,"Failed to raise snapshot:",s),await Eh(i,s)}}async function Eh(i,e,n){if(!_o(e))throw e;i.W_.add(1),await du(i),i.j_.set("Offline"),n||(n=()=>ob(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue($s,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await jh(i)})}function db(i,e){return e().catch(n=>Eh(i,n,e))}async function zh(i){const e=Ie(i),n=ns(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:hp;for(;fD(e);)try{const o=await QN(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,dD(e,o)}catch(o){await Eh(e,o)}mb(e)&&pb(e)}function fD(i){return Zs(i)&&i.U_.length<10}function dD(i,e){i.U_.push(e);const n=ns(i);n.c_()&&n.S_&&n.b_(e.mutations)}function mb(i){return Zs(i)&&!ns(i).u_()&&i.U_.length>0}function pb(i){ns(i).start()}async function mD(i){ns(i).C_()}async function pD(i){const e=ns(i);for(const n of i.U_)e.b_(n.mutations)}async function gD(i,e,n){const s=i.U_.shift(),o=_p.from(s,e,n);await db(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await zh(i)}async function yD(i,e){e&&ns(i).S_&&await async function(s,o){if(function(f){return Jx(f)&&f!==J.ABORTED}(o.code)){const u=s.U_.shift();ns(s).h_(),await db(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await zh(s)}}(i,e),mb(i)&&pb(i)}async function k0(i,e){const n=Ie(i);n.asyncQueue.verifyOperationInProgress(),ue($s,"RemoteStore received new credentials");const s=Zs(n);n.W_.add(3),await du(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await jh(n)}async function _D(i,e){const n=Ie(i);e?(n.W_.delete(2),await jh(n)):e||(n.W_.add(2),await du(n),n.j_.set("Unknown"))}function Eo(i){return i.J_||(i.J_=function(n,s,o){const u=Ie(n);return u.M_(),new nD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:lD.bind(null,i),No:uD.bind(null,i),Lo:cD.bind(null,i),p_:hD.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Cp(i)?Ip(i):i.j_.set("Unknown")):(await i.J_.stop(),fb(i))})),i.J_}function ns(i){return i.Y_||(i.Y_=function(n,s,o){const u=Ie(n);return u.M_(),new rD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:mD.bind(null,i),Lo:yD.bind(null,i),D_:pD.bind(null,i),v_:gD.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await zh(i)):(await i.Y_.stop(),i.U_.length>0&&(ue($s,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new xp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(i,e){if(li("AsyncQueue",`${e}: ${i}`),_o(i))return new ce(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static emptySet(e){return new Ja(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ul(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ja;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.Z_=new ut(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class oo{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new oo(e,n,Ja.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class ED{constructor(){this.queries=L0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ie(n),u=o.queries;o.queries=L0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function L0(){return new Ws(i=>MT(i),Mh)}async function gb(i,e){const n=Ie(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new vD,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Np(f,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Dp(n)}async function yb(i,e){const n=Ie(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function TD(i,e){const n=Ie(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Dp(n)}function bD(i,e,n){const s=Ie(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Dp(i){i.ia.forEach(e=>{e.next()})}var jm,j0;(j0=jm||(jm={}))._a="default",j0.Cache="cache";class _b{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.key=e}}class Eb{constructor(e){this.key=e}}class wD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=VT(e),this.wa=new Ja(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new U0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const A=o.get(E),M=Vh(this.query,w)?w:null,V=!!A&&this.mutatedKeys.has(A.key),F=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let j=!1;A&&M?A.data.isEqual(M.data)?V!==F&&(s.track({type:3,doc:M}),j=!0):this.va(A,M)||(s.track({type:2,doc:M}),j=!0,(p&&this.ya(M,p)>0||y&&this.ya(M,y)<0)&&(m=!0)):!A&&M?(s.track({type:0,doc:M}),j=!0):A&&!M&&(s.track({type:1,doc:A}),j=!0,(p||y)&&(m=!0)),j&&(M?(f=f.add(M),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,w)=>function(M,V){const F=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return F(M)-F(V)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new oo(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new U0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new Eb(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new vb(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ue();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return oo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Op="SyncEngine";class AD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class SD{constructor(e){this.key=e,this.Ba=!1}}class RD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ws(m=>MT(m),Mh),this.qa=new Map,this.Qa=new Set,this.$a=new ut(ye.comparator),this.Ua=new Map,this.Ka=new Tp,this.Wa={},this.Ga=new Map,this.za=ao.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ID(i,e,n=!0){const s=Rb(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Tb(s,e,n,!0),o}async function CD(i,e){const n=Rb(i);await Tb(n,e,!0,!1)}async function Tb(i,e,n,s){const o=await YN(i.localStore,Tr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await xD(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&cb(i.remoteStore,o),m}async function xD(i,e,n,s,o){i.Ha=(w,A,M)=>async function(F,j,Y,re){let ne=j.view.ba(Y);ne.ls&&(ne=await D0(F.localStore,j.query,!1).then(({documents:O})=>j.view.ba(O,ne)));const de=re&&re.targetChanges.get(j.targetId),fe=re&&re.targetMismatches.get(j.targetId)!=null,Se=j.view.applyChanges(ne,F.isPrimaryClient,de,fe);return B0(F,j.targetId,Se.Ma),Se.snapshot}(i,w,A,M);const u=await D0(i.localStore,e,!0),f=new wD(e,u.gs),m=f.ba(u.documents),p=fu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,p);B0(i,n,y.Ma);const E=new AD(e,n,f);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),y.snapshot}async function ND(i,e,n){const s=Ie(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Mh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Um(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Sp(s.remoteStore,o.targetId),zm(s,o.targetId)}).catch(yo)):(zm(s,o.targetId),await Um(s.localStore,o.targetId,!0))}async function DD(i,e){const n=Ie(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sp(n.remoteStore,s.targetId))}async function OD(i,e,n){const s=jD(i);try{const o=await function(f,m){const p=Ie(f),y=Nt.now(),E=m.reduce((M,V)=>M.add(V.key),Ue());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let V=ui(),F=Ue();return p.ds.getEntries(M,E).next(j=>{V=j,V.forEach((Y,re)=>{re.isValidDocument()||(F=F.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,V)).next(j=>{w=j;const Y=[];for(const re of m){const ne=Yx(re,w.get(re.key).overlayedDocument);ne!=null&&Y.push(new as(re.key,ne,ST(ne.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,Y,m)}).next(j=>{A=j;const Y=j.applyToLocalDocumentSet(w,F);return p.documentOverlayCache.saveOverlays(M,j.batchId,Y)})}).then(()=>({batchId:A.batchId,changes:kT(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new ut(Oe)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await mu(s,o.changes),await zh(s.remoteStore)}catch(o){const u=Np(o,"Failed to persist write");n.reject(u)}}async function bb(i,e){const n=Ie(i);try{const s=await GN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Qe(f.Ba):o.removedDocuments.size>0&&(Qe(f.Ba),f.Ba=!1))}),await mu(n,s,e)}catch(s){await yo(s)}}function z0(i,e,n){const s=Ie(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ie(f);p.onlineState=m;let y=!1;p.queries.forEach((E,w)=>{for(const A of w.ta)A.sa(m)&&(y=!0)}),y&&Dp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function MD(i,e,n){const s=Ie(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new ut(ye.comparator);f=f.insert(u,en.newNoDocument(u,Re.min()));const m=Ue().add(u),p=new Uh(Re.min(),new Map,new ut(Oe),f,m);await bb(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Mp(s)}else await Um(s.localStore,e,!1).then(()=>zm(s,e,n)).catch(yo)}async function VD(i,e){const n=Ie(i),s=e.batch.batchId;try{const o=await FN(n.localStore,e);Ab(n,s,null),wb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await mu(n,o)}catch(o){await yo(o)}}async function PD(i,e,n){const s=Ie(i);try{const o=await function(f,m){const p=Ie(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(w=>(Qe(w!==null),E=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);Ab(s,e,n),wb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await mu(s,o)}catch(o){await yo(o)}}function wb(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function Ab(i,e,n){const s=Ie(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function zm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||Sb(i,s)})}function Sb(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Sp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),Mp(i))}function B0(i,e,n){for(const s of n)s instanceof vb?(i.Ka.addReference(s.key,e),kD(i,s)):s instanceof Eb?(ue(Op,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||Sb(i,s.key)):Ae()}function kD(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(ue(Op,"New document in limbo: "+n),i.Qa.add(s),Mp(i))}function Mp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new ye(nt.fromString(e)),s=i.za.next();i.Ua.set(s,new SD(n)),i.$a=i.$a.insert(n,s),cb(i.remoteStore,new Ki(Tr(gp(n.path)),s,"TargetPurposeLimboResolution",Nh.ae))}}async function mu(i,e,n){const s=Ie(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const w=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=wp.Yi(p.targetId,y);u.push(w)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=Ie(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ee.forEach(y,A=>ee.forEach(A.Hi,M=>E.persistence.referenceDelegate.addReference(w,A.targetId,M)).next(()=>ee.forEach(A.Ji,M=>E.persistence.referenceDelegate.removeReference(w,A.targetId,M)))))}catch(w){if(!_o(w))throw w;ue(Ap,"Failed to update sequence numbers: "+w)}for(const w of y){const A=w.targetId;if(!w.fromCache){const M=E.Ts.get(A),V=M.snapshotVersion,F=M.withLastLimboFreeSnapshotVersion(V);E.Ts=E.Ts.insert(A,F)}}}(s.localStore,u))}async function UD(i,e){const n=Ie(i);if(!n.currentUser.isEqual(e)){ue(Op,"User change. New user:",e.toKey());const s=await ab(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ce(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mu(n,s.Rs)}}function LD(i,e){const n=Ie(i),s=n.Ua.get(e);if(s&&s.Ba)return Ue().add(s.key);{let o=Ue();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function Rb(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=bb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MD.bind(null,e),e.La.p_=TD.bind(null,e.eventManager),e.La.Ja=bD.bind(null,e.eventManager),e}function jD(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PD.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return HN(this.persistence,new zN,e.initialUser,this.serializer)}Xa(e){return new sb(bp.ri,this.serializer)}Za(e){return new XN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class zD extends Th{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Qe(this.persistence.referenceDelegate instanceof vh);const s=this.persistence.referenceDelegate.garbageCollector;return new SN(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new sb(s=>vh.ri(s,n),this.serializer)}}class Bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>z0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UD.bind(null,this.syncEngine),await _D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ED}()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),s=function(u){return new tD(u)}(e.databaseInfo);return function(u,f,m,p){return new sD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new oD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>z0(this.syncEngine,n,0),function(){return V0.D()?new V0:new WN}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const w=new RD(o,u,f,m,p,y);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ie(o);ue($s,"RemoteStore shutting down."),u.W_.add(5),await du(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Bm.provider={build:()=>new Bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="FirestoreClient";class BD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=pT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(rs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(rs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Np(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function dm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(rs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await ab(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function q0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await qD(i);ue(rs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>k0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>k0(e.remoteStore,o)),i._onlineComponents=e}async function qD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(rs,"Using user provided OfflineComponentProvider");try{await dm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await dm(i,new Th)}}else ue(rs,"Using default OfflineComponentProvider"),await dm(i,new zD(void 0));return i._offlineComponents}async function Cb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(rs,"Using user provided OnlineComponentProvider"),await q0(i,i._uninitializedComponentsProvider._online)):(ue(rs,"Using default OnlineComponentProvider"),await q0(i,new Bm))),i._onlineComponents}function HD(i){return Cb(i).then(e=>e.syncEngine)}async function xb(i){const e=await Cb(i),n=e.eventManager;return n.onListen=ID.bind(null,e.syncEngine),n.onUnlisten=ND.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DD.bind(null,e.syncEngine),n}function FD(i,e,n={}){const s=new ri;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new Ib({next:A=>{E.su(),f.enqueueAndForget(()=>yb(u,w));const M=A.docs.has(m);!M&&A.fromCache?y.reject(new ce(J.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&p&&p.source==="server"?y.reject(new ce(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),w=new _b(gp(m.path),E,{includeMetadataChanges:!0,Ta:!0});return gb(u,w)}(await xb(i),i.asyncQueue,e,n,s)),s.promise}function GD(i,e,n={}){const s=new ri;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new Ib({next:A=>{E.su(),f.enqueueAndForget(()=>yb(u,w)),A.fromCache&&p.source==="server"?y.reject(new ce(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),w=new _b(m,E,{includeMetadataChanges:!0,Ta:!0});return gb(u,w)}(await xb(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(i,e,n){if(!n)throw new ce(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function KD(i,e,n,s){if(e===!0&&s===!0)throw new ce(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function F0(i){if(!ye.isDocumentKey(i))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function G0(i){if(ye.isDocumentKey(i))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Bh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae()}function Ar(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bh(i);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="firestore.googleapis.com",K0=!0;class Q0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ob,this.ssl=K0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:K0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ib;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wN)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new tx;switch(s.type){case"firstParty":return new sx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=H0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),H0.delete(n),s.terminate())}(this),Promise.resolve()}}function QD(i,e,n,s={}){var o;const u=(i=Ar(i,qh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==Ob&&u.host!==m&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Fs(p,f)&&(i._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Jt.MOCK_USER;else{y=fR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(w)}i._authCredentials=new nx(new dT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class ln{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class Wi extends os{constructor(e,n,s){super(e,n,gp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new ye(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function Js(i,e,...n){if(i=Ot(i),Db("collection","path",e),i instanceof qh){const s=nt.fromString(e,...n);return G0(s),new Wi(i,null,s)}{if(!(i instanceof ln||i instanceof Wi))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return G0(s),new Wi(i.firestore,null,s)}}function To(i,e,...n){if(i=Ot(i),arguments.length===1&&(e=pT.newId()),Db("doc","path",e),i instanceof qh){const s=nt.fromString(e,...n);return F0(s),new ln(i,null,new ye(s))}{if(!(i instanceof ln||i instanceof Wi))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return F0(s),new ln(i.firestore,i instanceof Wi?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="AsyncQueue";class $0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new lb(this,"async_queue_retry"),this.Su=()=>{const s=fm();s&&ue(Y0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ri;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!_o(e))throw e;ue(Y0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw li("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=xp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class bo extends qh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new $0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $0(e),this._firestoreClient=void 0,await e}}}function Mb(i,e){const n=typeof i=="object"?i:wE(),s=typeof i=="string"?i:mh,o=Jm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=cR("firestore");u&&QD(o,...u)}return o}function Vp(i){if(i._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||YD(i),i._firestoreClient}function YD(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,y,E){return new Ex(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Nb(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new BD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lo(Yt.fromBase64String(e))}catch(n){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lo(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=/^__.*__$/;class XD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}}class Vb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new as(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Pb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Up{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Up(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return bh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Pb(this.Lu)&&$D.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class WD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Lh(e)}ju(e,n,s,o=!1){return new Up({Lu:e,methodName:n,zu:s,path:Qt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fh(i){const e=i._freezeSettings(),n=Lh(i._databaseId);return new WD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function kb(i,e,n,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);zp("Data must be an object, but it was:",f,s);const m=Ub(s,f);let p,y;if(u.merge)p=new Sn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=qm(e,w,n);if(!f.contains(A))throw new ce(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);jb(E,A)||E.push(A)}p=new Sn(E),y=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=f.fieldTransforms;return new XD(new mn(m),p,y)}class Gh extends pu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}class Lp extends pu{_toFieldTransform(e){return new FT(e.path,new Jl)}isEqual(e){return e instanceof Lp}}class jp extends pu{constructor(e,n){super(e),this.Ju=n}_toFieldTransform(e){const n=new nu(e.serializer,jT(e.serializer,this.Ju));return new FT(e.path,n)}isEqual(e){return e instanceof jp&&this.Ju===e.Ju}}function ZD(i,e,n,s){const o=i.ju(1,e,n);zp("Data must be an object, but it was:",o,s);const u=[],f=mn.empty();ss(s,(p,y)=>{const E=Bp(e,p,n);y=Ot(y);const w=o.Uu(E);if(y instanceof Gh)u.push(E);else{const A=gu(y,w);A!=null&&(u.push(E),f.set(E,A))}});const m=new Sn(u);return new Vb(f,m,o.fieldTransforms)}function JD(i,e,n,s,o,u){const f=i.ju(1,e,n),m=[qm(e,s,n)],p=[o];if(u.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(qm(e,u[A])),p.push(u[A+1]);const y=[],E=mn.empty();for(let A=m.length-1;A>=0;--A)if(!jb(y,m[A])){const M=m[A];let V=p[A];V=Ot(V);const F=f.Uu(M);if(V instanceof Gh)y.push(M);else{const j=gu(V,F);j!=null&&(y.push(M),E.set(M,j))}}const w=new Sn(y);return new Vb(E,w,f.fieldTransforms)}function e2(i,e,n,s=!1){return gu(n,i.ju(s?4:3,e))}function gu(i,e){if(Lb(i=Ot(i)))return zp("Unsupported field value:",e,i),Ub(i,e);if(i instanceof pu)return function(s,o){if(!Pb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=gu(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Ot(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Nt.fromDate(s);return{timestampValue:_h(o.serializer,u)}}if(s instanceof Nt){const u=new Nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_h(o.serializer,u)}}if(s instanceof Pp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof lo)return{bytesValue:WT(o.serializer,s._byteString)};if(s instanceof ln){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ep(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof kp)return function(f,m){return{mapValue:{fields:{[wT]:{stringValue:AT},[ph]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return yp(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Bh(s)}`)}(i,e)}function Ub(i,e){const n={};return yT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(i,(s,o)=>{const u=gu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Lb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Nt||i instanceof Pp||i instanceof lo||i instanceof ln||i instanceof pu||i instanceof kp)}function zp(i,e,n){if(!Lb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Bh(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function qm(i,e,n){if((e=Ot(e))instanceof Hh)return e._internalPath;if(typeof e=="string")return Bp(i,e);throw bh("Field path arguments must be of type string or ",i,!1,void 0,n)}const t2=new RegExp("[~\\*/\\[\\]]");function Bp(i,e,n){if(e.search(t2)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Hh(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function bh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ce(J.INVALID_ARGUMENT,m+i+p)}function jb(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n2 extends zb{data(){return super.data()}}function Kh(i,e){return typeof e=="string"?Bp(i,e):e instanceof Hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qp{}class Hp extends qp{}function Bb(i,e,...n){let s=[];e instanceof qp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Fp).length,m=u.filter(p=>p instanceof Qh).length;if(f>1||f>0&&m>0)throw new ce(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Qh extends Hp{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Qh(e,n,s)}_apply(e){const n=this._parse(e);return Hb(e._query,n),new os(e.firestore,e.converter,Om(e._query,n))}_parse(e){const n=Fh(e.firestore);return function(u,f,m,p,y,E,w){let A;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){W0(w,E);const V=[];for(const F of w)V.push(X0(p,u,F));A={arrayValue:{values:V}}}else A=X0(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||W0(w,E),A=e2(m,f,w,E==="in"||E==="not-in");return wt.create(y,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function qb(i,e,n){const s=e,o=Kh("where",i);return Qh._create(o,s,n)}class Fp extends qp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Hb(f,p),f=Om(f,p)}(e._query,n),new os(e.firestore,e.converter,Om(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gp extends Hp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gp(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(u,f)}(e._query,this._field,this._direction);return new os(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new vo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function i2(i,e="asc"){const n=e,s=Kh("orderBy",i);return Gp._create(s,n)}class Kp extends Hp{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Kp(e,n,s)}_apply(e){return new os(e.firestore,e.converter,yh(e._query,this._limit,this._limitType))}}function s2(i){return Kp._create("limit",i,"F")}function X0(i,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new ce(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OT(e)&&n.indexOf("/")!==-1)throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!ye.isDocumentKey(s))throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return f0(i,new ye(s))}if(n instanceof ln)return f0(i,n._key);throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function W0(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hb(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class a2{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ss(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[ph].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>gt(f.doubleValue));return new kp(u)}convertGeoPoint(e){return new Pp(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Oh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Qe(rb(s));const o=new Xl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gb extends zb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Kh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class rh extends Gb{data(e={}){return super.data(e)}}class o2{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new rh(this._firestore,this._userDataWriter,s.key,s,new jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:l2(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function l2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(i){i=Ar(i,ln);const e=Ar(i.firestore,bo);return FD(Vp(e),i._key).then(n=>h2(e,i,n))}class Kb extends a2{constructor(e){super(),this.firestore=e}convertBytes(e){return new lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function Qp(i){i=Ar(i,os);const e=Ar(i.firestore,bo),n=Vp(e),s=new Kb(e);return r2(i._query),GD(n,i._query).then(o=>new o2(e,s,i,o))}function c2(i,e,n){i=Ar(i,ln);const s=Ar(i.firestore,bo),o=Fb(i.converter,e);return $p(s,[kb(Fh(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Xn.none())])}function Yp(i,e,n,...s){i=Ar(i,ln);const o=Ar(i.firestore,bo),u=Fh(o);let f;return f=typeof(e=Ot(e))=="string"||e instanceof Hh?JD(u,"updateDoc",i._key,e,n,s):ZD(u,"updateDoc",i._key,e),$p(o,[f.toMutation(i._key,Xn.exists(!0))])}function Yh(i,e){const n=Ar(i.firestore,bo),s=To(i),o=Fb(i.converter,e);return $p(n,[kb(Fh(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then(()=>s)}function $p(i,e){return function(s,o){const u=new ri;return s.asyncQueue.enqueueAndForget(async()=>OD(await HD(s),o,u)),u.promise}(Vp(i),e)}function h2(i,e,n){const s=n.docs.get(e._key),o=new Kb(i);return new Gb(i,o,e._key,s,new jl(n.hasPendingWrites,n.fromCache),e.converter)}function Xp(){return new Lp("serverTimestamp")}function mm(i){return new jp("increment",i)}(function(e,n=!0){(function(o){go=o})(mo),eo(new Gs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new bo(new rx(s.getProvider("auth-internal")),new ax(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),$i(e0,t0,e),$i(e0,t0,"esm2017")})();const f2={apiKey:"AIzaSyAPPv3XYZW26dlicnpwUUYcgWlrfbxNIj8",authDomain:"mysteryai-46907.firebaseapp.com",projectId:"mysteryai-46907",storageBucket:"mysteryai-46907.firebasestorage.app",messagingSenderId:"415359645504",appId:"1:415359645504:web:2b21c63d87bef26782eca5",measurementId:"G-8GV2348PB2"},Qb=ep(f2),ii=aT(Qb),wh=Mb(Qb),d2=async(i,e,n)=>{try{if(e.length<6)return{user:null,error:"Password should be at least 6 characters"};const s=await VC(ii,i,e);return await UC(s.user,{displayName:n}),await c2(To(wh,"userDetails",s.user.uid),{username:n,email:i,createdAt:new Date,stats:{gamesPlayed:0,wins:0,totalSolveTime:0}}),{user:s.user,error:null}}catch(s){switch(console.error("Registration error:",s.code,s.message),s.code){case"auth/email-already-in-use":return{user:null,error:"Email already in use"};case"auth/invalid-email":return{user:null,error:"Invalid email format"};case"auth/weak-password":return{user:null,error:"Password is too weak"};case"auth/operation-not-allowed":return{user:null,error:"Email/password accounts are not enabled in Firebase console"};default:return{user:null,error:s.message}}}},m2=async(i,e)=>{try{return{user:(await PC(ii,i,e)).user,error:null}}catch(n){return{user:null,error:n.message}}},p2=async()=>{try{return await BC(ii),{error:null}}catch(i){return{error:i.message}}},$h=i=>zC(ii,i);function g2(){const i=fo(),[e,n]=H.useState(!1),[s,o]=H.useState("");H.useEffect(()=>{const m=$h(p=>{n(!!p),o(p?p.displayName:"")});return()=>m()},[]);const u=()=>{i(e?"/gameStart":"/auth")},f=async()=>{await p2(),i("/")};return U.jsxs("header",{className:"bg-slate-900 border-b border-purple-800 shadow-lg p-4 flex justify-between items-center",children:[U.jsx("div",{className:"flex items-center",children:U.jsx("h1",{onClick:()=>i("/"),className:"text-2xl font-bold text-purple-400 cursor-pointer",children:"MysteryAI"})}),U.jsxs("div",{className:"flex items-center gap-4",children:[e&&U.jsxs("span",{className:"text-purple-300",children:["Welcome, ",U.jsx("span",{className:"font-semibold",children:s})]}),e?U.jsx("div",{className:"flex gap-3",children:U.jsx("button",{onClick:f,className:"px-4 py-2 bg-red-600 hover:bg-red-500 rounded-md transition-colors text-white",children:"Logout"})}):U.jsx("button",{onClick:u,className:"px-4 py-2 bg-purple-700 hover:bg-purple-600 rounded-md transition-colors text-white",children:"Sign In"})]})]})}function y2(){const i=fo(),[e,n]=H.useState(!1);H.useEffect(()=>{const o=$h(u=>{n(!!u)});return()=>o()},[]);const s=()=>{i(e?"/gameStart":"/auth")};return U.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center p-4 sm:p-6 md:p-8 lg:p-12 xl:p-16 bg-slate-900 font-mono",children:U.jsx("div",{className:"flex-grow flex flex-col items-center justify-center p-6",children:U.jsxs("div",{className:"max-w-2xl w-full bg-slate-800 rounded-lg shadow-xl p-8 border border-purple-900",children:[U.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-white",children:"Welcome to Mystery Game AI!"}),U.jsxs("div",{className:"mb-8",children:[U.jsx("h3",{className:"text-xl font-semibold mb-3 text-purple-300",children:"Rules"}),U.jsxs("ul",{className:"space-y-2 text-slate-200 text-center",children:[U.jsxs("li",{className:"flex items-start justify-center",children:[U.jsx("span",{className:"text-purple-400 mr-2",children:""}),U.jsx("span",{children:"Solve the mystery by finding clues"})]}),U.jsxs("li",{className:"flex items-start justify-center",children:[U.jsx("span",{className:"text-purple-400 mr-2",children:""}),U.jsx("span",{children:"Ask questions to uncover hidden secrets"})]}),U.jsxs("li",{className:"flex items-start justify-center",children:[U.jsx("span",{className:"text-purple-400 mr-2",children:""}),U.jsx("span",{children:"Make deductions to identify the culprit"})]}),U.jsxs("li",{className:"flex items-start justify-center",children:[U.jsx("span",{className:"text-purple-400 mr-2",children:""}),U.jsx("span",{children:"Submit your final theory to win the game"})]}),U.jsxs("li",{className:"flex items-start justify-center",children:[U.jsx("span",{className:"text-purple-400 mr-2",children:""}),U.jsx("span",{children:"Time is limited, so think carefully"})]})]})]}),U.jsx("div",{className:"flex justify-center",children:U.jsx("button",{onClick:s,className:"px-6 py-3 bg-purple-600 hover:bg-purple-500 rounded-md text-white font-semibold shadow-lg hover:shadow-xl transition-all",children:e?"Play Game":"Sign In to Play"})})]})})})}const _2={apiKey:"AIzaSyAPPv3XYZW26dlicnpwUUYcgWlrfbxNIj8",authDomain:"mysteryai-46907.firebaseapp.com",projectId:"mysteryai-46907",storageBucket:"mysteryai-46907.firebasestorage.app",messagingSenderId:"415359645504",appId:"1:415359645504:web:2b21c63d87bef26782eca5",measurementId:"G-8GV2348PB2"},Yb=ep(_2);aT(Yb);const ls=Mb(Yb);H.createContext();const v2=async(i,e)=>{try{const n=await Yh(Js(ls,"cases"),{...i,createdBy:e,timestamp:Xp(),embedding:null});return console.log("Case stored with ID:",n.id),n.id}catch(n){throw console.error("Error adding case to Firestore:",n),n}},E2=async(i,e)=>{try{const n=To(ls,"cases",i);await Yp(n,{suspects:e.suspects,witnesses:e.witnesses})}catch(n){console.error("Error updating chat in Firestore:",n)}},T2=async(i,{user_guess:e,guess_correct:n})=>{try{const s=To(ls,"cases",i);await Yp(s,{user_guess:e,guess_correct:n,timestamp:new Date}),console.log(" Guess stored.")}catch(s){console.error(" Error storing guess:",s)}},b2=({caseData:i,onResetGame:e,onSuccessfulSolve:n})=>{const[s,o]=H.useState(""),[u,f]=H.useState(!1),[m,p]=H.useState(!1),[y,E]=H.useState(""),w=async M=>{if(M.preventDefault(),!s.trim())return;const V=i.suspects.find(j=>j.is_murderer);E(V?V.name:"Unknown");const F=V&&s.toLowerCase().includes(V.name.toLowerCase());await T2(i.id,{user_guess:s,guess_correct:F}),p(F),f(!0),F&&n&&n()},A=()=>{o(""),f(!1),p(!1),e&&e()};return u?U.jsxs("div",{className:"max-w-md mx-auto bg-slate-800 p-6 rounded-xl border border-purple-900 shadow-xl mt-8 text-center",children:[m?U.jsxs("div",{className:"text-green-400",children:[U.jsx("h2",{className:"text-2xl font-bold mb-4",children:" You Solved the Case!"}),U.jsxs("p",{className:"mb-4",children:["Congratulations, detective! You correctly identified ",U.jsx("span",{className:"font-bold",children:y})," as the murderer."]})]}):U.jsxs("div",{className:"text-red-400",children:[U.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Wrong Accusation!"}),U.jsxs("p",{className:"mb-4",children:["Your accusation against ",U.jsx("span",{className:"font-bold",children:s})," was incorrect. The real murderer was ",U.jsx("span",{className:"font-bold",children:y}),"."]})]}),U.jsx("button",{onClick:A,className:"mt-4 px-6 py-3 bg-purple-600 hover:bg-purple-500 rounded-md text-white font-semibold shadow-lg",children:"Next Case"})]}):U.jsxs("div",{className:"max-w-md mx-auto bg-slate-800 p-6 rounded-xl border border-purple-900 shadow-xl mt-8",children:[U.jsx("h2",{className:"text-xl font-bold text-center text-purple-300 mb-4",children:"Make Your Accusation"}),U.jsxs("form",{onSubmit:w,children:[U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{htmlFor:"accusedName",className:"block text-sm font-medium text-gray-300 mb-2",children:"Who is the murderer?"}),U.jsx("input",{type:"text",id:"accusedName",placeholder:"Enter the murderer's name",className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500",value:s,onChange:M=>o(M.target.value),required:!0})]}),U.jsx("div",{className:"text-center",children:U.jsx("button",{type:"submit",className:"px-6 py-3 bg-green-600 hover:bg-green-500 rounded-md text-white font-semibold shadow-lg",children:"Submit Accusation"})})]})]})},$b=H.createContext(),w2=({children:i})=>{const[e,n]=H.useState(null);return U.jsx($b.Provider,{value:{caseData:e,setCaseData:n},children:i})},A2=()=>H.useContext($b),S2=({onTimePause:i,onTimeResume:e})=>{const[n,s]=H.useState(0),[o,u]=H.useState(!0),[f,m]=H.useState(!0);H.useEffect(()=>{let E;return o&&(E=setInterval(()=>{s(w=>w+1)},1e3)),()=>clearInterval(E)},[o]),H.useEffect(()=>{f!==o&&(o?e==null||e():i==null||i()),m(o)},[o]);const p=()=>{u(E=>!E)},y=E=>{const w=Math.floor(E/3600),A=Math.floor(E%3600/60),M=E%60;return`${w.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`};return U.jsxs("div",{className:"flex items-center space-x-4",children:[U.jsx("div",{className:`text-xl font-bold ${n>1800?"text-red-500":"text-white"}`,children:y(n)}),U.jsx("button",{onClick:p,className:"px-3 py-1 bg-purple-600 hover:bg-purple-500 rounded text-white",children:o?"Pause":"Resume"})]})},R2=()=>{const[i,e]=H.useState([]),[n,s]=H.useState(""),[o,u]=H.useState(!0);H.useEffect(()=>{(async()=>{u(!0);const E=ii.currentUser;if(!E){u(!1);return}s(E.displayName||"");try{const w=Js(wh,"userGames"),A=Bb(w,qb("userId","==",E.uid),i2("timestamp","desc"),s2(5)),M=await Qp(A),V=[];M.forEach(F=>{var j,Y;V.push({id:F.id,...F.data(),timestamp:((Y=(j=F.data().timestamp)==null?void 0:j.toDate)==null?void 0:Y.call(j))||new Date})}),e(V)}catch(w){console.error("Error fetching stats:",w)}u(!1)})()},[]);const f=y=>{if(!y&&y!==0)return"--:--:--";const E=Math.floor(y/3600),w=Math.floor(y%3600/60),A=y%60;return`${E.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`},p=(()=>{if(i.length===0)return null;const y=i.reduce((E,w)=>E+(w.timeTaken||0),0);return Math.floor(y/i.length)})();return o?U.jsx("div",{className:"text-center py-4",children:"Loading stats..."}):i.length===0?U.jsxs("div",{className:"bg-slate-800 rounded-xl border border-purple-900 p-6 mb-6 text-center",children:[U.jsx("h3",{className:"text-xl font-semibold text-purple-300 mb-2",children:"Your Game History"}),U.jsx("p",{className:"text-gray-400",children:"No games played yet. Generate a case to start playing!"})]}):U.jsxs("div",{className:"bg-slate-800 rounded-xl border border-purple-900 p-6 mb-6",children:[U.jsx("h3",{className:"text-xl font-semibold text-purple-300 mb-4",children:"Your Recent Games"}),p!==null&&U.jsxs("div",{className:"mb-4 text-center",children:[U.jsx("span",{className:"text-gray-300",children:"Average Time: "}),U.jsx("span",{className:"font-bold text-white",children:f(p)})]}),U.jsx("div",{className:"overflow-x-auto",children:U.jsxs("table",{className:"w-full text-sm",children:[U.jsx("thead",{children:U.jsxs("tr",{className:"border-b border-purple-800",children:[U.jsx("th",{className:"text-left py-2 px-2 text-purple-200",children:"Case"}),U.jsx("th",{className:"text-center py-2 px-2 text-purple-200",children:"Result"}),U.jsx("th",{className:"text-right py-2 px-2 text-purple-200",children:"Time"}),U.jsx("th",{className:"text-right py-2 px-2 text-purple-200",children:"Date"})]})}),U.jsx("tbody",{children:i.map((y,E)=>U.jsxs("tr",{className:"border-b border-slate-700",children:[U.jsx("td",{className:"py-2 px-2 text-white truncate max-w-[150px]",children:y.caseTitle||"Mystery Case"}),U.jsx("td",{className:"py-2 px-2 text-center",children:y.solved?U.jsx("span",{className:"text-green-400",children:"Solved"}):U.jsx("span",{className:"text-red-400",children:"Failed"})}),U.jsx("td",{className:"py-2 px-2 text-right text-white",children:f(y.timeTaken)}),U.jsx("td",{className:"py-2 px-2 text-right text-gray-400",children:new Date(y.timestamp).toLocaleDateString()})]},E))})]})})]})},I2=()=>{const[i,e]=H.useState(!0),[n,s]=H.useState(""),[o,u]=H.useState(""),[f,m]=H.useState(""),[p,y]=H.useState(""),[E,w]=H.useState(""),[A,M]=H.useState(!1),V=fo();H.useEffect(()=>{const j=$h(Y=>{Y&&V("/gameStart")});return()=>j()},[V]);const F=async j=>{if(j.preventDefault(),w(""),M(!0),!n.trim()||!o.trim()){w("Please fill in all fields"),M(!1);return}if(i){const{user:Y,error:re}=await m2(n,o);if(re){w(re),M(!1);return}}else{if(o!==p){w("Passwords do not match"),M(!1);return}if(!f.trim()){w("Username is required"),M(!1);return}const{user:Y,error:re}=await d2(n,o,f);if(re){w(re),M(!1);return}}M(!1)};return U.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center p-4 bg-slate-900 font-mono",children:U.jsxs("div",{className:"w-full max-w-md bg-slate-800 rounded-lg shadow-xl p-8 border border-purple-900",children:[U.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-purple-300",children:i?"Sign In":"Sign Up"}),E&&U.jsx("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 rounded-md text-red-200",children:E}),U.jsxs("form",{onSubmit:F,children:[!i&&U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),U.jsx("input",{type:"text",id:"username",className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500",value:f,onChange:j=>m(j.target.value),required:!i})]}),U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),U.jsx("input",{type:"email",id:"email",className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500",value:n,onChange:j=>s(j.target.value),required:!0})]}),U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),U.jsx("input",{type:"password",id:"password",className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500",value:o,onChange:j=>u(j.target.value),required:!0})]}),!i&&U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),U.jsx("input",{type:"password",id:"confirmPassword",className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500",value:p,onChange:j=>y(j.target.value),required:!i})]}),U.jsx("div",{className:"flex justify-center",children:U.jsx("button",{type:"submit",disabled:A,className:`px-6 py-3 bg-purple-600 hover:bg-purple-500 rounded-md text-white font-semibold shadow-lg hover:shadow-xl transition-all w-full ${A?"opacity-70 cursor-not-allowed":""}`,children:A?"Processing...":i?"Sign In":"Sign Up"})})]}),U.jsx("div",{className:"mt-6 text-center",children:U.jsx("button",{onClick:()=>{e(!i),w("")},className:"text-purple-400 hover:underline",children:i?"Don't have an account? Sign Up":"Already have an account? Sign In"})})]})})},C2=()=>!!ii.currentUser,x2=async(i,e,n)=>{try{const s=To(ls,i,e),o=await u2(s);return o.exists()?o.data()[n]:(console.log(" No such document!"),null)}catch(s){return console.error(" Error fetching field:",s),null}},Wp=async i=>{const e=await x2("Apis","0","huggingfaceApi");try{const s=await(await fetch("https://api-inference.huggingface.co/pipeline/feature-extraction/sentence-transformers/all-MiniLM-L6-v2",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({inputs:i,options:{wait_for_model:!0}})})).json();return Array.isArray(s)&&Array.isArray(s[0])?s[0].map((u,f)=>s.reduce((m,p)=>m+p[f],0)/s.length):Array.isArray(s)&&s.length===384?s:(console.warn(" Unexpected response format from HuggingFace:",s),null)}catch(n){return console.error(" Failed to get embedding:",n),null}},N2=async(i,e)=>{var o;const n=Js(ls,"embeddings"),s=[];i.suspects.forEach(u=>{s.push({caseId:e,role:"suspect",name:u.name,field:"alibi",text:u.alibi})}),(o=i.witnesses)==null||o.forEach(u=>{s.push({caseId:e,role:"witness",name:u.name,field:"observation",text:u.observation})});for(const u of s){const f=await Wp(u.text);f&&await Yh(n,{...u,embedding:f})}console.log(" Embeddings saved for case:",e)},Xb=(i,e)=>{const n=i.reduce((u,f,m)=>u+f*e[m],0),s=Math.sqrt(i.reduce((u,f)=>u+f*f,0)),o=Math.sqrt(e.reduce((u,f)=>u+f*f,0));return n/(s*o)},D2=async(i,e)=>{const n=await Wp(e);if(!n)return null;const s=Bb(Js(ls,"embeddings"),qb("caseId","==",i)),o=await Qp(s);let u=null,f=-1;return o.forEach(m=>{const p=m.data(),y=Xb(p.embedding,n);y>f&&(f=y,u=p.text)}),u},O2=async()=>(await Qp(Js(ls,"embeddings"))).docs.filter(e=>e.data().field==="summary").map(e=>({...e.data(),id:e.id})),M2=async(i,e,n)=>{try{const s=await Yh(Js(ls,"case_overview_embeddings"),{caseId:i,summary:e,embedding:n,createdAt:Xp()});console.log(" Overview embedding stored:",s.id)}catch(s){console.error(" Failed to store overview embedding:",s)}},Z0="AIzaSyBApVEEAiqtb5cHyl6YoK_DZk0ZJBGh5B8",V2=()=>{var ft;const[i,e]=H.useState(!1),[n,s]=H.useState(null),[o,u]=H.useState(null),[f,m]=H.useState("suspect"),[p,y]=H.useState(!1),[E,w]=H.useState(""),[A,M]=H.useState(!1),V=(le,Ee)=>{const xe=encodeURIComponent(le);return Ee&&Ee.toLowerCase()==="female"?`https://avatar.iran.liara.run/public/girl?username=${xe}`:`https://avatar.iran.liara.run/public/boy?username=${xe}`},{caseData:F,setCaseData:j}=A2(),[Y,re]=H.useState(Date.now()),[ne,de]=H.useState(0),[fe,Se]=H.useState(!1),[O,S]=H.useState(!1),[R,N]=H.useState("");H.useEffect(()=>{const le=localStorage.getItem("currentUser");if(le){const Ee=JSON.parse(le);N(Ee.username)}},[]);const P=async(le,Ee)=>{if(ii.currentUser)try{await Yh(Js(wh,"userGames"),{userId:ii.currentUser.uid,caseTitle:(F==null?void 0:F.case_title)||"Mystery Case",solved:le,timeTaken:Ee,timestamp:Xp(),caseId:(F==null?void 0:F.id)||null});const xe=To(wh,"userDetails",ii.currentUser.uid);await Yp(xe,{"stats.gamesPlayed":mm(1),"stats.wins":mm(le?1:0),"stats.totalSolveTime":mm(Ee)})}catch(xe){console.error("Error saving game stats:",xe)}},L=()=>{S(!0)},C=()=>{alert("Time's up! Game over."),$(!1)},At=()=>{Se(!0);const le=Math.floor((Date.now()-Y)/1e3);de(Ee=>Ee+le)},rt=()=>{Se(!1),re(Date.now())},$=(le,Ee)=>{const xe=Ee||(fe?ne:ne+Math.floor((Date.now()-Y)/1e3));P(le,xe),j(null),u(null),y(!1),re(Date.now()),de(0),Se(!1)},ae=le=>{$(!0,le)},me=["abandoned amusement park","deep sea research lab","underground speakeasy","snowbound mountain lodge","suburban block party","VR gaming expo","desert music festival","private jet","haunted mansion"],Le=["mask reveal ceremony","talent show","blizzard lockdown","power outage","silent auction","fire drill","art unveiling","company IPO party"],x=["poisoned drink","electrocuted in bath","stage light rig collapse","sabotaged harness","crossbow from behind curtain","snake venom","laced perfume"],te=Date.now(),oe=JSON.stringify({instructions:"You are an expert mystery storyteller. Generate a complex and surprising murder mystery in a unique setting.",structure:{setting:me[Math.floor(Math.random()*me.length)],event:Le[Math.floor(Math.random()*Le.length)],murder_method:x[Math.floor(Math.random()*x.length)],case_title:"Generate a short creative title.",case_overview:"Write an intriguing 35 line summary using the setting, event, and method.",suspects:"Include 24 suspects. Only one is the murderer and is lying. Each must have unique motives, personalities, and styles.",witnesses:"Include 02 witnesses. They are always truthful but speak vaguely.",variation:"Do not repeat names, motives, or structure from prior examples."},output_format:`{ "case_title": "...", "case_overview": "...", "difficulty": "...", "suspects": [ { "name": "...", "gender": "...", "age": ..., "clothing": "...", "personality": "...", "background": "...", "alibi": "...", "is_murderer": true/false } ], "witnesses": [ { "name": "...", "description": "age, profession, and location during the crime", "observation": "What they saw or heard, vague but truthful", "note": "Contextual detail that subtly supports or contradicts a suspect's alibi" } ] }`,difficulty:"Medium",randomness:"Use a timestamp-based seed to increase randomness.",seed:te}),ie=le=>`${le.case_title}. ${le.case_overview}`.replace(/\n/g," ").replace(/"/g,"'").replace(/\\+/g," ").slice(0,512),ge=async()=>{var pn,qn,tr,Mt,Rr,nn;e(!0);let le=0,Ee=!1,xe=null,zt=null,un=null;for(;le<5&&!Ee;){le++;try{let In=(Rr=(Mt=(tr=(qn=(pn=(await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${Z0}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:oe}]}]})})).json()).candidates)==null?void 0:pn[0])==null?void 0:qn.content)==null?void 0:tr.parts)==null?void 0:Mt[0])==null?void 0:Rr.text;if(!In)continue;In=In.replace(/```json|```/g,"").trim(),In=In.replace(/^\s*[\r\n]/gm,"").trim();const Ir=JSON.parse(In);zt=ie(Ir),un=await Wp(zt),(await O2()).some(it=>Xb(un,it.embedding)>.91)||(Ee=!0,xe=Ir,xe.embedding=un)}catch(yt){console.error("Parse or embed error:",yt)}}if(!xe){s("Could not generate a unique case after multiple tries."),e(!1);return}const Bn=R||null;xe.suspects=xe.suspects.map(yt=>({...yt,chat:[]})),xe.witnesses=((nn=xe.witnesses)==null?void 0:nn.map(yt=>({...yt,chat:[]})))||[];try{const yt=await v2(xe,Bn);xe.id=yt,await M2(yt,zt,un),await N2(xe,yt)}catch(yt){console.error("Error storing case:",yt)}j(xe),y(!1),u(null),re(Date.now()),de(0),Se(!1),e(!1)},Ce=async()=>{var pn,qn,tr,Mt,Rr;if(!E.trim())return;const le={...F},xe=le[f==="suspect"?"suspects":"witnesses"][o];xe.chat.push({role:"user",content:E}),j(le),M(!0);const zt=xe.chat.map(nn=>nn.role==="user"?`Investigator: ${nn.content}`:`${xe.name}: ${nn.content}`).join(`
`);let un=await D2(F.id,E);const Bn=`
        ${f==="suspect"?`You are ${xe.name}, a suspect in a murder case.`:`You are ${xe.name}, a witness in a murder case.`}
        Context from the case:
        ${un||"None available"}
        Chat history:
        ${zt}
        ${xe.name}:
        With the context and the role assigned to you and your chat history, respond according to your character's facts
        and personality. If you are the culprit, make sure to come up with convincing lies to mislead the investigator and try to stick
        to your alibi otherwise it would be very easy to catch him. Do not answer in long paragraphs, try to keep it as concise as possible
        with a soft limit of 35 words. Each character can at most answer 5 questions so make sure that the characters do not get stuck in a
        loop and can reveal at most the observation. Also, provide user with 1 suggested very generic short detective question idea for beginners (in 5 words or less) based on the chat context that would aid them in extracting more useful information.
        Separate the response and hint with @ symbol and give plain text for both without any labels.`;try{const Rn=(Rr=(Mt=(tr=(qn=(pn=(await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${Z0}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:Bn}]}]})})).json()).candidates)==null?void 0:pn[0])==null?void 0:qn.content)==null?void 0:tr.parts)==null?void 0:Mt[0])==null?void 0:Rr.text,In=Rn?Rn.split("@"):[];Rn&&(xe.chat.push({role:"model",parts:In}),j({...le}),F.id&&await E2(F.id,{suspects:le.suspects,witnesses:le.witnesses}))}catch(nn){console.error("Chat error:",nn)}w(""),M(!1)},be=()=>{j(null),u(null),y(!1),ge()};return H.useEffect(()=>{C2()||(window.location.href="/auth")},[]),U.jsxs("div",{className:"min-h-screen bg-slate-900 text-white p-6 font-mono",children:[U.jsx("h1",{className:"text-3xl font-bold text-center text-purple-300 mb-6",children:" Murder Mystery"}),!F&&U.jsx(R2,{}),U.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[F&&U.jsx(S2,{onTimerEnd:C,onTimePause:At,onTimeResume:rt}),F&&U.jsx("button",{onClick:L,className:"px-3 py-1 bg-red-600 hover:bg-red-500 rounded text-white",children:"Quit"})]}),!F&&U.jsx("div",{className:"flex justify-center mb-10",children:U.jsx("button",{onClick:ge,disabled:i,className:"px-6 py-3 bg-purple-600 rounded-lg hover:bg-purple-500 disabled:opacity-50",children:i?"Generating...":"Generate Case"})}),n&&U.jsx("p",{className:"text-red-400 text-center mb-4",children:n}),F&&U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"max-w-3xl mx-auto bg-slate-800 p-8 rounded-xl border border-purple-900 shadow-xl mb-10",children:[U.jsx("h2",{className:"text-2xl font-bold text-purple-300 mb-4",children:F.case_title}),U.jsxs("p",{className:"text-sm text-purple-100 mb-2",children:[U.jsx("strong",{children:"Difficulty:"})," ",F.difficulty]}),U.jsx("p",{className:"text-white",children:F.case_overview})]}),U.jsx("div",{className:"flex justify-center gap-6 flex-wrap mb-8",children:U.jsx("h2",{children:"Interact with the characters to know more!"})}),U.jsx("div",{className:"flex justify-center gap-6 flex-wrap mb-8",children:F.suspects.map((le,Ee)=>U.jsxs("div",{className:"flex flex-col items-center",children:[U.jsx("button",{onClick:()=>{u(Ee),m("suspect"),y(!0)},className:"w-24 h-24 rounded-full bg-purple-600 hover:bg-purple-500 text-white flex items-center justify-center shadow-lg overflow-hidden p-0 border-2 border-purple-400",children:U.jsx("img",{src:V(le.name.replace(/\s+/g,""),le.gender),alt:`${le.name} avatar`,className:"w-full h-full object-cover"})}),U.jsx("span",{className:"mt-2 text-sm text-center text-purple-200",children:le.name})]},Ee))}),U.jsx("div",{className:"flex justify-center gap-6 flex-wrap mb-8",children:F.witnesses.map((le,Ee)=>U.jsxs("div",{className:"flex flex-col items-center",children:[U.jsx("button",{onClick:()=>{u(Ee),m("witness"),y(!0)},className:"w-24 h-24 rounded-full bg-blue-600 hover:bg-blue-500 text-white flex items-center justify-center shadow-md overflow-hidden p-0 border-2 border-blue-400",children:U.jsx("img",{src:V(le.name.replace(/\s+/g,""),le.gender),alt:`${le.name} avatar`,className:"w-full h-full object-cover"})}),U.jsx("span",{className:"mt-2 text-sm text-center text-blue-200",children:le.name})]},Ee))}),U.jsx(b2,{caseData:F,onResetGame:be,onSuccessfulSolve:()=>{const le=fe?ne:ne+Math.floor((Date.now()-Y)/1e3);ae(le)}})]}),p&&o!==null&&((ft=F==null?void 0:F[f==="suspect"?"suspects":"witnesses"])==null?void 0:ft[o])&&U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80 backdrop-blur-sm",children:U.jsxs("div",{className:"bg-slate-800 border border-purple-900 p-8 rounded-xl shadow-2xl w-full max-w-xl relative",children:[U.jsx("button",{onClick:()=>y(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-white text-xl",children:""}),(()=>{const le=F[f==="suspect"?"suspects":"witnesses"][o];return U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"text-white space-y-2 mb-6",children:[U.jsxs("h3",{className:"text-xl font-bold text-purple-300",children:[f==="suspect"?" Interviewing":" Witness"," ",le.name]}),Object.entries(le).filter(([Ee])=>!["chat","name","is_murderer"].includes(Ee)).map(([Ee,xe],zt)=>U.jsxs("p",{children:[U.jsxs("strong",{className:"capitalize",children:[Ee,":"]})," ",xe]},zt))]}),U.jsx("div",{className:"bg-slate-700 h-64 rounded p-3 overflow-y-auto text-sm space-y-3",children:le.chat.map((Ee,xe)=>U.jsx("div",{className:`flex ${Ee.role==="user"?"justify-end":"justify-start"}`,children:U.jsx("div",{className:`max-w-xs px-4 py-2 rounded-2xl ${Ee.role==="user"?"bg-purple-600 text-white":"bg-gray-300 text-black"}`,children:Ee.role==="model"&&Ee.parts?U.jsxs("div",{children:[U.jsx("div",{className:"font-normal",children:Ee.parts[0]}),Ee.parts[1]&&U.jsxs("div",{className:"mt-2 font-italic text-xs italic text-gray-600",children:[U.jsx("span",{className:"font-bold",children:"Hint:"})," ",Ee.parts[1]]})]}):U.jsx("div",{children:Ee.content})})},xe))}),U.jsxs("div",{className:"flex mt-4 gap-2",children:[U.jsx("input",{type:"text",value:E,onChange:Ee=>w(Ee.target.value),onKeyDown:Ee=>Ee.key==="Enter"&&Ce(),placeholder:"Ask a question...",className:"flex-1 p-2 rounded bg-slate-600 text-white"}),U.jsx("button",{onClick:Ce,disabled:A,className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded",children:A?"...":"Send"})]})]})})()]})}),O&&U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80 backdrop-blur-sm",children:U.jsxs("div",{className:"bg-slate-800 border border-purple-900 p-8 rounded-xl shadow-2xl w-full max-w-md text-center",children:[U.jsx("h2",{className:"text-xl text-purple-200 font-semibold mb-4",children:"Quit Game?"}),U.jsx("p",{className:"text-white mb-6",children:"Are you sure you want to quit the game?"}),U.jsxs("div",{className:"flex justify-center gap-4",children:[U.jsx("button",{onClick:()=>{S(!1),$(!1)},className:"px-4 py-2 bg-red-600 hover:bg-red-500 rounded text-white",children:"Yes, Quit"}),U.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded text-white",children:"Cancel"})]})]})})]})},P2=({children:i})=>{const e=fo(),n=ci(),[s,o]=H.useState(!0),[u,f]=H.useState(!1);return H.useEffect(()=>{const m=$h(p=>{f(!!p),o(!1),p||e("/auth",{state:{from:n}})});return()=>m()},[e,n]),s?U.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:U.jsx("p",{className:"text-purple-300",children:"Loading..."})}):u?i:null};function k2(){return U.jsxs(U.Fragment,{children:[U.jsx(g2,{}),U.jsxs(wS,{children:[U.jsx(Ml,{path:"/",element:U.jsx(y2,{})}),U.jsx(Ml,{path:"/auth",element:U.jsx(I2,{})}),U.jsx(Ml,{path:"/gameStart",element:U.jsx(P2,{children:U.jsx(V2,{})})}),U.jsx(Ml,{path:"*",element:U.jsx(TS,{to:"/"})})]})]})}const U2=OA.createRoot(document.getElementById("root"));U2.render(U.jsx(AA.StrictMode,{children:U.jsx(KS,{children:U.jsx(w2,{children:U.jsx(k2,{})})})}));
